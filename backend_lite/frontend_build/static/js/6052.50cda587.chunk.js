/*! For license information please see 6052.50cda587.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6052],{2316:(e,t,s)=>{s.d(t,{pr:()=>c});var a=s(3986),n=s(816),i=s(9379),l=s(4131),r=s(4893);const o={status:"all",severity:"all",type:"all",assignee:"all",sortBy:"severity",sortOrder:"desc"},c=(0,l.v)()((0,r.Zr)((e,t)=>({itemsByCaseId:{},filters:(0,i.A)({},o),reportItems:{},setStatus:(t,s,a)=>e(e=>{const n=e.itemsByCaseId[t]||{},l=n[s];return{itemsByCaseId:(0,i.A)((0,i.A)({},e.itemsByCaseId),{},{[t]:(0,i.A)((0,i.A)({},n),{},{[s]:{contradictionId:s,status:a,assignment:null===l||void 0===l?void 0:l.assignment,addedToReport:(null===l||void 0===l?void 0:l.addedToReport)||!1,updatedAt:(new Date).toISOString()}})})}}),setAssignment:(t,s,a)=>e(e=>{const n=e.itemsByCaseId[t]||{},l=n[s];return{itemsByCaseId:(0,i.A)((0,i.A)({},e.itemsByCaseId),{},{[t]:(0,i.A)((0,i.A)({},n),{},{[s]:{contradictionId:s,status:(null===l||void 0===l?void 0:l.status)||"new",assignment:a,addedToReport:(null===l||void 0===l?void 0:l.addedToReport)||!1,updatedAt:(new Date).toISOString()}})})}}),completeAssignment:(t,s)=>e(e=>{const a=e.itemsByCaseId[t]||{},n=a[s];return null!==n&&void 0!==n&&n.assignment?{itemsByCaseId:(0,i.A)((0,i.A)({},e.itemsByCaseId),{},{[t]:(0,i.A)((0,i.A)({},a),{},{[s]:(0,i.A)((0,i.A)({},n),{},{assignment:(0,i.A)((0,i.A)({},n.assignment),{},{completedAt:(new Date).toISOString()}),updatedAt:(new Date).toISOString()})})})}:e}),addToReport:(t,s)=>e(e=>{const a=e.itemsByCaseId[t]||{},n=a[s],l=e.reportItems[t]||[];return{itemsByCaseId:(0,i.A)((0,i.A)({},e.itemsByCaseId),{},{[t]:(0,i.A)((0,i.A)({},a),{},{[s]:{contradictionId:s,status:(null===n||void 0===n?void 0:n.status)||"new",assignment:null===n||void 0===n?void 0:n.assignment,addedToReport:!0,updatedAt:(new Date).toISOString()}})}),reportItems:(0,i.A)((0,i.A)({},e.reportItems),{},{[t]:l.includes(s)?l:[...l,s]})}}),removeFromReport:(t,s)=>e(e=>{const a=e.itemsByCaseId[t]||{},n=a[s],l=e.reportItems[t]||[];return{itemsByCaseId:(0,i.A)((0,i.A)({},e.itemsByCaseId),{},{[t]:(0,i.A)((0,i.A)({},a),{},{[s]:(0,i.A)((0,i.A)({},n),{},{contradictionId:s,status:(null===n||void 0===n?void 0:n.status)||"new",addedToReport:!1,updatedAt:(new Date).toISOString()})})}),reportItems:(0,i.A)((0,i.A)({},e.reportItems),{},{[t]:l.filter(e=>e!==s)})}}),clearReport:t=>e(e=>({reportItems:(0,i.A)((0,i.A)({},e.reportItems),{},{[t]:[]})})),setFilter:(t,s)=>e(e=>({filters:(0,i.A)((0,i.A)({},e.filters),{},{[t]:s})})),resetFilters:()=>e({filters:(0,i.A)({},o)}),getItem:(e,s)=>{var a;return null===(a=t().itemsByCaseId[e])||void 0===a?void 0:a[s]},getItemsForCase:e=>{const s=t().itemsByCaseId[e]||{};return Object.values(s)},getReportItems:e=>t().reportItems[e]||[],getStats:e=>{const s=Object.values(t().itemsByCaseId[e]||{});return{total:s.length,new:s.filter(e=>"new"===e.status).length,confirmed:s.filter(e=>"confirmed"===e.status).length,notContradiction:s.filter(e=>"not_contradiction"===e.status).length,needsEvidence:s.filter(e=>"needs_evidence"===e.status).length,usedInReport:s.filter(e=>"used_in_report"===e.status).length,assigned:s.filter(e=>e.assignment&&!e.assignment.completedAt).length}},reset:()=>e({itemsByCaseId:{},filters:(0,i.A)({},o),reportItems:{}}),resetCase:t=>e(e=>{const s=e.itemsByCaseId,{[t]:i}=s,l=(0,a.A)(s,[t].map(n.A)),r=e.reportItems,{[t]:o}=r;return{itemsByCaseId:l,reportItems:(0,a.A)(r,[t].map(n.A))}})}),{name:"jethro-workbench",partialize:e=>({itemsByCaseId:e.itemsByCaseId,reportItems:e.reportItems})}))},2754:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},4965:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},5711:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},6052:(e,t,s)=>{s.r(t),s.d(t,{CaseReportPage:()=>M,default:()=>O});var a=s(5043),n=s(3216),i=s(5475),l=s(2532),r=s(2024),o=s(5692),c=s(1680),d=s(6328),m=s(9688),x=s(9379),h=s(7719),p=s(6403);const u=(0,s(7784).A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var g=s(5087),b=s(4651),v=s(5711),j=s(2382),y=s(9855),f=s(1360),w=s(8693),A=s(7104),N=s(2754),I=s(4965),C=s(2316),k=s(579);const S={summary:{label:"\u05e1\u05d9\u05db\u05d5\u05dd",icon:c.A,color:"text-blue-400"},contradiction:{label:"\u05e1\u05ea\u05d9\u05e8\u05d4",icon:h.A,color:"text-amber-400"},evidence:{label:"\u05e8\u05d0\u05d9\u05d4",icon:p.A,color:"text-green-400"},claim:{label:"\u05d8\u05e2\u05e0\u05d4",icon:c.A,color:"text-purple-400"},custom:{label:"\u05de\u05d5\u05ea\u05d0\u05dd \u05d0\u05d9\u05e9\u05d9\u05ea",icon:c.A,color:"text-gray-400"}},B=e=>{let{section:t,onUpdate:s,onDelete:n,onMoveUp:i,onMoveDown:l,isFirst:r,isLast:o}=e;const[c,d]=(0,a.useState)(!0),m=S[t.type],h=m.icon;return(0,k.jsxs)("div",{className:"\n        border rounded-lg overflow-hidden\n        ".concat(t.isVisible?"border-slate-600":"border-slate-700 opacity-60","\n      "),children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-800/50",children:[(0,k.jsx)(u,{className:"w-4 h-4 text-white/30 cursor-grab"}),(0,k.jsx)(h,{className:"w-4 h-4 ".concat(m.color)}),(0,k.jsx)("input",{type:"text",value:t.title,onChange:e=>s((0,x.A)((0,x.A)({},t),{},{title:e.target.value})),className:"flex-1 bg-transparent text-sm font-medium text-white focus:outline-none",placeholder:"\u05db\u05d5\u05ea\u05e8\u05ea \u05d4\u05e7\u05d8\u05e2"}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("button",{onClick:()=>s((0,x.A)((0,x.A)({},t),{},{isVisible:!t.isVisible})),className:"p-1 text-white/40 hover:text-white hover:bg-slate-700 rounded transition-colors",title:t.isVisible?"\u05d4\u05e1\u05ea\u05e8":"\u05d4\u05e6\u05d2",children:t.isVisible?(0,k.jsx)(g.A,{className:"w-3.5 h-3.5"}):(0,k.jsx)(b.A,{className:"w-3.5 h-3.5"})}),(0,k.jsx)("button",{onClick:i,disabled:r,className:"p-1 text-white/40 hover:text-white hover:bg-slate-700 rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"\u05d4\u05d6\u05d6 \u05dc\u05de\u05e2\u05dc\u05d4",children:(0,k.jsx)(v.A,{className:"w-3.5 h-3.5"})}),(0,k.jsx)("button",{onClick:l,disabled:o,className:"p-1 text-white/40 hover:text-white hover:bg-slate-700 rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"\u05d4\u05d6\u05d6 \u05dc\u05de\u05d8\u05d4",children:(0,k.jsx)(j.A,{className:"w-3.5 h-3.5"})}),(0,k.jsx)("button",{onClick:()=>d(!c),className:"p-1 text-white/40 hover:text-white hover:bg-slate-700 rounded transition-colors",children:(0,k.jsx)(j.A,{className:"w-3.5 h-3.5 transition-transform ".concat(c?"rotate-180":"")})}),(0,k.jsx)("button",{onClick:n,className:"p-1 text-white/40 hover:text-red-400 hover:bg-slate-700 rounded transition-colors",title:"\u05de\u05d7\u05e7",children:(0,k.jsx)(y.A,{className:"w-3.5 h-3.5"})})]})]}),c&&(0,k.jsx)("div",{className:"p-3 bg-slate-900/50",children:(0,k.jsx)("textarea",{value:t.content,onChange:e=>s((0,x.A)((0,x.A)({},t),{},{content:e.target.value})),className:"w-full min-h-[100px] p-3 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white/80 resize-y focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"\u05ea\u05d5\u05db\u05df \u05d4\u05e7\u05d8\u05e2...",dir:"rtl"})})]})},_=e=>{let{onAdd:t,contradictions:s,reportContradictionIds:n,onAddContradiction:i}=e;const[l,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),d=s.filter(e=>!n.has(e.id));return(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsxs)("button",{onClick:()=>r(!l),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:[(0,k.jsx)(f.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"text-sm font-medium",children:"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d8\u05e2"})]}),l&&(0,k.jsxs)("div",{className:"absolute top-full right-0 mt-2 z-20 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-hidden",children:[Object.keys(S).map(e=>{const s=S[e],a=s.icon;return(0,k.jsxs)("button",{onClick:()=>{"contradiction"===e?c(!o):(t(e),r(!1))},className:"w-full flex items-center gap-3 px-4 py-2.5 text-white/80 hover:bg-slate-700 transition-colors",children:[(0,k.jsx)(a,{className:"w-4 h-4 ".concat(s.color)}),(0,k.jsx)("span",{className:"text-sm",children:s.label}),"contradiction"===e&&d.length>0&&(0,k.jsxs)("span",{className:"mr-auto text-xs text-white/40",children:["(",d.length,")"]})]},e)}),o&&d.length>0&&(0,k.jsx)("div",{className:"border-t border-slate-700 max-h-48 overflow-y-auto",children:d.map(e=>(0,k.jsxs)("button",{onClick:()=>{i(e),r(!1),c(!1)},className:"w-full px-4 py-2 text-right text-xs text-white/60 hover:bg-slate-700 transition-colors",children:[(0,k.jsx)("div",{className:"truncate",children:e.claim_a}),(0,k.jsx)("div",{className:"text-amber-400/60 text-[10px]",children:"vs"}),(0,k.jsx)("div",{className:"truncate",children:e.claim_b})]},e.id))})]})]})},D=e=>{let{report:t,onClose:s}=e;const a=t.sections.filter(e=>e.isVisible);return(0,k.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-auto rounded-lg shadow-2xl",children:[(0,k.jsxs)("div",{className:"sticky top-0 bg-white border-b p-4 flex justify-between items-center",children:[(0,k.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:t.title}),(0,k.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"\u05e1\u05d2\u05d5\u05e8 \u05ea\u05e6\u05d5\u05d2\u05d4 \u05de\u05e7\u05d3\u05d9\u05de\u05d4"})]}),(0,k.jsxs)("div",{className:"p-8",dir:"rtl",children:[(0,k.jsxs)("div",{className:"mb-8 pb-4 border-b-2",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),(0,k.jsxs)("p",{className:"text-gray-600",children:["\u05ea\u05d9\u05e7: ",t.caseName]}),(0,k.jsxs)("p",{className:"text-gray-500 text-sm",children:["\u05ea\u05d0\u05e8\u05d9\u05da: ",new Date(t.updatedAt).toLocaleDateString("he-IL")]})]}),a.map((e,t)=>(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,k.jsxs)("span",{className:"text-gray-400",children:[t+1,"."]}),e.title]}),(0,k.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.content||"\u05d0\u05d9\u05df \u05ea\u05d5\u05db\u05df"})]},e.id)),(0,k.jsx)("div",{className:"mt-12 pt-4 border-t text-center text-gray-400 text-sm",children:"\u05e0\u05d5\u05e6\u05e8 \u05d1\u05d0\u05de\u05e6\u05e2\u05d5\u05ea \u05d9\u05ea\u05e8\u05d5 AI"})]})]})})},V=e=>{let{caseId:t,caseName:s,contradictions:n,onExport:i,onSave:l,className:r=""}=e;const{getReportItems:o}=(0,C.pr)(),[d,m]=(new Set(o(t)),(0,a.useState)({id:"report-".concat(Date.now()),title:"\u05d3\u05d5\u05d7 \u05e0\u05d9\u05ea\u05d5\u05d7 - ".concat(s),caseId:t,caseName:s,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),sections:[{id:"summary-1",type:"summary",title:"\u05ea\u05e7\u05e6\u05d9\u05e8 \u05de\u05e0\u05d4\u05dc\u05d9\u05dd",content:"",order:0,isVisible:!0}]})),[h,p]=(0,a.useState)(!1),u=(0,a.useCallback)(e=>{m(t=>(0,x.A)((0,x.A)((0,x.A)({},t),e),{},{updatedAt:(new Date).toISOString()}))},[]),b=(0,a.useCallback)((e,t,s,a)=>{const n=S[e],i={id:"section-".concat(Date.now()),type:e,title:s||n.label,content:t||"",referenceId:a,order:d.sections.length,isVisible:!0};u({sections:[...d.sections,i]})},[d.sections,u]),v=(0,a.useCallback)(e=>{const t="\u05d8\u05e2\u05e0\u05d4 \u05d0\u05f3: ".concat(e.claim_a,"\n\n\u05d8\u05e2\u05e0\u05d4 \u05d1\u05f3: ").concat(e.claim_b,"\n\n").concat(e.explanation?"\u05d4\u05e1\u05d1\u05e8: ".concat(e.explanation):"");b("contradiction",t,"\u05e1\u05ea\u05d9\u05e8\u05d4 - ".concat(e.type),e.id)},[b]),y=(0,a.useCallback)((e,t)=>{u({sections:d.sections.map(s=>s.id===e?(0,x.A)((0,x.A)({},s),t):s)})},[d.sections,u]),f=(0,a.useCallback)(e=>{u({sections:d.sections.filter(t=>t.id!==e)})},[d.sections,u]),V=(0,a.useCallback)((e,t)=>{const s=d.sections.findIndex(t=>t.id===e);if(-1===s)return;const a="up"===t?s-1:s+1;if(a<0||a>=d.sections.length)return;const n=[...d.sections];[n[s],n[a]]=[n[a],n[s]],u({sections:n})},[d.sections,u]),M=(0,a.useCallback)(e=>{"print"===e&&window.print(),null===i||void 0===i||i(e)},[i]),O=(0,a.useMemo)(()=>new Set(d.sections.filter(e=>"contradiction"===e.type&&e.referenceId).map(e=>e.referenceId)),[d.sections]);return(0,k.jsxs)("div",{className:"flex flex-col h-full ".concat(r),dir:"rtl",children:[(0,k.jsxs)("div",{className:"px-4 py-3 border-b border-slate-700 bg-slate-800/50",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)(c.A,{className:"w-5 h-5 text-blue-400"}),(0,k.jsx)("input",{type:"text",value:d.title,onChange:e=>u({title:e.target.value}),className:"text-lg font-semibold text-white bg-transparent focus:outline-none focus:ring-1 focus:ring-blue-500 rounded px-2 py-1"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-1.5 text-white/60 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:[(0,k.jsx)(g.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"text-sm",children:"\u05ea\u05e6\u05d5\u05d2\u05d4 \u05de\u05e7\u05d3\u05d9\u05de\u05d4"})]}),l&&(0,k.jsxs)("button",{onClick:()=>l(d),className:"flex items-center gap-2 px-3 py-1.5 text-white/60 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:[(0,k.jsx)(w.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"text-sm",children:"\u05e9\u05de\u05d5\u05e8"})]}),(0,k.jsxs)("div",{className:"relative group",children:[(0,k.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[(0,k.jsx)(A.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"text-sm",children:"\u05d9\u05d9\u05e6\u05d5\u05d0"}),(0,k.jsx)(j.A,{className:"w-3 h-3"})]}),(0,k.jsxs)("div",{className:"hidden group-hover:block absolute top-full left-0 mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-hidden",children:[(0,k.jsxs)("button",{onClick:()=>M("pdf"),className:"w-full flex items-center gap-2 px-4 py-2 text-white/80 hover:bg-slate-700 transition-colors",children:[(0,k.jsx)(A.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"text-sm",children:"PDF"})]}),(0,k.jsxs)("button",{onClick:()=>M("print"),className:"w-full flex items-center gap-2 px-4 py-2 text-white/80 hover:bg-slate-700 transition-colors",children:[(0,k.jsx)(N.A,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"text-sm",children:"\u05d4\u05d3\u05e4\u05e1\u05d4"})]})]})]})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-4 text-xs text-white/40",children:[(0,k.jsxs)("span",{children:[d.sections.length," \u05e7\u05d8\u05e2\u05d9\u05dd"]}),(0,k.jsx)("span",{children:"\u2022"}),(0,k.jsxs)("span",{children:[d.sections.filter(e=>"contradiction"===e.type).length," \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea"]}),(0,k.jsx)("span",{children:"\u2022"}),(0,k.jsxs)("span",{children:["\u05e2\u05d5\u05d3\u05db\u05df: ",new Date(d.updatedAt).toLocaleTimeString("he-IL")]})]})]}),(0,k.jsx)("div",{className:"px-4 py-3 border-b border-slate-700 bg-slate-900/50",children:(0,k.jsx)(_,{onAdd:b,contradictions:n,reportContradictionIds:O,onAddContradiction:v})}),(0,k.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===d.sections.length?(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,k.jsx)(I.A,{className:"w-12 h-12 text-white/20 mb-3"}),(0,k.jsx)("p",{className:"text-white/40 text-sm mb-2",children:"\u05d4\u05d3\u05d5\u05d7 \u05e8\u05d9\u05e7"}),(0,k.jsx)("p",{className:"text-white/30 text-xs",children:"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d8\u05e2\u05d9\u05dd \u05dc\u05d4\u05ea\u05d7\u05dc\u05ea \u05d1\u05e0\u05d9\u05d9\u05ea \u05d4\u05d3\u05d5\u05d7"})]}):d.sections.map((e,t)=>(0,k.jsx)(B,{section:e,onUpdate:t=>y(e.id,{title:t.title,content:t.content,isVisible:t.isVisible}),onDelete:()=>f(e.id),onMoveUp:()=>V(e.id,"up"),onMoveDown:()=>V(e.id,"down"),isFirst:0===t,isLast:t===d.sections.length-1},e.id))}),h&&(0,k.jsx)(D,{report:d,onClose:()=>p(!1)})]})};function M(){const{caseId:e}=(0,n.g)(),{data:t,isLoading:s}=(0,l.I)({queryKey:["case",e],queryFn:()=>(0,m.apiGet)("/api/cases/".concat(e)),enabled:!!e}),x=(0,a.useMemo)(()=>null!==t&&void 0!==t&&t.contradictions?(t.contradictions||[]).map((e,t)=>({id:e.id||"contradiction-".concat(t),claim_a:e.statement_a||e.claim_a||e.text_a||"",claim_b:e.statement_b||e.claim_b||e.text_b||"",severity:e.severity||"medium",type:e.type||e.contradiction_type||"general",sources:[e.source_a,e.source_b].filter(Boolean),explanation:e.explanation||e.description||""})):[],[t]);return s?(0,k.jsx)("div",{className:"h-full flex items-center justify-center bg-slate-950",children:(0,k.jsx)(r.A,{className:"w-8 h-8 text-blue-400 animate-spin"})}):e?(0,k.jsxs)("div",{className:"h-full flex flex-col bg-slate-950",dir:"rtl",children:[(0,k.jsx)("div",{className:"px-6 py-4 border-b border-slate-800 bg-slate-900",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)(i.N_,{to:"/cases/".concat(e),className:"p-2 text-white/60 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,k.jsx)(o.A,{className:"w-5 h-5"})}),(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:(0,k.jsx)(c.A,{className:"text-blue-400 w-5 h-5"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-lg font-semibold text-white",children:"\u05d1\u05e0\u05d9\u05d9\u05ea \u05d3\u05d5\u05d7"}),(0,k.jsx)("p",{className:"text-sm text-white/50",children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.case_name)||"\u05ea\u05d9\u05e7"})]})]})]})}),(0,k.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,k.jsx)(V,{caseId:e,caseName:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.case_name)||"\u05ea\u05d9\u05e7",contradictions:x,onSave:e=>{console.log("Saving report:",e),d.oR.success("\u05d4\u05d3\u05d5\u05d7 \u05e0\u05e9\u05de\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4");try{const t=JSON.parse(localStorage.getItem("jethro-reports")||"{}");t[e.id]=e,localStorage.setItem("jethro-reports",JSON.stringify(t))}catch(t){console.error("Failed to save report to localStorage:",t)}},onExport:e=>{"print"!==e?d.oR.info("\u05d9\u05d9\u05e6\u05d5\u05d0 \u05dc-".concat(e.toUpperCase()," \u05d9\u05d4\u05d9\u05d4 \u05d6\u05de\u05d9\u05df \u05d1\u05e7\u05e8\u05d5\u05d1")):window.print()}})})]}):(0,k.jsx)("div",{className:"h-full flex items-center justify-center bg-slate-950",children:(0,k.jsx)("p",{className:"text-white/60",children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05ea\u05d9\u05e7"})})}const O=M},6403:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]])},7104:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},8693:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}}]);
//# sourceMappingURL=6052.50cda587.chunk.js.map