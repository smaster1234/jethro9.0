/*! For license information please see 6282.14d3f4d7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6282],{764:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},2054:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6245:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6282:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(9379),r=s(5043),c=s(3216),l=s(2054),i=s(6245),n=s(2024),d=s(7719),x=s(9233),o=s(764),h=s(7856),m=s(516),u=s(9688),p=s(8018),b=s(579);function f(){const e=(0,c.Zp)(),[t,s]=(0,r.useState)([]),[f,j]=(0,r.useState)(!0),[y,g]=(0,r.useState)(null),N=(0,r.useCallback)(async()=>{try{j(!0);const e=await(0,u.apiGet)("/api/notifications",{showErrorToast:!1});s(e||[]),g(null)}catch(e){p.v.error("Failed to fetch notifications:",e),g("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea")}finally{j(!1)}},[]);(0,r.useEffect)(()=>{N()},[N]);const v=t=>{(async e=>{try{await(0,u.$P)("/api/notifications/".concat(e,"/read"),{},{showErrorToast:!1}),s(t=>t.map(t=>t.id===e?(0,a.A)((0,a.A)({},t),{},{read:!0}):t))}catch(t){p.v.error("Failed to mark notification as read:",t)}})(t.id),t.action_url&&e(t.action_url)},w=e=>{switch(e){case"success":return(0,b.jsx)(l.A,{className:"text-green-400",size:24});case"warning":return(0,b.jsx)(d.A,{className:"text-amber-400",size:24});case"error":return(0,b.jsx)(i.A,{className:"text-red-400",size:24});default:return(0,b.jsx)(h.A,{className:"text-blue-400",size:24})}},k=e=>{switch(e){case"success":return"border-green-500/30 bg-green-500/10";case"warning":return"border-amber-500/30 bg-amber-500/10";case"error":return"border-red-500/30 bg-red-500/10";default:return"border-blue-500/30 bg-blue-500/10"}},A=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime(),a=Math.floor(s/36e5),r=Math.floor(a/24);return a<1?"\u05dc\u05e4\u05e0\u05d9 \u05e4\u05d7\u05d5\u05ea \u05de\u05e9\u05e2\u05d4":1===a?"\u05dc\u05e4\u05e0\u05d9 \u05e9\u05e2\u05d4":a<24?"\u05dc\u05e4\u05e0\u05d9 ".concat(a," \u05e9\u05e2\u05d5\u05ea"):1===r?"\u05d0\u05ea\u05de\u05d5\u05dc":"\u05dc\u05e4\u05e0\u05d9 ".concat(r," \u05d9\u05de\u05d9\u05dd")};return f?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",dir:"rtl",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(n.A,{className:"animate-spin h-12 w-12 text-blue-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-blue-300",children:"\u05d8\u05d5\u05e2\u05df \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea..."})]})}):(0,b.jsxs)("div",{className:"p-8 max-w-3xl mx-auto",dir:"rtl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,b.jsx)(x.A,{className:"text-white",size:28})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"\u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}),(0,b.jsxs)("p",{className:"text-blue-300",children:[t.filter(e=>!e.read).length," \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea \u05e9\u05dc\u05d0 \u05e0\u05e7\u05e8\u05d0\u05d5"]})]})]}),(0,b.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:[(0,b.jsx)(m.A,{size:18}),(0,b.jsx)("span",{children:"\u05e8\u05e2\u05e0\u05df"})]})]}),y&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6 text-red-300",children:y}),0===t.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(x.A,{className:"mx-auto mb-4 text-gray-500",size:64}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"\u05d0\u05d9\u05df \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"}),(0,b.jsx)("p",{className:"text-gray-400",children:"\u05db\u05e9\u05d9\u05d4\u05d9\u05d5 \u05e2\u05d3\u05db\u05d5\u05e0\u05d9\u05dd \u05d7\u05e9\u05d5\u05d1\u05d9\u05dd, \u05d4\u05dd \u05d9\u05d5\u05e4\u05d9\u05e2\u05d5 \u05db\u05d0\u05df"})]}):(0,b.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,b.jsx)("div",{onClick:()=>v(e),className:"relative rounded-xl p-5 border cursor-pointer transition-all hover:scale-[1.01] ".concat(k(e.type)," ").concat(e.read?"opacity-60":""),children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[w(e.type),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:e.title}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:A(e.created_at)})]}),(0,b.jsx)("p",{className:"text-gray-300 text-sm",children:e.message}),e.action_url&&(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-blue-400 text-sm",children:[(0,b.jsx)(o.A,{size:14}),(0,b.jsx)("span",{children:"\u05dc\u05d7\u05e5 \u05dc\u05e4\u05e8\u05d8\u05d9\u05dd"})]})]}),!e.read&&(0,b.jsx)("div",{className:"absolute top-4 left-4",children:(0,b.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"})})]})},e.id))})]})}},7719:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7856:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}}]);
//# sourceMappingURL=6282.14d3f4d7.chunk.js.map