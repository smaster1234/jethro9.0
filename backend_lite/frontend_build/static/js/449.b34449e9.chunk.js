/*! For license information please see 449.b34449e9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[449],{449:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var r=t(9379),l=t(5043),a=t(3216),i=t(2024),o=t(5692),d=t(4651),n=t(5087),c=t(1680),m=t(5727),x=t(5327),u=t(4459),h=t(6328),p=t(2240),b=t(9688),w=t(8018),j=t(579);const g=()=>{const e=(0,a.Zp)(),s=(0,p.useAuthStore)(e=>e.login),[t,g]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),[N,y]=(0,l.useState)({name:"",email:"",password:"",confirmPassword:""}),[A,k]=(0,l.useState)(!1),[z,C]=(0,l.useState)({}),P=e=>s=>{y(t=>(0,r.A)((0,r.A)({},t),{},{[e]:s.target.value})),z[e]&&C(s=>(0,r.A)((0,r.A)({},s),{},{[e]:null}))};return(0,j.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-slate-900 to-purple-900 flex items-center justify-center p-4",children:(0,j.jsxs)("div",{className:"w-full max-w-md",children:[(0,j.jsxs)("div",{className:"text-center mb-8",children:[(0,j.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4",children:(0,j.jsx)(c.A,{className:"text-white",size:32})}),(0,j.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent mb-2",children:"\u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05d9\u05ea\u05e8\u05d5"}),(0,j.jsx)("p",{className:"text-blue-200",children:"\u05e6\u05d5\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df \u05d7\u05d3\u05e9 \u05d5\u05d4\u05ea\u05d7\u05dc \u05dc\u05e0\u05ea\u05d7 \u05ea\u05d9\u05e7\u05d9\u05dd"})]}),(0,j.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20",children:[(0,j.jsxs)("form",{onSubmit:async t=>{if(null===t||void 0===t||t.preventDefault(),(()=>{const e={};return N.name.trim()||(e.name="\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05e9\u05dd \u05de\u05dc\u05d0"),N.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)||(e.email="\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4"):e.email="\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",N.password?N.password.length<8?e.password="\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 8 \u05ea\u05d5\u05d5\u05d9\u05dd":/[A-Z]/.test(N.password)?/[a-z]/.test(N.password)?/\d/.test(N.password)?/[!@#$%^&*()_+\-=[\]{}|;:,.<>?]/.test(N.password)||(e.password="\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea \u05ea\u05d5 \u05de\u05d9\u05d5\u05d7\u05d3 (!@#$%^&*)"):e.password="\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea \u05e1\u05e4\u05e8\u05d4 \u05d0\u05d7\u05ea":e.password="\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea \u05d0\u05d5\u05ea \u05e7\u05d8\u05e0\u05d4 \u05d0\u05d7\u05ea (a-z)":e.password="\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea \u05d0\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4 \u05d0\u05d7\u05ea (A-Z)":e.password="\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05e1\u05d9\u05e1\u05de\u05d4",N.password!==N.confirmPassword&&(e.confirmPassword="\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05dc\u05d0 \u05ea\u05d5\u05d0\u05de\u05d5\u05ea"),C(e),0===Object.keys(e).length})()){k(!0);try{w.v.log("\ud83d\udcdd Attempting registration for:",N.email);const t=await(0,b.$P)("/api/auth/register",{email:N.email,password:N.password,name:N.name},{showErrorToast:!0});if(w.v.log("\u2705 Registration successful"),t.token&&t.user){var l;const a=(null===(l=t.user.name)||void 0===l?void 0:l.trim())||t.user.email.split("@")[0]||"\u05de\u05e9\u05ea\u05de\u05e9",i="admin"===t.user.role||"moderator"===t.user.role||"user"===t.user.role?t.user.role:"user";s(t.token,(0,r.A)((0,r.A)({},t.user),{},{name:a,role:i})),h.oR.success("\u05e0\u05e8\u05e9\u05de\u05ea \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4! \u05d1\u05e8\u05d5\u05da \u05d4\u05d1\u05d0 \u05dc\u05de\u05e2\u05e8\u05db\u05ea",{description:"\u05d0\u05e0\u05d7\u05e0\u05d5 \u05de\u05db\u05d9\u05e0\u05d9\u05dd \u05dc\u05da \u05de\u05d3\u05e8\u05d9\u05da \u05e7\u05e6\u05e8..."}),setTimeout(()=>{e("/")},500)}else h.oR.success("\u05e0\u05e8\u05e9\u05de\u05ea \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4! \u05e0\u05e9\u05dc\u05d7 \u05d0\u05dc\u05d9\u05da \u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d9\u05de\u05d5\u05ea",{description:"\u05d0\u05e0\u05d0 \u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05ea\u05d9\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0\u05e8 \u05e9\u05dc\u05da"}),e("/login")}catch(a){w.v.error("\u274c Registration error:",a);const e=a instanceof Error?a.message:"";e.includes("already registered")||e.includes("\u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05dd")?C({email:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05de\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea"}):e.includes("disabled")||e.includes("\u05de\u05d5\u05e9\u05d1\u05ea")?h.oR.error("\u05d4\u05e8\u05e9\u05de\u05d4 \u05e2\u05e6\u05de\u05d9\u05ea \u05de\u05d5\u05e9\u05d1\u05ea\u05ea \u05db\u05e8\u05d2\u05e2. \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05ea\u05de\u05d9\u05db\u05d4."):h.oR.error(e||"\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05e0\u05db\u05e9\u05dc\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1.")}finally{k(!1)}}},className:"space-y-5",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-semibold text-white mb-2",htmlFor:"name",children:"\u05e9\u05dd \u05de\u05dc\u05d0"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(u.A,{className:"absolute right-3 top-3 text-blue-300",size:20}),(0,j.jsx)("input",{id:"name",type:"text",value:N.name,onChange:P("name"),className:"w-full pr-10 pl-4 py-3 bg-white/10 border ".concat(z.name?"border-red-500":"border-white/20"," rounded-lg text-white placeholder-blue-200"),placeholder:"\u05d9\u05e9\u05e8\u05d0\u05dc \u05d9\u05e9\u05e8\u05d0\u05dc\u05d9"})]}),z.name&&(0,j.jsx)("p",{className:"text-red-400 text-sm mt-1",children:z.name})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-semibold text-white mb-2",htmlFor:"email",children:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(x.A,{className:"absolute right-3 top-3 text-blue-300",size:20}),(0,j.jsx)("input",{id:"email",type:"email",value:N.email,onChange:P("email"),className:"w-full pr-10 pl-4 py-3 bg-white/10 border ".concat(z.email?"border-red-500":"border-white/20"," rounded-lg text-white placeholder-blue-200"),placeholder:"your@email.com"})]}),z.email&&(0,j.jsx)("p",{className:"text-red-400 text-sm mt-1",children:z.email})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-semibold text-white mb-2",htmlFor:"password",children:"\u05e1\u05d9\u05e1\u05de\u05d4"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(m.A,{className:"absolute right-3 top-3 text-blue-300",size:20}),(0,j.jsx)("input",{id:"password",type:t?"text":"password",value:N.password,onChange:P("password"),className:"w-full pr-10 pl-12 py-3 bg-white/10 border ".concat(z.password?"border-red-500":"border-white/20"," rounded-lg text-white placeholder-blue-200"),placeholder:"8+ \u05ea\u05d5\u05d5\u05d9\u05dd, \u05d0\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4, \u05e7\u05d8\u05e0\u05d4, \u05de\u05e1\u05e4\u05e8 \u05d5\u05ea\u05d5 \u05de\u05d9\u05d5\u05d7\u05d3"}),(0,j.jsx)("button",{type:"button",onClick:()=>g(!t),className:"absolute left-3 top-3 text-blue-300",children:t?(0,j.jsx)(d.A,{size:20}):(0,j.jsx)(n.A,{size:20})})]}),z.password&&(0,j.jsx)("p",{className:"text-red-400 text-sm mt-1",children:z.password})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-semibold text-white mb-2",htmlFor:"confirmPassword",children:"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4"}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(m.A,{className:"absolute right-3 top-3 text-blue-300",size:20}),(0,j.jsx)("input",{id:"confirmPassword",type:f?"text":"password",value:N.confirmPassword,onChange:P("confirmPassword"),className:"w-full pr-10 pl-12 py-3 bg-white/10 border ".concat(z.confirmPassword?"border-red-500":"border-white/20"," rounded-lg text-white placeholder-blue-200"),placeholder:"\u05d4\u05d6\u05df \u05e9\u05d5\u05d1 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d4"}),(0,j.jsx)("button",{type:"button",onClick:()=>v(!f),className:"absolute left-3 top-3 text-blue-300",children:f?(0,j.jsx)(d.A,{size:20}):(0,j.jsx)(n.A,{size:20})})]}),z.confirmPassword&&(0,j.jsx)("p",{className:"text-red-400 text-sm mt-1",children:z.confirmPassword})]}),(0,j.jsx)("button",{type:"submit",disabled:A,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-lg font-semibold hover:from-green-600 hover:to-emerald-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.A,{className:"animate-spin",size:20}),(0,j.jsx)("span",{children:"\u05e0\u05e8\u05e9\u05dd..."})]}):"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d7\u05e9\u05d1\u05d5\u05df"})]}),(0,j.jsx)("div",{className:"mt-6 text-center",children:(0,j.jsxs)("button",{onClick:()=>e("/login"),className:"text-blue-300 hover:text-white transition-colors text-sm flex items-center justify-center gap-2 mx-auto",children:[(0,j.jsx)(o.A,{size:16}),"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05d3\u05e3 \u05d4\u05db\u05e0\u05d9\u05e1\u05d4"]})})]}),(0,j.jsxs)("p",{className:"text-center text-blue-300 text-xs mt-4",children:["\u05d1\u05d4\u05e8\u05e9\u05de\u05d4 \u05d0\u05ea\u05d4 \u05de\u05e1\u05db\u05d9\u05dd \u05dc",(0,j.jsx)("button",{onClick:()=>e("/legal"),className:"text-blue-200 hover:text-white underline mx-1",children:"\u05ea\u05e0\u05d0\u05d9 \u05d4\u05e9\u05d9\u05de\u05d5\u05e9"}),"\u05d5\u05dc",(0,j.jsx)("button",{onClick:()=>e("/legal"),className:"text-blue-200 hover:text-white underline mx-1",children:"\u05de\u05d3\u05d9\u05e0\u05d9\u05d5\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05d5\u05ea"})]})]})})}},5327:(e,s,t)=>{t.d(s,{A:()=>r});const r=(0,t(7784).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},5692:(e,s,t)=>{t.d(s,{A:()=>r});const r=(0,t(7784).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}}]);
//# sourceMappingURL=449.b34449e9.chunk.js.map