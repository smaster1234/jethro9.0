{"version":3,"file":"static/js/3850.f44760b5.chunk.js","mappings":"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","sources":["components/admin/CostAnalyticsDashboard.tsx"],"sourcesContent":["// CostAnalyticsDashboard.tsx - Cost Analytics & Profitability\nimport React, { useState, useEffect } from 'react';\nimport {\n  DollarSign,\n  TrendingUp,\n  TrendingDown,\n  Users,\n  Search,\n  RefreshCw,\n  Award,\n  AlertCircle,\n  BarChart3,\n  PieChart\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { apiGet } from '../../utils/api';\nimport { logger } from '../../utils/logger';\n\ninterface ProfitabilitySummary {\n  overview: {\n    total_users: number;\n    profitable_users: number;\n    unprofitable_users: number;\n    total_revenue_cents: number;\n    total_cost_cents: number;\n    total_profit_cents: number;\n    avg_profit_margin_percent: number;\n  };\n  by_tier: Record<string, {\n    users: number;\n    revenue_cents: number;\n    cost_cents: number;\n    profit_cents: number;\n    avg_margin: number;\n  }>;\n  trends: {\n    profitable_percent: number;\n    high_value_users: number;\n    at_risk_users: number;\n  };\n}\n\ninterface BackendTierSummary {\n  count: number;\n  total_revenue_cents: number;\n  total_cost_cents: number;\n  profit_cents: number;\n  avg_revenue_per_user: number;\n  avg_cost_per_user: number;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\ninterface BackendProfitabilitySummary {\n  total_users: number;\n  by_tier: Record<string, BackendTierSummary>;\n  overall: {\n    total_revenue_cents: number;\n    total_cost_cents: number;\n    total_profit_cents: number;\n    profit_margin_percent: number;\n  };\n  top_profitable_users: UserRanking[];\n  top_costly_users: UserRanking[];\n  unprofitable_users_count: number;\n}\n\ninterface UserRanking {\n  user_id: string;\n  email: string;\n  tier: string;\n  profit_cents: number;\n  profit_margin_percent: number;\n  lifetime_value_cents: number;\n  total_cost_cents: number;\n  usage_stats?: {\n    cases_processed?: number;\n  };\n}\n\ninterface UserProfitability {\n  user_id: string;\n  email: string;\n  tier: string;\n  subscription_months: number;\n  total_revenue_cents: number;\n  total_cost_cents: number;\n  monthly_revenue_cents: number;\n  monthly_cost_cents: number;\n  profit_cents: number;\n  profit_margin_percent: number;\n  cost_breakdown: Record<string, number>;\n  usage_stats: {\n    cases_processed: number;\n    pages_processed: number;\n    total_tokens: number;\n    chat_messages: number;\n  };\n}\n\nconst normalizeSummaryResponse = (raw: any): ProfitabilitySummary => {\n  // ‚úÖ FIX: Handle both backend structures - \"overview\" and \"overall\"\n  const overviewData = raw?.overview || raw?.overall || {};\n\n  const totalUsers = raw?.overview?.total_users ?? raw?.total_users ?? 0;\n  const unprofitable = raw?.overview?.unprofitable_users ?? raw?.unprofitable_users_count ?? 0;\n  const profitableUsers = raw?.overview?.profitable_users ?? Math.max(totalUsers - unprofitable, 0);\n\n  const overview = {\n    total_users: totalUsers,\n    profitable_users: profitableUsers,\n    unprofitable_users: unprofitable,\n    total_revenue_cents: overviewData?.total_revenue_cents ?? 0,\n    total_cost_cents: overviewData?.total_cost_cents ?? 0,\n    total_profit_cents: overviewData?.total_profit_cents ?? 0,\n    avg_profit_margin_percent: overviewData?.avg_profit_margin_percent ?? overviewData?.profit_margin_percent ?? 0,\n  };\n\n  const byTier = Object.entries(raw?.by_tier ?? {}).reduce<Record<string, {\n    users: number;\n    revenue_cents: number;\n    cost_cents: number;\n    profit_cents: number;\n    avg_margin: number;\n  }>>((acc, [tier, rawData]) => {\n    if (!rawData) return acc; // Skip if data is null/undefined\n\n    // ‚úÖ FIX: Cast to expected type to fix TypeScript error\n    const data = rawData as BackendTierSummary;\n    const revenue = data.total_revenue_cents ?? 0;\n    const profit = data.profit_cents ?? 0;\n    acc[tier] = {\n      users: data?.count ?? 0,\n      revenue_cents: revenue,\n      cost_cents: data?.total_cost_cents ?? 0,\n      profit_cents: profit,\n      avg_margin: revenue > 0 ? (profit / revenue) * 100 : 0,\n    };\n    return acc;\n  }, {});\n\n  // ‚úÖ FIX: Use backend trends data if available\n  const trends = {\n    profitable_percent: raw?.trends?.profitable_percent ?? (totalUsers ? (profitableUsers / totalUsers) * 100 : 0),\n    high_value_users: raw?.trends?.high_value_users ?? raw?.top_profitable_users?.length ?? 0,\n    at_risk_users: raw?.trends?.at_risk_users ?? unprofitable,\n  };\n\n  return {\n    overview,\n    by_tier: byTier,\n    trends,\n  };\n};\n\nconst CostAnalyticsDashboard = () => {\n  const [summary, setSummary] = useState<ProfitabilitySummary | null>(null);\n  const [rankings, setRankings] = useState<UserRanking[]>([]);\n  const [rankingsTotal, setRankingsTotal] = useState(0);\n  const [selectedUser, setSelectedUser] = useState<UserProfitability | null>(null);\n  const [searchEmail, setSearchEmail] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [viewMode, setViewMode] = useState<'summary' | 'rankings' | 'user'>('summary');\n  \n  // Filters\n  const [dateFrom, setDateFrom] = useState<string>('');\n  const [dateTo, setDateTo] = useState<string>('');\n  const [tierFilter, setTierFilter] = useState<string>('');\n  const [minProfit, setMinProfit] = useState<string>('');\n  const [maxCost, setMaxCost] = useState<string>('');\n  \n  // Pagination\n  const [rankingsPage, setRankingsPage] = useState(1);\n  const [rankingsLimit] = useState(50);\n\n  const fetchSummary = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams();\n      if (dateFrom) params.append('date_from', dateFrom);\n      if (dateTo) params.append('date_to', dateTo);\n      if (tierFilter) params.append('tier_filter', tierFilter);\n      \n      const url = `/api/admin/cost-analytics/profitability/summary${params.toString() ? '?' + params.toString() : ''}`;\n      const data = await apiGet(url, { showErrorToast: false });\n      // ‚úÖ FIX: Normalize backend response to frontend format\n      const normalized = normalizeSummaryResponse(data);\n      setSummary(normalized);\n      setLoading(false);\n    } catch (error) {\n      logger.error('Failed to load profitability summary:', error);\n      toast.error('◊©◊í◊ô◊ê◊î ◊ë◊ò◊¢◊ô◊†◊™ ◊†◊™◊ï◊†◊ô ◊®◊ï◊ï◊ó◊ô◊ï◊™');\n      setLoading(false);\n    }\n  };\n\n  const fetchRankings = async () => {\n    try {\n      const params = new URLSearchParams();\n      params.append('limit', rankingsLimit.toString());\n      params.append('offset', ((rankingsPage - 1) * rankingsLimit).toString());\n      if (tierFilter) params.append('tier', tierFilter);\n      if (minProfit) {\n        const cents = Math.round(parseFloat(minProfit) * 100);\n        params.append('min_profit_cents', cents.toString());\n      }\n      if (maxCost) {\n        const cents = Math.round(parseFloat(maxCost) * 100);\n        params.append('max_cost_cents', cents.toString());\n      }\n      \n      const url = `/api/admin/cost-analytics/profitability/rankings?${params.toString()}`;\n      const data = await apiGet(url, { showErrorToast: false });\n      setRankings(data.rankings || []);\n      setRankingsTotal(data.total || 0);\n    } catch (error) {\n      logger.error('Failed to load rankings:', error);\n      toast.error('◊©◊í◊ô◊ê◊î ◊ë◊ò◊¢◊ô◊†◊™ ◊ì◊ô◊®◊ï◊í◊ô◊ù');\n    }\n  };\n\n  const fetchUserData = async (userId: string) => {\n    try {\n      const data = await apiGet(`/api/admin/cost-analytics/users/${userId}/profitability`, { showErrorToast: false });\n      setSelectedUser(data);\n      setViewMode('user');\n    } catch (error) {\n      logger.error('Failed to load user data:', error);\n      toast.error('◊©◊í◊ô◊ê◊î ◊ë◊ò◊¢◊ô◊†◊™ ◊†◊™◊ï◊†◊ô ◊û◊©◊™◊û◊©');\n    }\n  };\n\n  useEffect(() => {\n    fetchSummary();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dateFrom, dateTo, tierFilter]);\n\n  useEffect(() => {\n    if (viewMode === 'rankings') {\n      fetchRankings();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [rankingsPage, tierFilter, minProfit, maxCost, viewMode]);\n\n  const handleSearch = () => {\n    if (!searchEmail.trim()) {\n      toast.error('◊†◊ê ◊ú◊î◊ñ◊ô◊ü ◊û◊ñ◊î◊î ◊û◊©◊™◊û◊© ◊ê◊ï ◊ê◊ô◊û◊ô◊ô◊ú');\n      return;\n    }\n\n    // Try to find user by email in rankings\n    const user = rankings.find(r => r.email.toLowerCase().includes(searchEmail.toLowerCase()) || r.user_id === searchEmail);\n    if (user) {\n      fetchUserData(user.user_id);\n    } else {\n      // Try direct fetch\n      fetchUserData(searchEmail);\n    }\n  };\n\n  // ‚úÖ FIX: Backend stores CENTS (1/100 of a dollar)\n  // Convert cents to dollars for display\n  const formatCents = (cents: number) => {\n    const dollars = cents / 100;  // Convert cents to dollars\n    return '$' + dollars.toFixed(2);  // Standard 2 decimal places\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-8 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"w-12 h-12 text-blue-500 animate-spin mx-auto mb-4\" />\n          <p className=\"text-white text-lg\">◊ò◊ï◊¢◊ü ◊†◊™◊ï◊†◊ô ◊¢◊ú◊ï◊ô◊ï◊™...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!summary) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-6 text-center\">\n          <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-white text-lg\">◊ê◊ô◊ü ◊†◊™◊ï◊†◊ô◊ù ◊ú◊î◊¶◊í◊î</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"max-w-7xl mx-auto\">\n      {/* Header */}\n      <div className=\"mb-6 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-white mb-2\">üí∞ ◊†◊ô◊™◊ï◊ó ◊¢◊ú◊ï◊ô◊ï◊™ ◊ï◊®◊ï◊ï◊ó◊ô◊ï◊™</h1>\n          <p className=\"text-slate-400\">◊û◊¢◊ß◊ë ◊ê◊ó◊® ◊î◊õ◊†◊°◊ï◊™, ◊¢◊ú◊ï◊ô◊ï◊™ ◊ï◊®◊ï◊ï◊ó◊ô◊ï◊™ ◊ú◊û◊©◊™◊û◊©</p>\n        </div>\n        <button\n          onClick={() => {\n            fetchSummary();\n            if (viewMode === 'rankings') fetchRankings();\n          }}\n          className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n        >\n          <RefreshCw size={18} />\n          ◊®◊¢◊†◊ü\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"mb-6 bg-white/5 rounded-lg p-4 border border-white/10\">\n        <h3 className=\"text-lg font-semibold text-white mb-3\">üîç ◊§◊ô◊ú◊ò◊®◊ô◊ù</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-3\">\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1\">◊û◊™◊ê◊®◊ô◊ö</label>\n            <input\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => setDateFrom(e.target.value)}\n              className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1\">◊¢◊ì ◊™◊ê◊®◊ô◊ö</label>\n            <input\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => setDateTo(e.target.value)}\n              className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1\">Tier</label>\n            <select\n              value={tierFilter}\n              onChange={(e) => setTierFilter(e.target.value)}\n              className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white\"\n            >\n              <option value=\"\">◊î◊õ◊ú</option>\n              <option value=\"free\">Free</option>\n              <option value=\"basic\">Basic</option>\n              <option value=\"professional\">Professional</option>\n              <option value=\"enterprise\">Enterprise</option>\n            </select>\n          </div>\n          {viewMode === 'rankings' && (\n            <>\n              <div>\n                <label className=\"block text-sm text-slate-400 mb-1\">◊®◊ï◊ï◊ó ◊û◊ô◊†◊ô◊û◊ú◊ô ($)</label>\n                <input\n                  type=\"number\"\n                  value={minProfit}\n                  onChange={(e) => setMinProfit(e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm text-slate-400 mb-1\">◊¢◊ú◊ï◊™ ◊û◊ß◊°◊ô◊û◊ú◊ô◊™ ($)</label>\n                <input\n                  type=\"number\"\n                  value={maxCost}\n                  onChange={(e) => setMaxCost(e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white\"\n                />\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"mb-6 flex gap-2\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n          <input\n            type=\"text\"\n            placeholder=\"◊ó◊§◊© ◊û◊©◊™◊û◊© ◊ú◊§◊ô ◊û◊ñ◊î◊î ◊ê◊ï ◊ê◊ô◊û◊ô◊ô◊ú...\"\n            value={searchEmail}\n            onChange={(e) => setSearchEmail(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n            className=\"w-full pr-12 pl-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n          />\n        </div>\n        <button\n          onClick={handleSearch}\n          className=\"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\"\n        >\n          ◊ó◊§◊©\n        </button>\n      </div>\n\n      {/* View Mode Tabs */}\n      <div className=\"flex gap-2 mb-6 border-b border-white/20 pb-2\">\n        <button\n          onClick={() => setViewMode('summary')}\n          className={`px-6 py-3 rounded-t-lg font-medium transition ${\n            viewMode === 'summary'\n              ? 'bg-purple-600 text-white'\n              : 'bg-white/5 text-purple-300 hover:bg-white/10'\n          }`}\n        >\n          üìä ◊°◊ô◊õ◊ï◊ù ◊õ◊ú◊ú◊ô\n        </button>\n        <button\n          onClick={() => setViewMode('rankings')}\n          className={`px-6 py-3 rounded-t-lg font-medium transition ${\n            viewMode === 'rankings'\n              ? 'bg-purple-600 text-white'\n              : 'bg-white/5 text-purple-300 hover:bg-white/10'\n          }`}\n        >\n          üèÜ ◊ì◊ô◊®◊ï◊í◊ô◊ù\n        </button>\n        {selectedUser && (\n          <button\n            onClick={() => setViewMode('user')}\n            className={`px-6 py-3 rounded-t-lg font-medium transition ${\n              viewMode === 'user'\n                ? 'bg-purple-600 text-white'\n                : 'bg-white/5 text-purple-300 hover:bg-white/10'\n            }`}\n          >\n            üë§ {selectedUser.email}\n          </button>\n        )}\n      </div>\n\n      {/* Summary View */}\n      {viewMode === 'summary' && (\n        <div className=\"space-y-6\">\n          {/* Main Metrics */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <MetricCard\n              title=\"◊°◊î◊¥◊õ ◊û◊©◊™◊û◊©◊ô◊ù\"\n              value={summary.overview.total_users}\n              icon={<Users className=\"w-8 h-8\" />}\n              color=\"bg-blue-500/10\"\n              iconColor=\"text-blue-500\"\n            />\n            <MetricCard\n              title=\"◊î◊õ◊†◊°◊ï◊™ ◊õ◊ï◊ú◊ú◊ï◊™\"\n              value={formatCents(summary.overview.total_revenue_cents)}\n              icon={<DollarSign className=\"w-8 h-8\" />}\n              color=\"bg-green-500/10\"\n              iconColor=\"text-green-500\"\n            />\n            <MetricCard\n              title=\"◊¢◊ú◊ï◊ô◊ï◊™ ◊õ◊ï◊ú◊ú◊ï◊™\"\n              value={formatCents(summary.overview.total_cost_cents)}\n              icon={<BarChart3 className=\"w-8 h-8\" />}\n              color=\"bg-orange-500/10\"\n              iconColor=\"text-orange-500\"\n            />\n            <MetricCard\n              title=\"◊®◊ï◊ï◊ó ◊õ◊ï◊ú◊ú\"\n              value={formatCents(summary.overview.total_profit_cents)}\n              icon={summary.overview.total_profit_cents >= 0 ? <TrendingUp className=\"w-8 h-8\" /> : <TrendingDown className=\"w-8 h-8\" />}\n              color={summary.overview.total_profit_cents >= 0 ? \"bg-green-500/10\" : \"bg-red-500/10\"}\n              iconColor={summary.overview.total_profit_cents >= 0 ? \"text-green-500\" : \"text-red-500\"}\n            />\n          </div>\n\n          {/* Profitability Breakdown */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <MetricCard\n              title=\"◊û◊©◊™◊û◊©◊ô◊ù ◊®◊ï◊ï◊ó◊ô◊ô◊ù\"\n              value={summary.overview.profitable_users}\n              subtitle={summary.overview.total_users > 0 ? `${((summary.overview.profitable_users / summary.overview.total_users) * 100).toFixed(1)}%` : '0%'}\n              icon={<Award className=\"w-8 h-8\" />}\n              color=\"bg-green-500/10\"\n              iconColor=\"text-green-500\"\n            />\n            <MetricCard\n              title=\"◊û◊©◊™◊û◊©◊ô◊ù ◊ë◊î◊§◊°◊ì\"\n              value={summary.overview.unprofitable_users}\n              subtitle={`${((summary.overview.unprofitable_users / summary.overview.total_users) * 100).toFixed(1)}%`}\n              icon={<AlertCircle className=\"w-8 h-8\" />}\n              color=\"bg-red-500/10\"\n              iconColor=\"text-red-500\"\n            />\n            <MetricCard\n              title=\"◊©◊ï◊ú◊ô ◊®◊ï◊ï◊ó ◊û◊û◊ï◊¶◊¢◊ô◊ù\"\n              value={`${summary.overview.avg_profit_margin_percent.toFixed(1)}%`}\n              icon={<PieChart className=\"w-8 h-8\" />}\n              color=\"bg-purple-500/10\"\n              iconColor=\"text-purple-500\"\n            />\n          </div>\n\n          {/* By Tier */}\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-lg border border-white/20 p-6\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">üìà ◊†◊ô◊™◊ï◊ó ◊ú◊§◊ô Tier</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"border-b border-white/20\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">Tier</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊û◊©◊™◊û◊©◊ô◊ù</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊î◊õ◊†◊°◊ï◊™</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊¢◊ú◊ï◊ô◊ï◊™</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊®◊ï◊ï◊ó</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊©◊ï◊ú◊ô ◊®◊ï◊ï◊ó</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {Object.entries(summary.by_tier || {}).map(([tier, tierData]) => {\n                    const data = tierData as { users: number; revenue_cents: number; cost_cents: number; profit_cents: number; avg_margin: number };\n                    if (!data) return null;\n                    return (\n                      <tr key={tier} className=\"border-b border-white/10\">\n                        <td className=\"px-4 py-3 text-white font-semibold capitalize\">{tier}</td>\n                        <td className=\"px-4 py-3 text-white\">{data.users ?? 0}</td>\n                        <td className=\"px-4 py-3 text-green-400\">{formatCents(data.revenue_cents ?? 0)}</td>\n                        <td className=\"px-4 py-3 text-orange-400\">{formatCents(data.cost_cents ?? 0)}</td>\n                        <td className={`px-4 py-3 font-bold ${(data.profit_cents ?? 0) >= 0 ? 'text-green-400' : 'text-red-400'}`}>\n                          {formatCents(data.profit_cents ?? 0)}\n                        </td>\n                        <td className=\"px-4 py-3 text-white\">{((data.avg_margin ?? 0).toFixed(1))}%</td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Rankings View */}\n      {viewMode === 'rankings' && (\n        <div className=\"space-y-6\">\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-lg border border-white/20 p-6\">\n            <h3 className=\"text-xl font-bold text-white mb-4\">üèÜ ◊ì◊ô◊®◊ï◊í ◊û◊©◊™◊û◊©◊ô◊ù ◊ú◊§◊ô ◊®◊ï◊ï◊ó◊ô◊ï◊™</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"border-b border-white/20\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">#</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊ê◊ô◊û◊ô◊ô◊ú</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">Tier</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊™◊ô◊ß◊ô◊ù</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊¢◊ú◊ï◊™</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊®◊ï◊ï◊ó</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊©◊ï◊ú◊ô ◊®◊ï◊ï◊ó</th>\n                    <th className=\"px-4 py-3 text-right text-sm font-semibold text-white\">◊§◊¢◊ï◊ú◊ï◊™</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {rankings.length === 0 ? (\n                    <tr>\n                      <td colSpan={8} className=\"px-4 py-8 text-center text-slate-400\">\n                        ◊ê◊ô◊ü ◊†◊™◊ï◊†◊ô◊ù ◊ú◊î◊¶◊í◊î\n                      </td>\n                    </tr>\n                  ) : (\n                    rankings.map((user, index) => (\n                      <tr key={user.user_id} className=\"border-b border-white/10 hover:bg-white/5\">\n                        <td className=\"px-4 py-3 text-white font-bold\">\n                          {index + 1 <= 3 ? (\n                            <span className=\"text-yellow-400\">{['ü•á', 'ü•à', 'ü•â'][index]}</span>\n                          ) : (\n                            index + 1\n                          )}\n                        </td>\n                        <td className=\"px-4 py-3 text-white\">{user.email || 'N/A'}</td>\n                        <td className=\"px-4 py-3\">\n                          <span className={`px-2 py-1 rounded text-xs ${\n                            user.tier === 'enterprise' ? 'bg-purple-500/20 text-purple-300' :\n                            user.tier === 'professional' ? 'bg-blue-500/20 text-blue-300' :\n                            user.tier === 'basic' ? 'bg-green-500/20 text-green-300' :\n                            'bg-gray-500/20 text-gray-300'\n                          }`}>\n                            {user.tier || 'N/A'}\n                          </span>\n                        </td>\n                        <td className=\"px-4 py-3 text-white\">{user.usage_stats?.cases_processed ?? 0}</td>\n                        <td className=\"px-4 py-3 text-orange-400\">{formatCents(user.total_cost_cents ?? 0)}</td>\n                        <td className={`px-4 py-3 font-bold ${(user.profit_cents ?? 0) >= 0 ? 'text-green-400' : 'text-red-400'}`}>\n                          {formatCents(user.profit_cents ?? 0)}\n                        </td>\n                        <td className=\"px-4 py-3 text-white\">{((user.profit_margin_percent ?? 0).toFixed(1))}%</td>\n                        <td className=\"px-4 py-3\">\n                          <button\n                            onClick={() => fetchUserData(user.user_id)}\n                            className=\"px-3 py-1 bg-purple-600 hover:bg-purple-700 rounded text-sm text-white transition-colors\"\n                          >\n                            ◊§◊®◊ò◊ô◊ù\n                          </button>\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n            \n            {/* Pagination */}\n            {rankingsTotal > rankingsLimit && (\n              <div className=\"mt-4 flex items-center justify-between\">\n                <div className=\"text-slate-400 text-sm\">\n                  ◊û◊¶◊ô◊í {((rankingsPage - 1) * rankingsLimit) + 1} - {Math.min(rankingsPage * rankingsLimit, rankingsTotal)} ◊û◊™◊ï◊ö {rankingsTotal}\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setRankingsPage(p => Math.max(1, p - 1))}\n                    disabled={rankingsPage === 1}\n                    className=\"px-4 py-2 bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors\"\n                  >\n                    ◊î◊ß◊ï◊ì◊ù\n                  </button>\n                  <button\n                    onClick={() => setRankingsPage(p => p + 1)}\n                    disabled={rankingsPage * rankingsLimit >= rankingsTotal}\n                    className=\"px-4 py-2 bg-white/10 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors\"\n                  >\n                    ◊î◊ë◊ê\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* User Detail View */}\n      {viewMode === 'user' && selectedUser && (\n        <div className=\"space-y-6\">\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-lg border border-white/20 p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div>\n                <h3 className=\"text-2xl font-bold text-white\">{selectedUser.email}</h3>\n                <p className=\"text-slate-400\">Tier: {selectedUser.tier} ‚Ä¢ {selectedUser.subscription_months} ◊ó◊ï◊ì◊©◊ô◊ù</p>\n              </div>\n              <button\n                onClick={() => setViewMode('rankings')}\n                className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors\"\n              >\n                ◊ó◊ñ◊ï◊® ◊ú◊ì◊ô◊®◊ï◊í◊ô◊ù\n              </button>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n              <MetricCard\n                title=\"◊î◊õ◊†◊°◊ï◊™ ◊õ◊ï◊ú◊ú◊ï◊™\"\n                value={formatCents(selectedUser.total_revenue_cents)}\n                icon={<DollarSign className=\"w-6 h-6\" />}\n                color=\"bg-green-500/10\"\n                iconColor=\"text-green-500\"\n              />\n              <MetricCard\n                title=\"◊¢◊ú◊ï◊ô◊ï◊™ ◊õ◊ï◊ú◊ú◊ï◊™\"\n                value={formatCents(selectedUser.total_cost_cents)}\n                icon={<BarChart3 className=\"w-6 h-6\" />}\n                color=\"bg-orange-500/10\"\n                iconColor=\"text-orange-500\"\n              />\n              <MetricCard\n                title=\"◊®◊ï◊ï◊ó ◊†◊ß◊ô\"\n                value={formatCents(selectedUser.profit_cents)}\n                subtitle={`${selectedUser.profit_margin_percent.toFixed(1)}% ◊©◊ï◊ú◊ô ◊®◊ï◊ï◊ó`}\n                icon={selectedUser.profit_cents >= 0 ? <TrendingUp className=\"w-6 h-6\" /> : <TrendingDown className=\"w-6 h-6\" />}\n                color={selectedUser.profit_cents >= 0 ? \"bg-green-500/10\" : \"bg-red-500/10\"}\n                iconColor={selectedUser.profit_cents >= 0 ? \"text-green-500\" : \"text-red-500\"}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <h4 className=\"text-lg font-bold text-white mb-3\">◊§◊ô◊®◊ï◊ò ◊¢◊ú◊ï◊ô◊ï◊™</h4>\n                <div className=\"space-y-2\">\n                  {/* ‚úÖ Dec 2024: Enhanced OCR cost display with Document AI breakdown */}\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-slate-400\">OCR (◊°◊î\"◊õ)</span>\n                    <span className=\"text-white font-semibold\">\n                      {formatCents(\n                        (selectedUser.cost_breakdown?.ocr ?? 0) +\n                        (selectedUser.cost_breakdown?.ocr_document_ai ?? 0) +\n                        (selectedUser.cost_breakdown?.ocr_vision ?? 0)\n                      )}\n                    </span>\n                  </div>\n                  {/* Show Document AI separately if exists */}\n                  {(selectedUser.cost_breakdown?.ocr_document_ai ?? 0) > 0 && (\n                    <div className=\"flex justify-between items-center mr-4 text-sm\">\n                      <span className=\"text-slate-500\">‚îú Document AI</span>\n                      <span className=\"text-cyan-400 font-medium\">\n                        {formatCents(selectedUser.cost_breakdown?.ocr_document_ai ?? 0)}\n                      </span>\n                    </div>\n                  )}\n                  {/* Show Vision API separately if exists */}\n                  {(selectedUser.cost_breakdown?.ocr_vision ?? 0) > 0 && (\n                    <div className=\"flex justify-between items-center mr-4 text-sm\">\n                      <span className=\"text-slate-500\">‚îî Vision API</span>\n                      <span className=\"text-yellow-400 font-medium\">\n                        {formatCents(selectedUser.cost_breakdown?.ocr_vision ?? 0)}\n                      </span>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">◊†◊ô◊™◊ï◊ó</span>\n                    <span className=\"text-white font-semibold\">{formatCents(selectedUser.cost_breakdown?.analysis ?? 0)}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">◊¶'◊ê◊ò</span>\n                    <span className=\"text-white font-semibold\">{formatCents(selectedUser.cost_breakdown?.chat ?? 0)}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">Intelligence</span>\n                    <span className=\"text-white font-semibold\">{formatCents(selectedUser.cost_breakdown?.intelligence ?? 0)}</span>\n                  </div>\n                  {/* Show all other cost types dynamically */}\n                  {Object.entries(selectedUser.cost_breakdown || {})\n                    .filter(([key]) => !['ocr', 'ocr_document_ai', 'ocr_vision', 'analysis', 'chat', 'intelligence'].includes(key))\n                    .filter(([, value]) => (value as number) > 0)\n                    .map(([key, value]) => (\n                      <div key={key} className=\"flex justify-between\">\n                        <span className=\"text-slate-400\">{key}</span>\n                        <span className=\"text-white font-semibold\">{formatCents(value as number)}</span>\n                      </div>\n                    ))\n                  }\n                </div>\n              </div>\n\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <h4 className=\"text-lg font-bold text-white mb-3\">◊°◊ò◊ò◊ô◊°◊ò◊ô◊ß◊ï◊™ ◊©◊ô◊û◊ï◊©</h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">◊™◊ô◊ß◊ô◊ù ◊û◊¢◊ï◊ë◊ì◊ô◊ù</span>\n                    <span className=\"text-white font-semibold\">{selectedUser.usage_stats?.cases_processed ?? 0}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">◊¢◊û◊ï◊ì◊ô◊ù</span>\n                    <span className=\"text-white font-semibold\">{(selectedUser.usage_stats?.pages_processed ?? 0).toLocaleString()}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">◊ò◊ï◊ß◊†◊ô◊ù</span>\n                    <span className=\"text-white font-semibold\">{((selectedUser.usage_stats?.total_tokens ?? 0) / 1000).toFixed(1)}K</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-slate-400\">◊î◊ï◊ì◊¢◊ï◊™ ◊¶'◊ê◊ò</span>\n                    <span className=\"text-white font-semibold\">{selectedUser.usage_stats?.chat_messages ?? 0}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      </div>\n    </div>\n  );\n};\n\nconst MetricCard = ({ title, value, subtitle, icon, color, iconColor }: any) => (\n  <div className={`${color} border border-slate-700 p-6 rounded-lg`}>\n    <div className={`${iconColor} mb-3`}>{icon}</div>\n    <div className=\"text-3xl font-bold text-white mb-1\">{value}</div>\n    <div className=\"text-sm text-slate-400\">{title}</div>\n    {subtitle && <div className=\"text-xs text-slate-500 mt-1\">{subtitle}</div>}\n  </div>\n);\n\nexport default CostAnalyticsDashboard;\n"],"names":["MetricCard","_ref0","title","value","subtitle","icon","color","iconColor","_jsxs","className","concat","children","_jsx","CostAnalyticsDashboard","_selectedUser$cost_br","_selectedUser$cost_br2","_selectedUser$cost_br3","_selectedUser$cost_br4","_selectedUser$cost_br5","_selectedUser$cost_br6","_selectedUser$cost_br7","_selectedUser$cost_br8","_selectedUser$cost_br9","_selectedUser$cost_br0","_selectedUser$cost_br1","_selectedUser$cost_br10","_selectedUser$cost_br11","_selectedUser$cost_br12","_selectedUser$cost_br13","_selectedUser$cost_br14","_selectedUser$cost_br15","_selectedUser$cost_br16","_selectedUser$cost_br17","_selectedUser$cost_br18","_selectedUser$usage_s","_selectedUser$usage_s2","_selectedUser$usage_s3","_selectedUser$usage_s4","_selectedUser$usage_s5","_selectedUser$usage_s6","_selectedUser$usage_s7","_selectedUser$usage_s8","summary","setSummary","useState","rankings","setRankings","rankingsTotal","setRankingsTotal","selectedUser","setSelectedUser","searchEmail","setSearchEmail","loading","setLoading","viewMode","setViewMode","dateFrom","setDateFrom","dateTo","setDateTo","tierFilter","setTierFilter","minProfit","setMinProfit","maxCost","setMaxCost","rankingsPage","setRankingsPage","rankingsLimit","fetchSummary","async","params","URLSearchParams","append","url","toString","normalized","raw","_ref","_raw$overview$total_u","_raw$overview","_ref2","_raw$overview$unprofi","_raw$overview2","_raw$overview$profita","_raw$overview3","_overviewData$total_r","_overviewData$total_c","_overviewData$total_p","_ref3","_overviewData$avg_pro","_raw$by_tier","_raw$trends$profitabl","_raw$trends","_ref5","_raw$trends$high_valu","_raw$trends2","_raw$top_profitable_u","_raw$trends$at_risk_u","_raw$trends3","overviewData","overview","overall","totalUsers","total_users","unprofitable","unprofitable_users","unprofitable_users_count","profitableUsers","profitable_users","Math","max","total_revenue_cents","total_cost_cents","total_profit_cents","avg_profit_margin_percent","profit_margin_percent","by_tier","Object","entries","reduce","acc","_ref4","_data$total_revenue_c","_data$profit_cents","_data$count","_data$total_cost_cent","tier","rawData","data","revenue","profit","profit_cents","users","count","revenue_cents","cost_cents","avg_margin","trends","profitable_percent","high_value_users","top_profitable_users","length","at_risk_users","normalizeSummaryResponse","apiGet","showErrorToast","error","logger","toast","fetchRankings","cents","round","parseFloat","total","fetchUserData","userId","useEffect","handleSearch","trim","user","find","r","email","toLowerCase","includes","user_id","formatCents","toFixed","RefreshCw","dir","onClick","size","type","onChange","e","target","_Fragment","placeholder","Search","onKeyPress","key","Users","DollarSign","BarChart3","TrendingUp","TrendingDown","Award","AlertCircle","PieChart","map","_ref6","_data$users","_data$revenue_cents","_data$cost_cents","_data$profit_cents2","_data$profit_cents3","_data$avg_margin","tierData","colSpan","index","_user$usage_stats$cas","_user$usage_stats","_user$total_cost_cent","_user$profit_cents","_user$profit_cents2","_user$profit_margin_p","usage_stats","cases_processed","min","p","disabled","subscription_months","cost_breakdown","ocr","ocr_document_ai","ocr_vision","analysis","chat","intelligence","filter","_ref7","_ref8","_ref9","pages_processed","toLocaleString","total_tokens","chat_messages"],"ignoreList":[],"sourceRoot":""}