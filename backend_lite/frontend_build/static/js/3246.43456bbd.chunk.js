"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3246],{262:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});s(5043);var n=s(3216),a=s(6210),l=s(2629),i=s(7856),r=s(5727),o=s(614),c=s(579);const d=e=>{let{isOpen:t,onClose:s,featureName:d,featureDescription:u,requiredTier:m,currentTier:x="free"}=e;const h=(0,n.Zp)();if(!t)return null;const p={basic:{name:"Basic",price:"\u20aa99",features:["\u05e2\u05d3 10 \u05ea\u05d9\u05e7\u05d9\u05dd \u05d1\u05d7\u05d5\u05d3\u05e9","50,000 \u05d8\u05d5\u05e7\u05e0\u05d9\u05dd","\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d1\u05e1\u05d9\u05e1\u05d9","\u05e6'\u05d0\u05d8 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5"],gradient:"from-blue-500 to-cyan-500"},professional:{name:"Professional",price:"\u20aa299",features:["\u05e2\u05d3 50 \u05ea\u05d9\u05e7\u05d9\u05dd \u05d1\u05d7\u05d5\u05d3\u05e9","200,000 \u05d8\u05d5\u05e7\u05e0\u05d9\u05dd","Intelligence Analysis","RAG - \u05d7\u05d9\u05e4\u05d5\u05e9 \u05d7\u05db\u05dd","\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05e7\u05d3\u05dd","\u05ea\u05de\u05d9\u05db\u05d4 \u05e2\u05d3\u05d9\u05e4\u05d5\u05ea"],gradient:"from-purple-500 to-pink-500"},enterprise:{name:"Enterprise",price:"\u20aa999",features:["\u05ea\u05d9\u05e7\u05d9\u05dd \u05dc\u05dc\u05d0 \u05d4\u05d2\u05d1\u05dc\u05d4","\u05d8\u05d5\u05e7\u05e0\u05d9\u05dd \u05dc\u05dc\u05d0 \u05d4\u05d2\u05d1\u05dc\u05d4","\u05db\u05dc \u05d4\u05e4\u05d9\u05e6'\u05e8\u05d9\u05dd","Deep Legal Profiler","\u05ea\u05de\u05d9\u05db\u05d4 24/7","API Access"],gradient:"from-orange-500 to-red-500"}}[m];return(0,c.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",dir:"rtl",children:(0,c.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 rounded-2xl shadow-2xl w-full max-w-lg md:max-w-2xl border border-white/20 overflow-hidden",children:[(0,c.jsxs)("div",{className:"bg-gradient-to-r ".concat(p.gradient," p-6 text-white flex items-center justify-between"),children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,c.jsx)(r.A,{size:24})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl font-bold",children:"\u05e4\u05d9\u05e6'\u05e8 \u05e0\u05e2\u05d5\u05dc"}),(0,c.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:d})]})]}),(0,c.jsx)("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,c.jsx)(o.A,{size:24})})]}),(0,c.jsxs)("div",{className:"p-4 md:p-8",children:[u&&(0,c.jsx)("div",{className:"mb-6 bg-white/5 rounded-lg p-4 border border-white/10",children:(0,c.jsx)("p",{className:"text-white/80 text-right",children:u})}),(0,c.jsx)("div",{className:"mb-6",children:(0,c.jsxs)("p",{className:"text-white text-lg mb-4 text-right",children:["\u05db\u05d3\u05d9 \u05dc\u05d2\u05e9\u05ea \u05dc-",(0,c.jsx)("strong",{className:"text-yellow-400",children:d}),", \u05e0\u05d3\u05e8\u05e9 \u05de\u05e0\u05d5\u05d9"," ",(0,c.jsx)("strong",{className:"text-transparent bg-clip-text bg-gradient-to-r ".concat(p.gradient),children:p.name})," ","\u05d5\u05de\u05e2\u05dc\u05d4."]})}),(0,c.jsxs)("div",{className:"bg-gradient-to-br ".concat(p.gradient," rounded-xl p-6 mb-6 border-2 border-white/30"),children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:p.name}),(0,c.jsx)("p",{className:"text-white/80 text-sm",children:"\u05d4\u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05d4\u05de\u05d5\u05de\u05dc\u05e6\u05ea"})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("p",{className:"text-3xl font-bold text-white",children:p.price}),(0,c.jsx)("p",{className:"text-white/80 text-sm",children:"\u05dc\u05d7\u05d5\u05d3\u05e9"})]})]}),(0,c.jsx)("div",{className:"space-y-2 mb-4",children:p.features.map((e,t)=>(0,c.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,c.jsx)(a.A,{size:18,className:"flex-shrink-0"}),(0,c.jsx)("span",{className:"text-sm",children:e})]},t))}),(0,c.jsxs)("button",{onClick:()=>{s(),h("/subscription",{state:{highlightTier:m}})},className:"w-full bg-white text-slate-900 py-3 rounded-lg font-bold hover:bg-white/90 transition-all flex items-center justify-center gap-2",children:[(0,c.jsx)(l.A,{size:20}),"\u05e9\u05d3\u05e8\u05d2 \u05e2\u05db\u05e9\u05d9\u05d5"]})]}),(0,c.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsx)(i.A,{className:"text-blue-400 flex-shrink-0 mt-0.5",size:20}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("p",{className:"text-blue-200 text-sm",children:(0,c.jsx)("strong",{children:"\u05dc\u05de\u05d4 \u05dc\u05e9\u05d3\u05e8\u05d2?"})}),(0,c.jsxs)("p",{className:"text-blue-300 text-xs mt-1",children:["\u05e2\u05dd ",p.name," \u05ea\u05e7\u05d1\u05dc \u05d2\u05d9\u05e9\u05d4 \u05dc\u05db\u05dc \u05d4\u05e4\u05d9\u05e6'\u05e8\u05d9\u05dd \u05d4\u05de\u05ea\u05e7\u05d3\u05de\u05d9\u05dd, \u05db\u05d5\u05dc\u05dc \u05e0\u05d9\u05ea\u05d5\u05d7\u05d9\u05dd \u05e2\u05de\u05d5\u05e7\u05d9\u05dd, \u05d7\u05d9\u05e4\u05d5\u05e9 \u05d7\u05db\u05dd, \u05d5\u05ea\u05de\u05d9\u05db\u05d4 \u05e2\u05d3\u05d9\u05e4\u05d5\u05ea."]})]})]})})]})]})})}},3246:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ds});var n=s(9379),a=s(5043),l=s(3216),i=s(5475),r=s(2024),o=s(7819),c=s(4537),d=s(6382),u=s(4669),m=s(7104),x=s(5711),h=s(2382),p=s(1972),b=s(5727),g=s(6328),f=s(8634),v=s(8908),w=s(4881),j=s(8957),y=s(6210),N=s(2313),_=s(7365),A=s(614),k=s(797),C=s(1680),S=s(9855),z=s(793),R=s(3165),E=s(7033),I=s(9966),T=s(6099),D=s(7921),L=s(1360),P=s(6784),F=s(2574),O=s(8646),q=s(8326),M=s(2629),G=s(2494),U=s(3961),X=s(5746),B=s(9688),$=s(2240),W=s(5569),J=s(3986),V=s(5584),Q=s(9285),Z=s(1161),K=s(6833),H=s(7719),Y=s(8012),ee=s(2489),te=s(6955),se=s(764),ne=s(73),ae=s(579);const le={label:"\u05e7\u05e8\u05d9\u05d8\u05d9\u05ea",color:"red",bgClass:"bg-red-500/20 border-red-500/50",barClass:"bg-red-500",iconClass:"text-red-400",min:80},ie={label:"\u05d7\u05de\u05d5\u05e8\u05d4",color:"orange",bgClass:"bg-orange-500/20 border-orange-500/50",barClass:"bg-orange-500",iconClass:"text-orange-400",min:60},re={label:"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea",color:"yellow",bgClass:"bg-yellow-500/20 border-yellow-500/50",barClass:"bg-yellow-500",iconClass:"text-yellow-400",min:40},oe={label:"\u05e7\u05dc\u05d4",color:"blue",bgClass:"bg-blue-500/20 border-blue-500/50",barClass:"bg-blue-500",iconClass:"text-blue-400",min:0},ce=e=>{let{claim:t,source:s,label:n,colorClass:a,onViewSource:l}=e;return(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,ae.jsx)(C.A,{size:14,className:a}),(0,ae.jsx)("span",{className:"text-xs font-semibold text-white/60",children:n})]}),(0,ae.jsxs)("div",{className:"bg-black/20 rounded-lg p-3 border border-white/10",children:[(0,ae.jsxs)("p",{className:"text-white/90 text-sm leading-relaxed",children:['"',t,'"']}),s&&(0,ae.jsxs)("div",{className:"mt-2 pt-2 border-t border-white/10 flex items-center justify-between",children:[(0,ae.jsxs)("span",{className:"text-xs text-white/50",children:["\ud83d\udcc4 ",s]}),l&&(0,ae.jsxs)("button",{onClick:()=>l(s),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1 transition-colors",children:[(0,ae.jsx)(se.A,{size:10}),"\u05e6\u05e4\u05d4"]})]})]})]})},de=e=>{var t;let{contradiction:s,text:n,onViewSource:l,className:i=""}=e;const[r,o]=(0,a.useState)(!0),c=s||(e=>{var t,s,n,a;const l=e.match(/(?:\u05d8\u05e2\u05e0\u05d4\s*1|\u05de\u05e7\u05d5\u05e8\s*1|\u05e6\u05d3\s*\u05d0)[:\s]*[""]?([^""]+)[""]?/i),i=e.match(/(?:\u05d8\u05e2\u05e0\u05d4\s*2|\u05de\u05e7\u05d5\u05e8\s*2|\u05e6\u05d3\s*\u05d1)[:\s]*[""]?([^""]+)[""]?/i),r=e.match(/(?:\u05de\u05e1\u05de\u05da|\u05e7\u05d5\u05d1\u05e5|\u05e2\u05de\u05d5\u05d3)[:\s]*([^\n,]+)/i),o=e.match(/(?:\u05dc\u05e2\u05d5\u05de\u05ea|\u05d1\u05e0\u05d9\u05d2\u05d5\u05d3 \u05dc)[:\s]*([^\n]+)/i),c=e.match(/(?:\u05d7\u05d5\u05de\u05e8\u05d4|\u05d3\u05d9\u05e8\u05d5\u05d2|\u05e6\u05d9\u05d5\u05df)[:\s]*(\d+)/i);return{claim1:(null===l||void 0===l||null===(t=l[1])||void 0===t?void 0:t.trim())||null,claim2:(null===i||void 0===i||null===(s=i[1])||void 0===s?void 0:s.trim())||null,source1:(null===r||void 0===r||null===(n=r[1])||void 0===n?void 0:n.trim())||null,source2:(null===o||void 0===o||null===(a=o[1])||void 0===a?void 0:a.trim())||null,score:c?parseInt(c[1]):void 0}})(n||""),d=(e=>{if(null===e||void 0===e)return;const t=Number(e);return Number.isNaN(t)?void 0:t>=0&&t<=1?Math.round(100*t):t>=0&&t<=100?Math.round(t):Math.max(0,Math.min(100,Math.round(t)))})(null!==(t=c.score)&&void 0!==t?t:c.severity_score),u=void 0!==d?(e=>e>=80?le:e>=60?ie:e>=40?re:oe)(d):void 0;return(e=>{const t=(e||"").toLowerCase();return t.includes("\u05d0\u05d9\u05df \u05e1\u05ea\u05d9\u05e8")||t.includes("\u05d0\u05d9\u05df \u05e1\u05ea\u05d9\u05e8\u05d4")||t.includes("\u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05ea \u05e1\u05ea\u05d9\u05e8\u05d4")||t.includes("\u05dc\u05d0 \u05d6\u05d5\u05d4\u05ea\u05d4 \u05e1\u05ea\u05d9\u05e8\u05d4")||t.includes("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea")||t.includes("\u05d0\u05d9\u05df \u05db\u05d0\u05df \u05e1\u05ea\u05d9\u05e8\u05d4")})(n||"")&&n?(0,ae.jsxs)("div",{className:"rounded-xl border bg-slate-500/10 border-slate-500/30 overflow-hidden ".concat(i),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3",children:[(0,ae.jsx)(H.A,{size:18,className:"text-slate-300"}),(0,ae.jsx)("span",{className:"font-bold text-white",children:"\u05dc\u05d0 \u05d6\u05d5\u05d4\u05ea\u05d4 \u05e1\u05ea\u05d9\u05e8\u05d4"})]}),(0,ae.jsx)("div",{className:"px-4 pb-4 pt-1 border-t border-white/10",children:(0,ae.jsx)("p",{className:"text-white/80 text-sm",children:n})})]}):c.claim1||c.claim2||!n?(0,ae.jsxs)("div",{className:"rounded-xl border ".concat(u?u.bgClass:"bg-slate-500/10 border-slate-500/30"," overflow-hidden ").concat(i),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(!r),children:[(0,ae.jsxs)("div",{className:"relative",children:[(0,ae.jsx)(I.A,{size:20,className:u?u.iconClass:"text-slate-300"}),void 0!==d&&d>=80&&(0,ae.jsx)(ne.A,{size:10,className:"absolute -top-1 -right-1 text-yellow-400"})]}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"font-bold text-white",children:"\u05e1\u05ea\u05d9\u05e8\u05d4"}),u?(0,ae.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(u.bgClass," ").concat(u.iconClass),children:u.label}):(0,ae.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-500/10 border border-slate-500/30 text-slate-200",children:"\u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2\u05d4"})]}),c.type&&(0,ae.jsx)("span",{className:"text-xs text-white/50",children:c.type})]}),void 0!==d&&u&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",title:"\u05de\u05d3\u05d3 \u05d7\u05d5\u05de\u05e8\u05d4 (0\u2013100)",children:[(0,ae.jsx)("div",{className:"w-24 h-2.5 bg-white/10 rounded-full overflow-hidden",children:(0,ae.jsx)("div",{className:"h-full ".concat(u.barClass," transition-all duration-500"),style:{width:"".concat(d,"%")}})}),(0,ae.jsx)("span",{className:"text-sm font-bold text-white/80 w-8",children:d})]}),(0,ae.jsx)("button",{className:"text-white/40 hover:text-white/60 transition-colors",children:r?(0,ae.jsx)(x.A,{size:18}):(0,ae.jsx)(h.A,{size:18})})]}),r&&(0,ae.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-white/10",children:[(0,ae.jsxs)("div",{className:"flex gap-4",children:[c.claim1&&(0,ae.jsx)(ce,{claim:c.claim1,source:c.source1,label:"\u05d8\u05e2\u05e0\u05d4 \u05d0'",colorClass:"text-blue-400",onViewSource:l}),c.claim1&&c.claim2&&(0,ae.jsxs)("div",{className:"flex flex-col items-center justify-center px-2",children:[(0,ae.jsx)("div",{className:"w-px h-full bg-white/20"}),(0,ae.jsx)("div",{className:"my-2 p-1.5 rounded-full bg-white/10",children:(0,ae.jsx)(H.A,{size:14,className:"text-yellow-400"})}),(0,ae.jsx)("div",{className:"w-px h-full bg-white/20"})]}),c.claim2&&(0,ae.jsx)(ce,{claim:c.claim2,source:c.source2,label:"\u05d8\u05e2\u05e0\u05d4 \u05d1'",colorClass:"text-purple-400",onViewSource:l})]}),c.explanation&&(0,ae.jsx)("div",{className:"mt-3 pt-3 border-t border-white/10",children:(0,ae.jsxs)("p",{className:"text-xs text-white/60",children:["\ud83d\udca1 ",c.explanation]})}),c.questions&&c.questions.length>0&&(0,ae.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/10",children:[(0,ae.jsx)("p",{className:"text-xs font-semibold text-white/70 mb-2",children:"\u2753 \u05e9\u05d0\u05dc\u05d5\u05ea \u05de\u05d5\u05de\u05dc\u05e6\u05d5\u05ea:"}),(0,ae.jsx)("ul",{className:"space-y-1",children:c.questions.slice(0,3).map((e,t)=>(0,ae.jsxs)("li",{className:"text-xs text-white/60 flex items-start gap-2",children:[(0,ae.jsxs)("span",{className:"text-white/30",children:[t+1,"."]}),(0,ae.jsx)("span",{children:e})]},t))})]})]})]}):(0,ae.jsxs)("div",{className:"rounded-xl border ".concat(u?u.bgClass:"bg-slate-500/10 border-slate-500/30"," overflow-hidden ").concat(i),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3",children:[(0,ae.jsx)(I.A,{size:20,className:u?u.iconClass:"text-slate-300"}),(0,ae.jsx)("span",{className:"font-bold text-white",children:u?"\u05e1\u05ea\u05d9\u05e8\u05d4 ".concat(u.label):"\u05d8\u05e2\u05e0\u05d4 \u05dc\u05e1\u05ea\u05d9\u05e8\u05d4"}),(0,ae.jsx)("div",{className:"flex-1"}),void 0!==d&&u&&(0,ae.jsxs)("div",{className:"flex items-center gap-2",title:"\u05de\u05d3\u05d3 \u05d7\u05d5\u05de\u05e8\u05d4 (0\u2013100)",children:[(0,ae.jsx)("div",{className:"w-20 h-2 bg-white/10 rounded-full overflow-hidden",children:(0,ae.jsx)("div",{className:"h-full ".concat(u.barClass," transition-all"),style:{width:"".concat(d,"%")}})}),(0,ae.jsx)("span",{className:"text-xs text-white/60",children:d})]})]}),(0,ae.jsx)("div",{className:"px-4 pb-4 pt-1 border-t border-white/10",children:(0,ae.jsx)("p",{className:"text-white/80 text-sm",children:n})})]})},ue={date:/(\d{1,2}[./]\d{1,2}[./]\d{2,4}|\d{1,2}\s+\u05d1?(\u05d9\u05e0\u05d5\u05d0\u05e8|\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8|\u05de\u05e8\u05e5|\u05d0\u05e4\u05e8\u05d9\u05dc|\u05de\u05d0\u05d9|\u05d9\u05d5\u05e0\u05d9|\u05d9\u05d5\u05dc\u05d9|\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8|\u05e1\u05e4\u05d8\u05de\u05d1\u05e8|\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8|\u05e0\u05d5\u05d1\u05de\u05d1\u05e8|\u05d3\u05e6\u05de\u05d1\u05e8)\s+\d{2,4})/gi,amount:/(\u20aa\s?[\d,]+(?:\.\d{2})?|[\d,]+(?:\.\d{2})?\s?(?:\u05e9"\u05d7|\u05e9\u05e7\u05dc|\u05e9\u05e7\u05dc\u05d9\u05dd|\u05d3\u05d5\u05dc\u05e8|\$|\u05d0\u05d9\u05e8\u05d5|\u20ac)|[\d,]+\s?\u20aa)/gi,document:/(\u05de\u05e1\u05de\u05da\s?[\u05d0-\u05ea'"\d]+|\u05e0\u05e1\u05e4\u05d7\s?[\u05d0-\u05ea'"\d]+|\u05ea\u05e6\u05d4\u05d9\u05e8(?:\s+\S+)?|\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc(?:\s+\S+)?|\u05db\u05ea\u05d1\s+(?:\u05ea\u05d1\u05d9\u05e2\u05d4|\u05d4\u05d2\u05e0\u05d4|\u05d8\u05e2\u05e0\u05d5\u05ea)|\u05d4\u05e1\u05db\u05dd(?:\s+\S+)?)/gi,page:/(\u05e2\u05de['\u05f3]?\s?\d+|\u05e2\u05de\u05d5\u05d3\s?\d+|page\s?\d+)/gi},me={date:{className:"bg-green-500/20 text-green-300 px-1 py-0.5 rounded mx-0.5 font-medium",icon:"\ud83d\udcc5"},amount:{className:"bg-amber-500/20 text-amber-300 px-1 py-0.5 rounded mx-0.5 font-bold",icon:"\ud83d\udcb0"},document:{className:"bg-purple-500/20 text-purple-300 px-1 py-0.5 rounded mx-0.5 underline decoration-purple-400/50 cursor-pointer hover:bg-purple-500/30 transition-colors",icon:"\ud83d\udcc4"},page:{className:"bg-blue-500/20 text-blue-300 px-1 py-0.5 rounded mx-0.5",icon:"\ud83d\udccd"}},xe={date:"\u05ea\u05d0\u05e8\u05d9\u05da",amount:"\u05e1\u05db\u05d5\u05dd",document:"\u05de\u05e1\u05de\u05da",page:"\u05e2\u05de\u05d5\u05d3"},he=e=>{let{type:t,text:s,onClick:n}=e;const a=me[t];return(0,ae.jsx)("span",{className:a.className,onClick:n,title:"".concat(a.icon," ").concat(xe[t]),children:s})},pe=e=>{let{text:t,onEntityClick:s,className:n=""}=e;if(!t)return null;const a=(e=>{const t=[];for(const[a,l]of Object.entries(ue)){let s;for(l.lastIndex=0;null!==(s=l.exec(e));)t.push({type:a,text:s[0],start:s.index,end:s.index+s[0].length})}t.sort((e,t)=>e.start-t.start);const s=[];let n=0;for(const a of t)a.start>=n&&(s.push(a),n=a.end);return s})(t);if(0===a.length)return(0,ae.jsx)("span",{className:n,children:t});const l=[];let i=0;for(const r of a)r.start>i&&l.push({type:"text",content:t.slice(i,r.start)}),l.push({type:"entity",entityType:r.type,content:r.text}),i=r.end;return i<t.length&&l.push({type:"text",content:t.slice(i)}),(0,ae.jsx)("span",{className:n,children:l.map((e,t)=>"text"===e.type?(0,ae.jsx)("span",{children:e.content},t):(0,ae.jsx)(he,{type:e.entityType,text:e.content,onClick:()=>null===s||void 0===s?void 0:s(e.entityType,e.content)},t))})},be=pe,ge=["node","children"],fe=["node","children"],ve=["node","children"],we=["node","children"],je=["node","children"],ye=["node","children"],Ne=["node","children"],_e=["node","children"],Ae=["node","children"],ke=["node","inline","className","children"],Ce=["node","children"],Se=["node","children"],ze=["node","children"],Re=["node","children"],Ee=["node","children"],Ie=["node","children"],Te=["node","children"],De=["node","children"],Le=["node","children"],Pe=(0,a.lazy)(()=>Promise.all([s.e(2151),s.e(9744)]).then(s.bind(s,9744))),Fe={contradiction:{icon:I.A,color:"red",bgClass:"bg-red-500/15 border-red-500/40",iconClass:"text-red-400",titleClass:"text-red-200",patterns:["\u05e1\u05ea\u05d9\u05e8","contradiction","\u05e0\u05d5\u05d2\u05d3","\u05e1\u05d5\u05ea\u05e8","\u05d1\u05e0\u05d9\u05d2\u05d5\u05d3","\u05dc\u05e2\u05d5\u05de\u05ea \u05d6\u05d0\u05ea"]},insight:{icon:Z.A,color:"amber",bgClass:"bg-amber-500/10 border-amber-500/30",iconClass:"text-amber-400",titleClass:"text-amber-200",patterns:["\u05ea\u05d5\u05d1\u05e0","insight","\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea","\u05de\u05de\u05e6\u05d0\u05d9\u05dd","\u05e2\u05d9\u05e7\u05e8\u05d9","\u05e1\u05d9\u05db\u05d5\u05dd"]},recommendation:{icon:K.A,color:"emerald",bgClass:"bg-emerald-500/10 border-emerald-500/30",iconClass:"text-emerald-400",titleClass:"text-emerald-200",patterns:["\u05d4\u05de\u05dc\u05e6","\u05e4\u05e2\u05d5\u05dc","recommend","\u05dc\u05e2\u05e9\u05d5\u05ea","\u05e6\u05e2\u05d3\u05d9\u05dd","\u05e9\u05dc\u05d1\u05d9\u05dd","action"]},warning:{icon:H.A,color:"red",bgClass:"bg-red-500/10 border-red-500/30",iconClass:"text-red-400",titleClass:"text-red-200",patterns:["\u05d0\u05d6\u05d4\u05e8","warning","\u05e1\u05d9\u05db\u05d5\u05df","\u05d7\u05e9\u05d5\u05d1 \u05dc\u05d3\u05e2\u05ea","\u05e9\u05d9\u05dd \u05dc\u05d1","\u05d6\u05d4\u05d9\u05e8\u05d5\u05ea","\u05d7\u05d5\u05dc\u05e9"]},source:{icon:C.A,color:"blue",bgClass:"bg-blue-500/10 border-blue-500/30",iconClass:"text-blue-400",titleClass:"text-blue-200",patterns:["\u05de\u05e7\u05d5\u05e8","source","\u05d4\u05e4\u05e0\u05d9","\u05de\u05e1\u05de\u05da","\u05e8\u05d0\u05d9\u05d4","\u05e2\u05de\u05d5\u05d3","\u05e6\u05d9\u05d8\u05d5\u05d8"]},strategy:{icon:R.A,color:"purple",bgClass:"bg-purple-500/10 border-purple-500/30",iconClass:"text-purple-400",titleClass:"text-purple-200",patterns:["\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2","strategy","\u05ea\u05db\u05e0\u05d5\u05df","\u05d2\u05d9\u05e9\u05d4","\u05d8\u05e7\u05d8\u05d9\u05e7"]},battle:{icon:I.A,color:"rose",bgClass:"bg-rose-500/10 border-rose-500/30",iconClass:"text-rose-400",titleClass:"text-rose-200",patterns:["\u05de\u05d0\u05d1\u05e7","battle","\u05e2\u05d9\u05de\u05d5\u05ea","\u05de\u05d7\u05dc\u05d5\u05e7\u05ea","\u05e7\u05d5\u05e0\u05e4\u05dc\u05d9\u05e7\u05d8","conflict"]},legal:{icon:Y.A,color:"indigo",bgClass:"bg-indigo-500/10 border-indigo-500/30",iconClass:"text-indigo-400",titleClass:"text-indigo-200",patterns:["\u05de\u05e9\u05e4\u05d8","legal","\u05d7\u05d5\u05e7","\u05e4\u05e1\u05d9\u05e7\u05d4","\u05ea\u05e7\u05d3\u05d9\u05dd","\u05e1\u05e2\u05d9\u05e3","\u05e2\u05d9\u05dc\u05d4"]},strength:{icon:ee.A,color:"green",bgClass:"bg-green-500/10 border-green-500/30",iconClass:"text-green-400",titleClass:"text-green-200",patterns:["\u05d7\u05d5\u05d6\u05e7","strength","\u05d9\u05ea\u05e8\u05d5\u05df","\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d7\u05d6\u05e7\u05d5\u05ea"]},question:{icon:te.A,color:"cyan",bgClass:"bg-cyan-500/10 border-cyan-500/30",iconClass:"text-cyan-400",titleClass:"text-cyan-200",patterns:["\u05e9\u05d0\u05dc","question","\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea","\u05dc\u05e9\u05d0\u05d5\u05dc"]},summary:{icon:p.A,color:"slate",bgClass:"bg-slate-500/10 border-slate-500/30",iconClass:"text-slate-300",titleClass:"text-slate-200",patterns:["\u05e1\u05d9\u05db\u05d5\u05dd","summary","\u05dc\u05e1\u05d9\u05db\u05d5\u05dd","\u05d1\u05e7\u05e6\u05e8\u05d4"]}},Oe=e=>"string"===typeof e?(0,ae.jsx)(be,{text:e}):Array.isArray(e)?e.map((e,t)=>"string"===typeof e?(0,ae.jsx)(be,{text:e},t):e):e,qe={h1:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,ge);return(0,ae.jsx)("h4",(0,n.A)((0,n.A)({className:"text-base font-bold mt-3 mb-2 text-white"},a),{},{children:Oe(s)}))},h2:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,fe);return(0,ae.jsx)("h5",(0,n.A)((0,n.A)({className:"text-sm font-bold mt-2 mb-1 text-white/90"},a),{},{children:Oe(s)}))},h3:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,ve);return(0,ae.jsx)("h6",(0,n.A)((0,n.A)({className:"text-sm font-semibold mt-2 mb-1 text-white/80"},a),{},{children:Oe(s)}))},ul:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,we);return(0,ae.jsx)("div",(0,n.A)((0,n.A)({className:"space-y-2 my-3"},a),{},{children:s}))},ol:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,je);return(0,ae.jsx)("div",(0,n.A)((0,n.A)({className:"space-y-2 my-3"},a),{},{children:s}))},li:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,ye);return(0,ae.jsxs)("div",(0,n.A)((0,n.A)({className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg border border-white/10"},a),{},{children:[(0,ae.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400 mt-1.5 flex-shrink-0"}),(0,ae.jsx)("span",{className:"flex-1 text-white/90",children:Oe(s)})]}))},p:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Ne);return(0,ae.jsx)("p",(0,n.A)((0,n.A)({className:"my-1.5 leading-relaxed text-white/85"},a),{},{children:Oe(s)}))},strong:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,_e);return(0,ae.jsx)("strong",(0,n.A)((0,n.A)({className:"font-semibold text-white"},a),{},{children:Oe(s)}))},em:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Ae);return(0,ae.jsx)("em",(0,n.A)((0,n.A)({className:"text-white/70 italic"},a),{},{children:Oe(s)}))},code:e=>{let{node:t,inline:s,className:l,children:i}=e,r=(0,J.A)(e,ke);if(/language-mermaid/.test(l||"")&&!s){const e=String(i).replace(/\n$/,"");return(0,ae.jsx)(a.Suspense,{fallback:(0,ae.jsx)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-white/10 animate-pulse",children:(0,ae.jsx)("div",{className:"text-white/40 text-sm text-center",children:"\u05d8\u05d5\u05e2\u05df \u05d3\u05d9\u05d0\u05d2\u05e8\u05de\u05d4..."})}),children:(0,ae.jsx)(Pe,{chart:e,className:"my-3"})})}return s?(0,ae.jsx)("code",(0,n.A)((0,n.A)({className:"bg-white/10 rounded px-1.5 py-0.5 text-xs font-mono text-amber-200"},r),{},{children:i})):(0,ae.jsx)("code",(0,n.A)((0,n.A)({className:"block bg-black/30 rounded-lg p-3 my-2 font-mono text-sm text-white/90 border border-white/10 overflow-x-auto"},r),{},{children:i}))},pre:e=>{let{node:t,children:s}=e;(0,J.A)(e,Ce);return(0,ae.jsx)(ae.Fragment,{children:s})},blockquote:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Se);return(0,ae.jsx)("blockquote",(0,n.A)((0,n.A)({className:"border-r-2 border-white/30 pr-3 my-2 text-white/70 italic"},a),{},{children:Oe(s)}))},a:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,ze);return(0,ae.jsx)("a",(0,n.A)((0,n.A)({className:"text-blue-300 hover:text-blue-200 underline",target:"_blank",rel:"noopener noreferrer"},a),{},{children:s}))},table:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Re);return(0,ae.jsx)("div",{className:"overflow-x-auto my-3",children:(0,ae.jsx)("table",(0,n.A)((0,n.A)({className:"w-full border-collapse bg-white/5 rounded-lg overflow-hidden"},a),{},{children:s}))})},thead:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Ee);return(0,ae.jsx)("thead",(0,n.A)((0,n.A)({className:"bg-white/10"},a),{},{children:s}))},tbody:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Ie);return(0,ae.jsx)("tbody",(0,n.A)((0,n.A)({className:"divide-y divide-white/10"},a),{},{children:s}))},tr:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Te);return(0,ae.jsx)("tr",(0,n.A)((0,n.A)({className:"hover:bg-white/5 transition-colors"},a),{},{children:s}))},th:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,De);return(0,ae.jsx)("th",(0,n.A)((0,n.A)({className:"px-3 py-2 text-right text-sm font-semibold text-white border-b border-white/20"},a),{},{children:Oe(s)}))},td:e=>{let{node:t,children:s}=e,a=(0,J.A)(e,Le);return(0,ae.jsx)("td",(0,n.A)((0,n.A)({className:"px-3 py-2 text-sm text-white/90"},a),{},{children:Oe(s)}))}},Me=e=>{const t=e.toLowerCase();for(const[s,n]of Object.entries(Fe))if(n.patterns.some(e=>t.includes(e.toLowerCase())))return s;return e.includes("\ud83d\udca1")||e.includes("\ud83d\udd0d")?"insight":e.includes("\u2705")||e.includes("\ud83d\udccb")?"recommendation":e.includes("\u26a0\ufe0f")||e.includes("\ud83d\udea8")?"warning":e.includes("\ud83d\udccd")||e.includes("\ud83d\udcc4")?"source":e.includes("\ud83c\udfaf")||e.includes("\u2694\ufe0f")?"strategy":e.includes("\u2696\ufe0f")||e.includes("\ud83d\udcdc")?"legal":e.includes("\ud83d\udcaa")||e.includes("\ud83d\udee1\ufe0f")?"strength":e.includes("\u2753")||e.includes("\ud83d\udd0e")?"question":null},Ge=async e=>{try{await navigator.clipboard.writeText(String(e||""))}catch(t){}},Ue=e=>{let{section:t,isLast:s}=e;const n=t.type?Fe[t.type]:null,a=(null===n||void 0===n?void 0:n.icon)||u.A;return t.isIntro?(0,ae.jsx)("div",{className:"text-white/90 w-full min-w-0 ".concat(s?"":"mb-4"),children:(0,ae.jsx)(V.oz,{remarkPlugins:[Q.A],components:qe,children:t.content})}):!t.type&&t.title?(0,ae.jsxs)("div",{className:"rounded-xl border bg-slate-500/10 border-slate-500/30 overflow-hidden w-full min-w-0 ".concat(s?"":"mb-3"),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2.5 border-b border-white/5",children:[(0,ae.jsx)(u.A,{size:18,className:"text-slate-300"}),(0,ae.jsx)("span",{className:"font-semibold text-sm flex-1 text-slate-200",children:t.title}),(0,ae.jsx)("button",{onClick:()=>Ge("".concat(t.title,"\n\n").concat(t.content||"")),className:"p-1.5 rounded-lg hover:bg-white/10 text-white/60 hover:text-white transition-colors",title:"\u05d4\u05e2\u05ea\u05e7",children:(0,ae.jsx)(N.A,{size:14})})]}),(0,ae.jsx)("div",{className:"px-4 py-3",children:(0,ae.jsx)(V.oz,{remarkPlugins:[Q.A],components:qe,children:t.content})})]}):"contradiction"===t.type?(0,ae.jsx)("div",{className:"w-full min-w-0 ".concat(s?"":"mb-3"),children:(0,ae.jsx)(de,{text:"".concat(t.title,"\n").concat(t.content)})}):(0,ae.jsxs)("div",{className:"rounded-xl border ".concat(n.bgClass," overflow-hidden w-full min-w-0 ").concat(s?"":"mb-3"),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2.5 border-b border-white/5",children:[(0,ae.jsx)(a,{size:18,className:n.iconClass}),(0,ae.jsx)("span",{className:"font-semibold text-sm flex-1 ".concat(n.titleClass),children:t.title}),(0,ae.jsx)("button",{onClick:()=>Ge("".concat(t.title,"\n\n").concat(t.content||"")),className:"p-1.5 rounded-lg hover:bg-white/10 text-white/60 hover:text-white transition-colors",title:"\u05d4\u05e2\u05ea\u05e7",children:(0,ae.jsx)(N.A,{size:14})}),(0,ae.jsx)("button",{onClick:()=>(e=>{let{filename:t,title:s,content:n}=e;const a=String(s||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=String(n||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>"),i='<!doctype html><html><head><meta charset="utf-8"/></head><body dir="rtl"><h1>'.concat(a,'</h1><div style="line-height:1.5;">').concat(l,"</div></body></html>"),r=new Blob([i],{type:"application/msword"}),o=URL.createObjectURL(r),c=document.createElement("a");c.href=o,c.download=t||"yitro.doc",c.click(),URL.revokeObjectURL(o)})({filename:"yitro-".concat((t.title||"section").slice(0,24),".doc"),title:t.title||"\u05de\u05e7\u05d8\u05e2",content:t.content||""}),className:"p-1.5 rounded-lg hover:bg-white/10 text-white/60 hover:text-white transition-colors",title:"\u05d4\u05d5\u05e8\u05d3",children:(0,ae.jsx)(m.A,{size:14})})]}),(0,ae.jsx)("div",{className:"px-4 py-3",children:(0,ae.jsx)(V.oz,{remarkPlugins:[Q.A],components:qe,children:t.content})})]})},Xe=e=>{let{content:t,className:s=""}=e;const n=(0,a.useMemo)(()=>(e=>{if(!e)return[];const t=e.split("\n"),s=[];let n=null,a=[];for(const l of t){const e=l.match(/^(#{1,3})\s*(.+)$/),t=l.match(/^([\ud83d\udca1\u2705\u26a0\ufe0f\ud83d\udccd\ud83c\udfaf\u2696\ufe0f\ud83d\udcaa\u2753\ud83d\udd0d\ud83d\udccb\ud83d\udea8\ud83d\udcc4\u2694\ufe0f\ud83d\udcdc\ud83d\udee1\ufe0f\ud83d\udd0e])\s*(.+)$/),i=l.match(/^\*\*([^*]+)\*\*:?\s*$/);if(e||t||i){if(n)s.push(n);else if(a.length>0){const e=a.join("\n").trim();e&&s.push({type:null,title:null,content:e,isIntro:!0})}const l=e?e[2]:t?t[2]:i[1];n={type:Me(l),title:l.trim(),content:"",lines:[]}}else n?n.lines.push(l):a.push(l)}return n?(n.content=n.lines.join("\n").trim(),delete n.lines,s.push(n)):a.length>0&&0===s.length&&s.push({type:null,title:null,content:a.join("\n").trim(),isIntro:!0}),s.map(e=>(e.lines&&(e.content=e.lines.join("\n").trim(),delete e.lines),e)).filter(e=>e.content||e.title)})(t),[t]);return 0===n.length||1===n.length&&n[0].isIntro&&t.length<200?(0,ae.jsx)("div",{className:"text-white/90 leading-relaxed ".concat(s),children:(0,ae.jsx)(V.oz,{remarkPlugins:[Q.A],components:qe,children:t})}):(0,ae.jsxs)("div",{className:"space-y-1 w-full min-w-0 overflow-hidden ".concat(s),children:[n.length>1&&(0,ae.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:n.map((e,t)=>{if(e.isIntro)return null;const s=e.type?Fe[e.type]:null,n=(null===s||void 0===s?void 0:s.icon)||u.A;return(0,ae.jsxs)("a",{href:"#section-".concat(t),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs bg-white/5 text-white/70 border border-white/10 hover:bg-white/10 hover:text-white transition-colors",children:[(0,ae.jsx)(n,{size:12,className:(null===s||void 0===s?void 0:s.iconClass)||"text-white/50"}),(0,ae.jsx)("span",{children:(e.title||"\u05de\u05e7\u05d8\u05e2 ".concat(t+1)).slice(0,20)})]},"".concat(e.title||"section","-").concat(t))})}),n.map((e,t)=>(0,ae.jsx)("div",{id:"section-".concat(t),children:(0,ae.jsx)(Ue,{section:e,isLast:t===n.length-1})},t))]})},Be=["\u05d7\u05d5\u05e9\u05d1","\u05de\u05d4\u05e8\u05d4\u05e8","\u05e9\u05d5\u05e7\u05dc","\u05de\u05ea\u05dc\u05d1\u05d8","\u05de\u05e2\u05de\u05d9\u05e7","\u05de\u05ea\u05d1\u05d5\u05e0\u05df","\u05de\u05ea\u05e8\u05db\u05d6","\u05de\u05e2\u05e8\u05d9\u05da","\u05d1\u05d5\u05d7\u05df","\u05de\u05e4\u05e8\u05e9"],$e=["\u05de\u05e0\u05ea\u05d7","\u05d1\u05d5\u05d3\u05e7","\u05de\u05d3\u05d9\u05d9\u05e7","\u05de\u05e0\u05e1\u05d7","\u05d7\u05d5\u05e7\u05e8","\u05de\u05e4\u05e2\u05e0\u05d7","\u05de\u05de\u05e4\u05d4","\u05de\u05e9\u05d5\u05d5\u05d4","\u05de\u05d0\u05de\u05ea","\u05de\u05e1\u05e0\u05df"],We=["\u05dc\u05d5\u05de\u05d3","\u05de\u05e9\u05e0\u05df","\u05d3\u05d5\u05d2\u05e8","\u05d7\u05d5\u05d6\u05e8","\u05de\u05ea\u05e8\u05d2\u05dc","\u05e7\u05d5\u05dc\u05d8","\u05d6\u05d5\u05db\u05e8","\u05e9\u05d5\u05e7\u05d3","\u05de\u05ea\u05e2\u05de\u05e7","\u05d2\u05d5\u05e8\u05e1"],Je=["\u05de\u05ea\u05e8\u05d2\u05e9","\u05de\u05ea\u05dc\u05d4\u05d1","\u05de\u05d2\u05dc\u05d4","\u05de\u05d6\u05d4\u05d4","\u05e4\u05d5\u05e8\u05e5","\u05de\u05d1\u05d9\u05df"],Ve=["\u05dc\u05e9","\u05d0\u05d5\u05e4\u05d4","\u05de\u05d1\u05e9\u05dc","\u05de\u05ea\u05d1\u05dc\u05df","\u05d8\u05d5\u05e2\u05dd","\u05de\u05e2\u05e8\u05d1\u05d1","\u05e7\u05d5\u05e6\u05e5","\u05de\u05d2\u05e8\u05d3","\u05de\u05e7\u05e6\u05d9\u05e3","\u05e6\u05d5\u05dc\u05d4","\u05de\u05d8\u05d2\u05df","\u05de\u05d0\u05d3\u05d4","\u05de\u05d7\u05de\u05dd","\u05de\u05e7\u05e8\u05e8","\u05de\u05de\u05dc\u05d9\u05d7","\u05de\u05e4\u05dc\u05e4\u05dc","\u05e9\u05d5\u05d7\u05e7","\u05db\u05d5\u05ea\u05e9"],Qe=["\u05de\u05d7\u05e4\u05e9","\u05e1\u05d5\u05e8\u05e7","\u05de\u05de\u05d9\u05d9\u05df","\u05de\u05d0\u05e8\u05d2\u05df","\u05de\u05e8\u05db\u05d9\u05d1","\u05de\u05e4\u05e8\u05e7","\u05de\u05d7\u05d1\u05e8","\u05de\u05e7\u05e9\u05e8","\u05de\u05d2\u05dc\u05d2\u05dc","\u05de\u05e7\u05e4\u05dc","\u05ea\u05d5\u05e4\u05e8","\u05e1\u05d5\u05e8\u05d2"],Ze=["\u05de\u05ea\u05e4\u05d6\u05dc","\u05e9\u05d5\u05dc\u05d7\u05df","\u05de\u05e7\u05e8\u05d8\u05e2","\u05d3\u05d5\u05e4\u05e8\u05e1","\u05de\u05d7\u05e9\u05de\u05dc","\u05e4\u05d5\u05e8\u05de\u05d8","\u05de\u05d2\u05dc\u05d1\u05d8","\u05e9\u05d5\u05e8\u05e9\u05e8","\u05de\u05ea\u05e8\u05e4\u05e7"],Ke=[...Be,...$e,...We,...Je,...Ve,...Qe,...Ze],He={thinking:{words:Be,minDelay:4e3,maxDelay:7e3,waveSpeed:4.5},analyzing:{words:$e,minDelay:2500,maxDelay:4500,waveSpeed:3.5},learning:{words:We,minDelay:3e3,maxDelay:5500,waveSpeed:4},excited:{words:Je,minDelay:800,maxDelay:1500,waveSpeed:1.8},cooking:{words:Ve,minDelay:3e3,maxDelay:5e3,waveSpeed:4},working:{words:Qe,minDelay:2e3,maxDelay:4e3,waveSpeed:3},weird:{words:Ze,minDelay:2e3,maxDelay:4e3,waveSpeed:2.5}},Ye=["thinking","analyzing","learning","excited","cooking","working","weird"],et=e=>{let{size:t=60,className:s="",showText:n=!0,progress:l,progressMessage:i}=e;const[r,o]=(0,a.useState)(Ke[0]),[c,d]=(0,a.useState)("analyzing"),[u,m]=(0,a.useState)(3.5),[x,h]=(0,a.useState)(!1),p=(0,a.useRef)(null),b=(0,a.useRef)(null),g=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,f=e=>{const t=He[e].words;return t[Math.floor(Math.random()*t.length)]},v=e=>{const t=He[e],s=g(t.minDelay,t.maxDelay);p.current=setTimeout(()=>{h(!0),setTimeout(()=>{o(f(e)),h(!1),v(e)},300)},s)},w=()=>{const e=g(8e3,2e4);b.current=setTimeout(()=>{let e;do{e=Ye[Math.floor(Math.random()*Ye.length)]}while(e===c&&Ye.length>1);d(e),m(He[e].waveSpeed),o(f(e)),p.current&&clearTimeout(p.current),v(e),w()},e)};(0,a.useEffect)(()=>(o(f(c)),v(c),w(),()=>{p.current&&clearTimeout(p.current),b.current&&clearTimeout(b.current)}),[]),(0,a.useEffect)(()=>{m(He[c].waveSpeed)},[c]);const j=void 0!==l&&l>=0;return(0,ae.jsxs)("div",{className:"flex flex-col items-center ".concat(s),children:[(0,ae.jsxs)("div",{className:"relative",style:{width:t,height:t},children:[(0,ae.jsx)("div",{className:"absolute rounded-full",style:{width:.12*t,height:.12*t,top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"excited"===c?"linear-gradient(135deg, #f59e0b, #ef4444)":"linear-gradient(135deg, #60a5fa, #a78bfa)",boxShadow:"excited"===c?"0 0 20px rgba(245, 158, 11, 0.6)":"0 0 15px rgba(96, 165, 250, 0.5)",animation:"center-pulse ".concat("excited"===c?"0.5s":"2s"," ease-in-out infinite")}}),[0,1,2,3].map(e=>(0,ae.jsx)("div",{className:"absolute rounded-full",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"excited"===c?"2px solid rgba(245, 158, 11, 0.5)":"2px solid rgba(96, 165, 250, 0.4)",animation:"wave-ripple ".concat(u,"s ease-out infinite"),animationDelay:"".concat(e*(u/4),"s"),opacity:0}},e)),[0,1].map(e=>(0,ae.jsx)("div",{className:"absolute rounded-full",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"excited"===c?"radial-gradient(circle, transparent 30%, rgba(245, 158, 11, 0.08) 70%, transparent 100%)":"radial-gradient(circle, transparent 30%, rgba(96, 165, 250, 0.06) 70%, transparent 100%)",animation:"wave-glow ".concat(1.5*u,"s ease-in-out infinite"),animationDelay:"".concat(e*(.75*u),"s")}},"glow-".concat(e)))]}),n&&(0,ae.jsx)("div",{className:"h-7 flex items-center justify-center mt-3",children:(0,ae.jsxs)("span",{className:"text-sm font-medium transition-all duration-300 ".concat(x?"opacity-0 translate-y-2":"opacity-100 translate-y-0"," ").concat("excited"===c?"text-amber-400/90":"text-blue-300/80"),children:[r,"..."]})}),(0,ae.jsxs)("div",{className:"w-full max-w-[200px] mt-4",children:[i&&(0,ae.jsx)("div",{className:"text-white/60 text-xs text-center mb-1.5 truncate",children:i}),(0,ae.jsx)("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:j?(0,ae.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ease-out ".concat("excited"===c?"bg-gradient-to-r from-amber-500 to-red-500":"bg-gradient-to-r from-blue-500 to-purple-500"),style:{width:"".concat(Math.min(100,Math.max(0,l||0)),"%")}}):(0,ae.jsx)("div",{className:"h-full w-1/3 rounded-full ".concat("excited"===c?"bg-gradient-to-r from-amber-500 to-red-500":"bg-gradient-to-r from-blue-500 to-purple-500"),style:{animation:"indeterminate-progress 1.5s ease-in-out infinite"}})}),j&&(0,ae.jsxs)("div",{className:"text-white/40 text-[10px] text-center mt-1",children:[Math.round(l||0),"%"]})]}),(0,ae.jsx)("style",{children:"\n        @keyframes wave-ripple {\n          0% {\n            width: 15%;\n            height: 15%;\n            opacity: 0.7;\n            border-width: 2.5px;\n          }\n          100% {\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            border-width: 0.5px;\n          }\n        }\n\n        @keyframes wave-glow {\n          0%, 100% {\n            width: 20%;\n            height: 20%;\n            opacity: 0;\n          }\n          50% {\n            width: 85%;\n            height: 85%;\n            opacity: 0.4;\n          }\n        }\n\n        @keyframes center-pulse {\n          0%, 100% {\n            transform: translate(-50%, -50%) scale(1);\n          }\n          50% {\n            transform: translate(-50%, -50%) scale(1.15);\n          }\n        }\n\n        @keyframes indeterminate-progress {\n          0% {\n            transform: translateX(-100%);\n          }\n          100% {\n            transform: translateX(400%);\n          }\n        }\n      "})]})};var tt=s(3944),st=s(8018);const nt=e=>{let{messageId:t,caseId:s,messageContent:n,onRated:l,initialRating:i=0,size:r=18,showLabel:o=!0}=e;const[c,d]=(0,a.useState)(i),[u,m]=(0,a.useState)(0),[x,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(i>0),f=(0,a.useCallback)(async e=>{if(!x&&s){h(!0);try{await(0,B.$P)("/api/cases/".concat(s,"/message-feedback"),{message_id:t,rating:e,message_preview:(null===n||void 0===n?void 0:n.slice(0,200))||"",feedback_type:"star_rating"},{showErrorToast:!1}),d(e),b(!0),null===l||void 0===l||l(e),e>=4?g.oR.success("\u05ea\u05d5\u05d3\u05d4! \u05d4\u05de\u05e9\u05d5\u05d1 \u05e9\u05dc\u05da \u05e2\u05d5\u05d6\u05e8 \u05dc\u05d9\u05ea\u05e8\u05d5 \u05dc\u05d4\u05e9\u05ea\u05e4\u05e8 \u2b50"):e>=2?g.oR.info("\u05ea\u05d5\u05d3\u05d4 \u05e2\u05dc \u05d4\u05de\u05e9\u05d5\u05d1"):g.oR.info("\u05e0\u05dc\u05de\u05d3 \u05de\u05d4\u05de\u05e9\u05d5\u05d1 \u05e9\u05dc\u05da")}catch(a){st.v.error("Failed to submit star rating:",a),d(e),b(!0)}finally{h(!1)}}},[s,t,n,x,l]),v=u||c;return(0,ae.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all ".concat(p?"bg-amber-500/10 border border-amber-500/30":"bg-purple-500/10 border border-purple-500/20 hover:border-purple-500/40"),children:[o&&(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[!p&&(0,ae.jsx)(T.A,{size:12,className:"text-purple-400"}),(0,ae.jsx)("span",{className:"text-xs font-medium ".concat(p?"text-amber-400":"text-purple-300"),children:p?"\u05d3\u05d9\u05e8\u05d5\u05d2:":"\u05d3\u05e8\u05d2 \u05d0\u05ea \u05d4\u05ea\u05e9\u05d5\u05d1\u05d4"})]}),(0,ae.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,ae.jsx)("button",{onClick:()=>{return t=e,void(p&&c===t||f(t));var t},onMouseEnter:()=>!p&&m(e),onMouseLeave:()=>m(0),disabled:x,className:"p-0.5 rounded-full transition-all duration-200 ".concat(x?"opacity-50 cursor-wait":p?"cursor-default":"hover:scale-125 hover:bg-amber-500/20"),title:"".concat(e," \u05db\u05d5\u05db\u05d1\u05d9\u05dd"),children:(0,ae.jsx)(tt.A,{size:r,className:"transition-all duration-200 ".concat(e<=v?"text-amber-400 fill-amber-400 drop-shadow-[0_0_3px_rgba(251,191,36,0.5)]":"text-white/30 hover:text-amber-300/50"," ").concat(!p&&u>=e?"text-amber-300 fill-amber-300 scale-110":"")})},e))}),p&&c>0&&(0,ae.jsx)("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full ".concat(c>=4?"bg-green-500/20 text-green-400":c>=3?"bg-yellow-500/20 text-yellow-400":"bg-orange-500/20 text-orange-400"),children:(w=c,5===w?"\u05de\u05e2\u05d5\u05dc\u05d4!":4===w?"\u05d8\u05d5\u05d1 \u05de\u05d0\u05d5\u05d3":3===w?"\u05d1\u05e1\u05d3\u05e8":2===w?"\u05d7\u05dc\u05e9":"\u05dc\u05d0 \u05de\u05d5\u05e2\u05d9\u05dc")})]});var w};var at=s(4131),lt=s(4893);const it=(0,at.v)()((0,lt.Zr)(e=>({entries:[],isCollapsed:!1,addEntry:t=>e(e=>{const s="number"===typeof t.ts?t.ts:Date.now(),n={id:"".concat(s,"-").concat(Math.random().toString(36).slice(2,10)),ts:s,type:t.type,level:t.level,message:t.message,meta:t.meta};return{entries:[...e.entries,n].slice(-200)}}),clear:()=>e({entries:[]}),setCollapsed:t=>e({isCollapsed:t})}),{name:"yitro_activity_log",partialize:e=>({entries:e.entries,isCollapsed:e.isCollapsed})}));var rt=s(262),ot=s(516),ct=s(7118);const dt={unknown:"\u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2",plaintiff:"\u05ea\u05d5\u05d1\u05e2",defendant:"\u05e0\u05ea\u05d1\u05e2",petitioner:"\u05de\u05d1\u05e7\u05e9",respondent:"\u05de\u05e9\u05d9\u05d1",appellant:"\u05de\u05e2\u05e8\u05e2\u05e8",respondent_appeal:"\u05de\u05e9\u05d9\u05d1 \u05d1\u05e2\u05e8\u05e2\u05d5\u05e8",respondent_admin:"\u05de\u05e9\u05d9\u05d1 \u05d1\u05e2\u05ea\u05d9\u05e8\u05d4"},ut={low:"text-amber-400 bg-amber-500/20",medium:"text-blue-400 bg-blue-500/20",high:"text-green-400 bg-green-500/20"},mt={low:"\u05d1\u05d9\u05d8\u05d7\u05d5\u05df \u05e0\u05de\u05d5\u05da",medium:"\u05d1\u05d9\u05d8\u05d7\u05d5\u05df \u05d1\u05d9\u05e0\u05d5\u05e0\u05d9",high:"\u05d1\u05d9\u05d8\u05d7\u05d5\u05df \u05d2\u05d1\u05d5\u05d4"};function xt(e){let{caseId:t,onRepresentationChange:s,compact:n=!1}=e;const[l,i]=(0,a.useState)(null),[r,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),g=(0,a.useRef)(!1),f=async()=>{try{const e=await(0,B.apiGet)("/api/cases/".concat(t,"/representation"));i(e)}catch(e){console.error("Failed to fetch representation:",e)}finally{o(!1)}};(0,a.useEffect)(()=>{f()},[t]),(0,a.useEffect)(()=>{l&&(l.is_confirmed||l.guess_side&&"unknown"!==l.guess_side||g.current||(g.current=!0,w()))},[null===l||void 0===l?void 0:l.is_confirmed,null===l||void 0===l?void 0:l.guess_side]);const v=async(e,n)=>{try{const a=await(0,B.$P)("/api/cases/".concat(t,"/representation/confirm"),{side_confirmed:e,client_name:n});i(a.representation),b(!1),null===s||void 0===s||s(e)}catch(a){console.error("Failed to confirm representation:",a)}},w=async()=>{d(!0);try{const e=await(0,B.$P)("/api/cases/".concat(t,"/representation/resolve"),{});e.representation&&i(e.representation)}catch(e){console.error("Failed to resolve representation:",e)}finally{d(!1)}},j=async()=>{try{await(0,B.Al)("/api/cases/".concat(t,"/representation")),await f(),null===s||void 0===s||s("unknown")}catch(e){console.error("Failed to clear representation:",e)}};if(r)return null;if(!l)return null;const N=l.is_confirmed,_="unknown"!==l.guess_side&&l.confidence>=.65,k=N?l.side_confirmed:l.guess_side;if(!N&&"unknown"===l.guess_side)return n?null:(0,ae.jsxs)("div",{className:"bg-slate-800/80 border border-slate-700 rounded-lg p-3 mb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,ae.jsx)(te.A,{size:18,className:"text-slate-400"}),(0,ae.jsx)("span",{className:"text-sm",children:"\u05dc\u05e4\u05e0\u05d9 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05e7\u05d3\u05dd (\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea/\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4/\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea) \u05d7\u05d5\u05d1\u05d4 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05d0\u05ea \u05de\u05d9 \u05d0\u05ea\u05d4 \u05de\u05d9\u05d9\u05e6\u05d2. \u05db\u05e8\u05d2\u05e2 \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05de\u05e0\u05e1\u05d4 \u05dc\u05d6\u05d4\u05d5\u05ea \u05d6\u05d0\u05ea \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea."})]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsxs)("button",{onClick:w,disabled:c,className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[c?(0,ae.jsx)(ot.A,{size:14,className:"animate-spin"}):(0,ae.jsx)(ot.A,{size:14}),"\u05d6\u05d4\u05d4 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea"]}),(0,ae.jsxs)("button",{onClick:()=>b(!0),className:"px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-white rounded-lg flex items-center gap-1.5 transition-colors",children:[(0,ae.jsx)(Y.A,{size:14}),"\u05d1\u05d7\u05e8 \u05d9\u05d3\u05e0\u05d9\u05ea"]})]})]}),p&&(0,ae.jsxs)("div",{className:"mt-3 p-3 bg-slate-900/50 rounded-lg border border-slate-600",children:[(0,ae.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05e6\u05d3 \u05e9\u05d0\u05ea\u05d4 \u05de\u05d9\u05d9\u05e6\u05d2:"}),(0,ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(dt).filter(e=>{let[t]=e;return"unknown"!==t}).map(e=>{let[t,s]=e;return(0,ae.jsx)("button",{onClick:()=>v(t),className:"px-3 py-2 text-sm bg-slate-700 hover:bg-blue-600 text-white rounded transition-colors",children:s},t)})}),(0,ae.jsx)("button",{onClick:()=>b(!1),className:"mt-2 text-sm text-slate-400 hover:text-white",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})]});if(N)return n?(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,ae.jsx)(ct.A,{size:14,className:"text-green-400"}),(0,ae.jsx)("span",{className:"text-green-300",children:dt[k]||k}),(0,ae.jsx)("button",{onClick:()=>b(!0),className:"text-slate-400 hover:text-white text-xs",children:"\u05e9\u05e0\u05d4"})]}):(0,ae.jsxs)("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-3 mb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(y.A,{size:18,className:"text-green-400"}),(0,ae.jsxs)("span",{className:"text-green-300 font-medium",children:["\u05de\u05d9\u05d9\u05e6\u05d2: ",dt[k]||k,l.client_name&&(0,ae.jsxs)("span",{className:"text-green-400/70 mr-1",children:["(",l.client_name,")"]})]})]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsx)("button",{onClick:()=>b(!0),className:"px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"\u05e9\u05e0\u05d4"}),(0,ae.jsx)("button",{onClick:j,className:"px-3 py-1.5 text-sm text-slate-400 hover:text-white transition-colors",title:"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d5-\u05e6\u05d3\u05d3\u05d9",children:(0,ae.jsx)(A.A,{size:14})})]})]}),p&&(0,ae.jsxs)("div",{className:"mt-3 p-3 bg-slate-900/50 rounded-lg border border-slate-600",children:[(0,ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(dt).filter(e=>{let[t]=e;return"unknown"!==t}).map(e=>{let[t,s]=e;return(0,ae.jsx)("button",{onClick:()=>v(t),className:"px-3 py-2 text-sm rounded transition-colors ".concat(t===k?"bg-green-600 text-white":"bg-slate-700 hover:bg-blue-600 text-white"),children:s},t)})}),(0,ae.jsx)("button",{onClick:()=>b(!1),className:"mt-2 text-sm text-slate-400 hover:text-white",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})]});if(_){const e=ut[l.confidence_level]||ut.low,t=mt[l.confidence_level]||"\u05d1\u05d9\u05d8\u05d7\u05d5\u05df \u05e0\u05de\u05d5\u05da";return n?(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,ae.jsx)(ct.A,{size:14,className:"text-blue-400"}),(0,ae.jsx)("span",{className:"text-blue-300",children:dt[k]}),(0,ae.jsxs)("span",{className:"px-1.5 py-0.5 text-xs rounded ".concat(e),children:[Math.round(100*l.confidence),"%"]})]}):(0,ae.jsxs)("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-3 mb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(ct.A,{size:18,className:"text-blue-400"}),(0,ae.jsxs)("span",{className:"text-blue-300",children:["\u05d6\u05d9\u05d4\u05d9\u05ea\u05d9 \u05e9\u05d0\u05ea\u05d4 \u05de\u05d9\u05d9\u05e6\u05d2 \u05d0\u05ea: ",(0,ae.jsx)("strong",{children:dt[k]})]}),(0,ae.jsx)("span",{className:"px-2 py-0.5 text-xs rounded ".concat(e),children:t})]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsxs)("button",{onClick:()=>v(k),className:"px-3 py-1.5 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-1.5 transition-colors",children:[(0,ae.jsx)(y.A,{size:14}),"\u05e0\u05db\u05d5\u05df"]}),(0,ae.jsxs)("button",{onClick:()=>b(!0),className:"px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-white rounded-lg flex items-center gap-1.5 transition-colors",children:[(0,ae.jsx)(A.A,{size:14}),"\u05dc\u05d0 \u05e0\u05db\u05d5\u05df"]})]})]}),l.evidence_refs.length>0&&(0,ae.jsxs)("button",{onClick:()=>m(!u),className:"mt-2 flex items-center gap-1 text-sm text-blue-400 hover:text-blue-300",children:[u?(0,ae.jsx)(x.A,{size:14}):(0,ae.jsx)(h.A,{size:14}),u?"\u05d4\u05e1\u05ea\u05e8 \u05e8\u05d0\u05d9\u05d5\u05ea":"\u05d4\u05e6\u05d2 \u05e8\u05d0\u05d9\u05d5\u05ea \u05dc\u05d6\u05d9\u05d4\u05d5\u05d9"]}),u&&l.evidence_refs.length>0&&(0,ae.jsx)("div",{className:"mt-2 space-y-2 text-sm",children:l.evidence_refs.slice(0,3).map((e,t)=>(0,ae.jsxs)("div",{className:"p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,ae.jsxs)("span",{className:"text-slate-400 text-xs",children:[e.signal,":"]}),(0,ae.jsxs)("p",{className:"text-slate-300 mt-1 text-right",dir:"rtl",children:['"',e.quote,'"']})]},t))}),p&&(0,ae.jsxs)("div",{className:"mt-3 p-3 bg-slate-900/50 rounded-lg border border-slate-600",children:[(0,ae.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"\u05d1\u05d7\u05e8 \u05d0\u05ea \u05d4\u05e6\u05d3 \u05d4\u05e0\u05db\u05d5\u05df:"}),(0,ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(dt).filter(e=>{let[t]=e;return"unknown"!==t}).map(e=>{let[t,s]=e;return(0,ae.jsx)("button",{onClick:()=>v(t),className:"px-3 py-2 text-sm bg-slate-700 hover:bg-blue-600 text-white rounded transition-colors",children:s},t)})}),(0,ae.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,ae.jsx)("button",{onClick:j,className:"text-sm text-slate-400 hover:text-white",children:"\u05dc\u05d0 \u05d1\u05d8\u05d5\u05d7 - \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d3\u05d5-\u05e6\u05d3\u05d3\u05d9"})}),(0,ae.jsx)("button",{onClick:()=>b(!1),className:"mt-2 mr-4 text-sm text-slate-400 hover:text-white",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})]})}return null}var ht=s(9292);async function pt(e){return(0,B.apiGet)("/api/cases/".concat(encodeURIComponent(e),"/capabilities"))}const bt={analysis:"from-blue-500 to-cyan-500",strategy:"from-amber-500 to-orange-500",search:"from-emerald-500 to-teal-500",intelligence:"from-purple-500 to-pink-500",reports:"from-slate-500 to-slate-700",interaction:"from-indigo-500 to-sky-500"},gt={available:{label:"\u05d6\u05de\u05d9\u05df",badge:"bg-emerald-500/15 border-emerald-500/30",text:"text-emerald-200",dot:"bg-emerald-400"},requires_data:{label:"\u05d3\u05d5\u05e8\u05e9 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd",badge:"bg-amber-500/15 border-amber-500/30",text:"text-amber-200",dot:"bg-amber-400"},blocked_tier:{label:"\u05e0\u05e2\u05d5\u05dc (\u05de\u05e0\u05d5\u05d9)",badge:"bg-purple-500/15 border-purple-500/30",text:"text-purple-200",dot:"bg-purple-400"},blocked_quota:{label:"\u05e0\u05e2\u05d5\u05dc (\u05de\u05db\u05e1\u05d4)",badge:"bg-red-500/15 border-red-500/30",text:"text-red-200",dot:"bg-red-400"},coming_soon:{label:"\u05d1\u05e7\u05e8\u05d5\u05d1",badge:"bg-sky-500/15 border-sky-500/30",text:"text-sky-200",dot:"bg-sky-400"},disabled:{label:"\u05de\u05d5\u05e9\u05d1\u05ea",badge:"bg-slate-500/15 border-slate-500/30",text:"text-slate-200",dot:"bg-slate-400"}},ft={claims:"\u05d7\u05dc\u05e5 \u05d0\u05ea \u05d4\u05d8\u05e2\u05e0\u05d5\u05ea \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea \u05de\u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d5\u05d4\u05e6\u05d2 \u05d0\u05d5\u05ea\u05df \u05d1\u05d8\u05d1\u05dc\u05d4 \u05e2\u05dd \u05d4\u05e4\u05e0\u05d9\u05d5\u05ea \u05dc\u05e2\u05de\u05d5\u05d3\u05d9\u05dd.",contradictions:"\u05de\u05e6\u05d0 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d1\u05ea\u05d9\u05e7 \u05d5\u05d4\u05e6\u05d2 \u05dc\u05db\u05dc \u05e1\u05ea\u05d9\u05e8\u05d4 \u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd \u05de\u05d3\u05d5\u05d9\u05e7\u05d9\u05dd \u05d5\u05d4\u05de\u05dc\u05e6\u05d4 \u05de\u05d4 \u05dc\u05e2\u05e9\u05d5\u05ea.",entities:"\u05d7\u05dc\u05e5 \u05d9\u05e9\u05d5\u05d9\u05d5\u05ea (\u05d0\u05e0\u05e9\u05d9\u05dd/\u05d7\u05d1\u05e8\u05d5\u05ea/\u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd/\u05e1\u05db\u05d5\u05de\u05d9\u05dd) \u05d5\u05d4\u05e6\u05d2 \u05e8\u05e9\u05d9\u05de\u05d4 \u05de\u05e1\u05d5\u05d3\u05e8\u05ea \u05e2\u05dd \u05de\u05e7\u05d5\u05e8\u05d5\u05ea.",timeline:"\u05d1\u05e0\u05d4 \u05e6\u05d9\u05e8 \u05d6\u05de\u05df \u05e9\u05dc \u05d4\u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7 \u05e2\u05dd \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd \u05d5\u05d4\u05e4\u05e0\u05d9\u05d5\u05ea \u05dc\u05de\u05e1\u05de\u05db\u05d9\u05dd.",disputes:"\u05de\u05e4\u05d4 \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea \u05d5\u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05de\u05d5\u05e1\u05db\u05de\u05d5\u05ea \u05d1\u05ea\u05d9\u05e7, \u05d5\u05de\u05d4 \u05e0\u05d3\u05e8\u05e9 \u05dc\u05d4\u05d5\u05db\u05d9\u05d7 \u05dc\u05db\u05dc \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0.",strategy:"\u05ea\u05df \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 \u05dc\u05ea\u05d9\u05e7 \u05dc\u05e4\u05d9 \u05d4\u05e6\u05d3 \u05e9\u05d0\u05e0\u05d9 \u05de\u05d9\u05d9\u05e6\u05d2 \u05d5\u05d4\u05e6\u05e2 \u05e6\u05e2\u05d3\u05d9\u05dd \u05d0\u05d5\u05e4\u05e8\u05d8\u05d9\u05d1\u05d9\u05d9\u05dd.",game_theory:"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05ea\u05d5\u05e8\u05ea \u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05dc\u05de\u05e9\u05d0 \u05d5\u05de\u05ea\u05df \u05d5\u05d4\u05e6\u05e2 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05d5\u05d2\u05d1\u05d5\u05dc\u05d5\u05ea \u05d2\u05d6\u05e8\u05d4.",risk_assessment:"\u05d1\u05e6\u05e2 \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df \u05dc\u05ea\u05d9\u05e7: \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d7\u05d5\u05d6\u05e7/\u05d7\u05d5\u05dc\u05e9\u05d4 \u05d5\u05d4\u05d9\u05db\u05df \u05d9\u05e9 \u05d7\u05d5\u05e1\u05e8\u05d9\u05dd \u05e8\u05d0\u05d9\u05d9\u05ea\u05d9\u05d9\u05dd.",rulings_search:"\u05d7\u05e4\u05e9 \u05e4\u05e1\u05d9\u05e7\u05d4 \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05ea \u05d1\u05e0\u05d5\u05e9\u05d0 \u05d5\u05d4\u05e6\u05e2 5 \u05e4\u05e1\u05e7\u05d9 \u05d3\u05d9\u05df \u05e2\u05dd \u05e1\u05d9\u05db\u05d5\u05dd \u05e7\u05e6\u05e8 \u05dc\u05db\u05dc \u05d0\u05d7\u05d3.",similarity_search:"\u05de\u05e6\u05d0 \u05e4\u05e1\u05e7\u05d9 \u05d3\u05d9\u05df \u05d3\u05d5\u05de\u05d9\u05dd \u05dc\u05ea\u05d9\u05e7 \u05e9\u05dc\u05d9 \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05d8\u05e2\u05e0\u05d5\u05ea \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea.",judge_analytics:"\u05e0\u05ea\u05d7 \u05d3\u05e4\u05d5\u05e1\u05d9 \u05e4\u05e1\u05d9\u05e7\u05d4 \u05e9\u05dc \u05d4\u05e9\u05d5\u05e4\u05d8/\u05ea \u05d1\u05ea\u05d9\u05e7 (\u05d0\u05dd \u05d9\u05d3\u05d5\u05e2) \u05d5\u05de\u05d4 \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05ea\u05d0\u05d9\u05dd.",counsel_analytics:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05e1\u05d2\u05e0\u05d5\u05df \u05d1\u05f4\u05db \u05d4\u05e6\u05d3 \u05d4\u05e9\u05e0\u05d9 \u05d5\u05de\u05d4 \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d4\u05ea\u05d5\u05e8\u05e4\u05d4 \u05e9\u05dc\u05d5/\u05e9\u05dc\u05d4.",strategy_memo:"\u05d4\u05e4\u05e7 \u05ea\u05d6\u05db\u05d9\u05e8 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05de\u05e1\u05d5\u05d3\u05e8 \u05dc\u05ea\u05d9\u05e7 (\u05de\u05d1\u05d5\u05d0, \u05e2\u05d5\u05d1\u05d3\u05d5\u05ea, \u05d8\u05e2\u05e0\u05d5\u05ea, \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd, \u05e6\u05e2\u05d3\u05d9\u05dd).",export:"\u05d4\u05db\u05df \u05dc\u05d9 \u05d9\u05d9\u05e6\u05d5\u05d0 \u05de\u05e1\u05d5\u05d3\u05e8 \u05e9\u05dc \u05ea\u05d5\u05e6\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 (\u05e1\u05d9\u05db\u05d5\u05dd, \u05d8\u05e2\u05e0\u05d5\u05ea, \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea) \u05dc\u05d4\u05d3\u05d1\u05e7\u05d4 \u05dc\u05de\u05e1\u05de\u05da.",draft_mode:"\u05e2\u05d6\u05d5\u05e8 \u05dc\u05d9 \u05dc\u05e0\u05e1\u05d7 \u05e1\u05e2\u05d9\u05e3 \u05dc\u05db\u05ea\u05d1 \u05d8\u05e2\u05e0\u05d5\u05ea \u05d1\u05e0\u05d5\u05e9\u05d0 \u05d4\u05d1\u05d0: ...",chat:"\u05e1\u05db\u05dd \u05d0\u05ea \u05d4\u05ea\u05d9\u05e7 \u05d5\u05d4\u05e6\u05e2 3 \u05e9\u05d0\u05dc\u05d5\u05ea \u05d4\u05d1\u05d4\u05e8\u05d4 \u05e9\u05d7\u05d9\u05d9\u05d1\u05d9\u05dd \u05dc\u05e9\u05d0\u05d5\u05dc \u05db\u05d3\u05d9 \u05dc\u05d4\u05ea\u05e7\u05d3\u05dd."};function vt(e){let{isOpen:t,onClose:s,onSelectCapability:n,caseId:l}=e;const[i,r]=(0,a.useState)(null),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[b,f]=(0,a.useState)(null),[v,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=!1;return t&&async function(){u(!0),x(null);try{const t=l?await pt(l):await async function(){return(0,B.apiGet)("/api/capabilities")}();if(e)return;p(t),r(e=>{var s,n,a;return null!==(s=null!==e&&void 0!==e?e:null===(n=t.categories)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.id)&&void 0!==s?s:null})}catch(t){if(e)return;x(t instanceof Error?t.message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d9\u05db\u05d5\u05dc\u05d5\u05ea")}finally{e||u(!1)}}(),()=>{e=!0}},[t,l]);const j=(0,a.useMemo)(()=>{const e=(o||"").trim(),t=t=>!e||(t.name.includes(e)||t.description.includes(e)||t.example.includes(e)||t.id.includes(e)),s=[];for(const n of(null===h||void 0===h?void 0:h.categories)||[]){const e=(n.capabilities||[]).filter(e=>"disabled"!==e.status).map(e=>({id:e.id,name:e.name_he,description:e.description_he,example:ft[e.id]||"\u05e2\u05d6\u05d5\u05e8 \u05dc\u05d9 \u05e2\u05dd: ".concat(e.name_he),icon:e.icon||"\u2728",status:e.status,status_reason_he:e.status_reason_he,tooltip_he:e.tooltip_he,action_label_he:e.action_label_he,action_url:e.action_url,action_required:e.action_required,action_params:e.action_params})).filter(t);0!==e.length&&s.push({id:n.id,name:n.name_he,icon:n.icon||"\ud83d\udcc1",color:bt[n.id]||"from-slate-700 to-slate-800",capabilities:e})}if(0===s.length&&h){const e=function(e){return null!==e&&void 0!==e&&e.categories?e.categories.flatMap(e=>e.capabilities||[]):[]}(h).filter(e=>"disabled"!==e.status),n=new Map;for(const s of e){const e={id:s.id,name:s.name_he,description:s.description_he,example:ft[s.id]||"\u05e2\u05d6\u05d5\u05e8 \u05dc\u05d9 \u05e2\u05dd: ".concat(s.name_he),icon:s.icon||"\u2728",status:s.status,status_reason_he:s.status_reason_he,tooltip_he:s.tooltip_he,action_label_he:s.action_label_he,action_url:s.action_url,action_required:s.action_required,action_params:s.action_params};if(!t(e))continue;const a=s.category||"other";n.set(a,[...n.get(a)||[],e])}for(const[t,a]of n.entries())s.push({id:t,name:t,icon:"\ud83d\udcc1",color:bt[t]||"from-slate-700 to-slate-800",capabilities:a})}return s},[h,o]);if(!t)return null;const y=j.find(e=>e.id===i)||j[0];return(0,ae.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,ae.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:s}),(0,ae.jsxs)("div",{className:"relative bg-slate-900 rounded-2xl border border-white/20 shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[(0,ae.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:(0,ae.jsx)(T.A,{className:"text-white",size:20})}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h2",{className:"text-white font-bold text-lg",children:"\u05de\u05d4 \u05d9\u05ea\u05e8\u05d5 \u05d9\u05db\u05d5\u05dc \u05dc\u05e2\u05e9\u05d5\u05ea?"}),(0,ae.jsx)("p",{className:"text-white/60 text-sm",children:l?"\u05dc\u05e4\u05d9 \u05d4\u05ea\u05d9\u05e7 \u05d4\u05e0\u05d5\u05db\u05d7\u05d9 (\u05db\u05d5\u05dc\u05dc \u05e0\u05e2\u05d9\u05dc\u05d5\u05ea \u05d5\u05ea\u05dc\u05d5\u05d9\u05d5\u05ea)":"\u05dc\u05e4\u05d9 \u05d4\u05de\u05e0\u05d5\u05d9 (\u05dc\u05dc\u05d0 \u05d4\u05e7\u05e9\u05e8 \u05ea\u05d9\u05e7)"})]})]}),(0,ae.jsx)("button",{onClick:s,className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:(0,ae.jsx)(A.A,{size:20})})]}),(0,ae.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,ae.jsxs)("div",{className:"relative",children:[(0,ae.jsx)(ht.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40",size:18}),(0,ae.jsx)("input",{type:"text",placeholder:"\u05d7\u05e4\u05e9 \u05d9\u05db\u05d5\u05dc\u05ea...",value:o,onChange:e=>c(e.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-purple-500"})]})}),!d&&!m&&j.length>0&&(0,ae.jsx)("div",{className:"px-4 pt-3",children:(0,ae.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(e=>{const t=((null===y||void 0===y?void 0:y.id)||e.id)===e.id;return(0,ae.jsxs)("button",{onClick:()=>r(e.id),className:"px-3 py-1.5 rounded-xl border text-sm whitespace-nowrap transition-colors ".concat(t?"bg-purple-600/30 border-purple-500/40 text-white":"bg-white/5 border-white/10 text-white/70 hover:bg-white/10"),title:e.name,children:[(0,ae.jsx)("span",{className:"ml-1",children:e.icon}),e.name]},e.id)})})}),(0,ae.jsxs)("div",{className:"overflow-y-auto max-h-[50vh] p-4 space-y-3",children:[d&&(0,ae.jsx)("div",{className:"text-white/60 text-sm p-3 bg-white/5 rounded-xl border border-white/10",children:"\u05d8\u05d5\u05e2\u05df \u05d9\u05db\u05d5\u05dc\u05d5\u05ea\u2026"}),m&&(0,ae.jsxs)("div",{className:"text-red-200 text-sm p-3 bg-red-500/10 rounded-xl border border-red-500/20 flex items-start gap-2",children:[(0,ae.jsx)(H.A,{size:16,className:"mt-0.5"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05d4"}),(0,ae.jsx)("div",{className:"text-white/70",children:m})]})]}),!d&&!m&&0===j.length&&(0,ae.jsx)("div",{className:"text-white/60 text-sm p-3 bg-white/5 rounded-xl border border-white/10",children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4."}),y&&(0,ae.jsxs)("div",{className:"rounded-xl border border-white/10 overflow-hidden",children:[(0,ae.jsx)("div",{className:"w-full p-3 bg-gradient-to-r ".concat(y.color," bg-opacity-20"),children:(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)("span",{className:"text-white text-lg leading-none",children:y.icon}),(0,ae.jsx)("span",{className:"text-white font-medium",children:y.name}),(0,ae.jsxs)("span",{className:"text-white/60 text-sm",children:["(",y.capabilities.length," \u05d9\u05db\u05d5\u05dc\u05d5\u05ea)"]})]})}),(0,ae.jsx)("div",{className:"p-2 space-y-2 bg-white/5",children:y.capabilities.map(e=>{var t,a,i,o;const c="available"===e.status,d=!!e.action_label_he&&!!l,u=b===e.id;return(0,ae.jsx)("div",{className:"w-full p-3 rounded-lg border ".concat("border-white/10 bg-white/5"),children:(0,ae.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ae.jsx)("span",{className:"mt-0.5 text-white/80 text-lg leading-none",children:e.icon}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 flex-wrap min-w-0",children:[(0,ae.jsx)("span",{className:"font-medium text-white truncate",children:e.name}),(0,ae.jsxs)("span",{className:"px-2 py-0.5 text-xs rounded border inline-flex items-center gap-1 ".concat((null===(t=gt[e.status])||void 0===t?void 0:t.badge)||"bg-white/5 border-white/10"," ").concat((null===(a=gt[e.status])||void 0===a?void 0:a.text)||"text-white/60"),title:e.status_reason_he||e.tooltip_he||void 0,children:[(0,ae.jsx)("span",{className:"w-1.5 h-1.5 rounded-full ".concat((null===(i=gt[e.status])||void 0===i?void 0:i.dot)||"bg-white/40")}),(null===(o=gt[e.status])||void 0===o?void 0:o.label)||e.status]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(e.tooltip_he||e.status_reason_he)&&(0,ae.jsx)("span",{title:e.tooltip_he||e.status_reason_he||void 0,children:(0,ae.jsx)(te.A,{size:16,className:"text-white/40"})}),c?(0,ae.jsx)("button",{onClick:()=>{n(e),s()},className:"px-3 py-1.5 rounded-lg bg-purple-600 hover:bg-purple-700 text-white text-xs font-medium",children:"\u05d4\u05e4\u05e2\u05dc"}):(0,ae.jsx)("button",{onClick:()=>(async e=>{if(l){if(e.action_label_he)if("blocked_tier"!==e.status)if("blocked_quota"!==e.status)if("coming_soon"!==e.status&&"disabled"!==e.status)if(e.action_label_he.includes("\u05d9\u05d9\u05e6\u05d5\u05d2"))w(!0);else try{var t,s;f(e.id);const n=null!==(t=e.action_required)&&void 0!==t?t:null,a=null!==(s=e.action_params)&&void 0!==s?s:{};if("analyze_on_demand"===n){if(null===a||void 0===a||!a.analysis_type)return void g.oR.error("\u05d7\u05e1\u05e8 analysis_type \u05dc\u05d4\u05e4\u05e2\u05dc\u05d4. \u05e8\u05e2\u05e0\u05df \u05d5\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1.");await(0,B.$P)("/api/cases/".concat(encodeURIComponent(l),"/analyze-on-demand"),{capability_id:a.analysis_type,options:{force_refresh:!1}}),g.oR.success("\u05d4\u05e4\u05e2\u05dc\u05ea\u05d9 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05dc\u05e4\u05d9 \u05d3\u05e8\u05d9\u05e9\u05d4")}else if("reanalyze"===n)await(0,B.$P)("/api/cases/".concat(encodeURIComponent(l),"/reanalyze"),{mode:a.mode||"full"}),g.oR.success("\u05d4\u05e4\u05e2\u05dc\u05ea\u05d9 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05d7\u05d3\u05e9");else{const t=e.action_url||void 0;if(!t)return void g.oR.error("\u05d0\u05d9\u05df \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4 \u05dc\u05d4\u05e4\u05e2\u05dc\u05d4");await(0,B.$P)(t,a||{}),g.oR.success("\u05d4\u05e4\u05e2\u05d5\u05dc\u05d4 \u05d4\u05d5\u05e4\u05e2\u05dc\u05d4")}const i=await pt(l);p(i),r(e=>{var t,s,n;return null!==(t=null!==e&&void 0!==e?e:null===(s=i.categories)||void 0===s||null===(n=s[0])||void 0===n?void 0:n.id)&&void 0!==t?t:null})}catch(n){const e=(null===n||void 0===n?void 0:n.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e4\u05e2\u05dc\u05ea \u05e4\u05e2\u05d5\u05dc\u05d4";String((null===n||void 0===n?void 0:n.status)||"").startsWith("428")||String(e).includes("REPRESENTATION")?w(!0):g.oR.error(e)}finally{f(null)}else g.oR.message(e.status_reason_he||"\u05d9\u05db\u05d5\u05dc\u05ea \u05d6\u05d5 \u05d0\u05d9\u05e0\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4 \u05db\u05e8\u05d2\u05e2");else g.oR.error(e.status_reason_he||"\u05e0\u05d2\u05de\u05e8\u05d4 \u05d4\u05de\u05db\u05e1\u05d4 \u05dc\u05d9\u05db\u05d5\u05dc\u05ea \u05d6\u05d5");else g.oR.error(e.status_reason_he||"\u05d9\u05db\u05d5\u05dc\u05ea \u05d6\u05d5 \u05d6\u05de\u05d9\u05e0\u05d4 \u05d1\u05de\u05e0\u05d5\u05d9 \u05de\u05e9\u05d5\u05d3\u05e8\u05d2")}else g.oR.error("\u05d1\u05d7\u05e8 \u05ea\u05d9\u05e7 \u05db\u05d3\u05d9 \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea")})(e),disabled:!d||u,className:"px-3 py-1.5 rounded-lg text-xs font-medium ".concat(d?"bg-white/10 text-white hover:bg-white/15":"bg-white/5 text-white/30 cursor-not-allowed"),title:e.action_label_he||void 0,children:u?"...":e.action_label_he||"\u05e4\u05e2\u05d5\u05dc\u05d4"})]})]}),(0,ae.jsx)("p",{className:"text-sm text-white/60 mt-1",children:e.description}),c&&(0,ae.jsxs)("p",{className:"text-xs text-purple-300 mt-2 flex items-center gap-1",children:[(0,ae.jsx)(te.A,{size:12}),'\u05dc\u05d3\u05d5\u05d2\u05de\u05d4: "',e.example,'"']}),!c&&(0,ae.jsx)("p",{className:"text-xs text-white/50 mt-2",children:e.status_reason_he||e.tooltip_he||"\u05dc\u05d0 \u05d6\u05de\u05d9\u05df \u05db\u05e8\u05d2\u05e2"})]})]})},e.id)})})]})]}),(0,ae.jsx)("div",{className:"p-4 border-t border-white/10 bg-white/5",children:(0,ae.jsx)("p",{className:"text-center text-white/60 text-sm",children:"\ud83d\udca1 \u05d8\u05d9\u05e4: \u05d0\u05ea\u05d4 \u05d9\u05db\u05d5\u05dc \u05e4\u05e9\u05d5\u05d8 \u05dc\u05e9\u05d0\u05d5\u05dc \u05d0\u05ea \u05d9\u05ea\u05e8\u05d5 \u05d1\u05e9\u05e4\u05d4 \u05d7\u05d5\u05e4\u05e9\u05d9\u05ea - \u05d4\u05d5\u05d0 \u05d9\u05d1\u05d9\u05df!"})})]}),v&&(0,ae.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:()=>w(!1),children:[(0,ae.jsx)("div",{className:"absolute inset-0 bg-black/70"}),(0,ae.jsxs)("div",{className:"relative bg-slate-900 rounded-2xl border border-white/20 shadow-2xl w-full max-w-lg p-4",onClick:e=>e.stopPropagation(),dir:"rtl",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ae.jsx)("div",{className:"text-white font-bold",children:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7: \u05de\u05d9 \u05d4\u05dc\u05e7\u05d5\u05d7 \u05e9\u05dc\u05da?"}),(0,ae.jsx)("button",{onClick:()=>w(!1),className:"p-2 text-white/60 hover:text-white",children:(0,ae.jsx)(A.A,{size:18})})]}),(0,ae.jsx)("p",{className:"text-white/60 text-sm mb-3",children:"\u05d6\u05d4 \u05ea\u05e0\u05d0\u05d9 \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7\u05d9\u05dd \u05d3\u05d5\u05be\u05e6\u05d3\u05d3\u05d9\u05d9\u05dd (\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea/\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4/\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea). \u05d0\u05e4\u05e9\u05e8 \u05d2\u05dd \u05dc\u05e9\u05e0\u05d5\u05ea \u05d1\u05d4\u05de\u05e9\u05da."}),(0,ae.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{id:"petitioner",label:"\u05de\u05d1\u05e7\u05e9"},{id:"respondent",label:"\u05de\u05e9\u05d9\u05d1"},{id:"plaintiff",label:"\u05ea\u05d5\u05d1\u05e2"},{id:"defendant",label:"\u05e0\u05ea\u05d1\u05e2"},{id:"appellant",label:"\u05de\u05e2\u05e8\u05e2\u05e8"},{id:"other",label:"\u05d0\u05d7\u05e8"}].map(e=>(0,ae.jsx)("button",{onClick:()=>(async e=>{if(l)try{f("rep:".concat(e)),await(0,B.$P)("/api/cases/".concat(encodeURIComponent(l),"/representation/confirm"),{side_confirmed:e}),g.oR.success("\u05e6\u05d3 \u05d4\u05d9\u05d9\u05e6\u05d5\u05d2 \u05e2\u05d5\u05d3\u05db\u05df"),w(!1);const t=await pt(l);p(t)}catch(t){g.oR.error((null===t||void 0===t?void 0:t.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d9\u05d9\u05e6\u05d5\u05d2")}finally{f(null)}})(e.id),disabled:b==="rep:".concat(e.id),className:"px-3 py-2 rounded-xl bg-white/5 hover:bg-purple-600/30 border border-white/10 text-white text-sm",children:b==="rep:".concat(e.id)?"...":e.label},e.id))}),(0,ae.jsx)("p",{className:"text-white/40 text-xs mt-3",children:'\u05d0\u05dd \u05d0\u05d9\u05e0\u05da \u05d1\u05d8\u05d5\u05d7 \u05db\u05e8\u05d2\u05e2, \u05d0\u05e4\u05e9\u05e8 \u05dc\u05d1\u05d7\u05d5\u05e8 "\u05d0\u05d7\u05e8" \u05d5\u05dc\u05d4\u05de\u05e9\u05d9\u05da \u2013 \u05d0\u05d1\u05dc \u05d7\u05dc\u05e7 \u05de\u05d4\u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05d9\u05d9\u05e9\u05d0\u05e8\u05d5 \u05de\u05d5\u05d2\u05d1\u05dc\u05d5\u05ea.'})]})]})]})}const wt={free:[{id:"overview",label:"\u05e1\u05e7\u05d9\u05e8\u05d4",icon:C.A,prompt:'\u05d1\u05e6\u05e2 \u05e1\u05e7\u05d9\u05e8\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea \u05de\u05e7\u05d9\u05e4\u05d4 \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7 \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd.\n\n\u05e1\u05e4\u05e7: (1) \u05de\u05d4\u05d5\u05ea \u05d4\u05e1\u05db\u05e1\u05d5\u05da \u05d1\u05de\u05e9\u05e4\u05d8 \u05d0\u05d7\u05d3, (2) 5 \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05de\u05e4\u05ea\u05d7 \u05e7\u05e8\u05d9\u05d8\u05d9\u05d5\u05ea \u05e2\u05dd \u05de\u05e7\u05d5\u05e8 \u05dc\u05de\u05e1\u05de\u05da, (3) \u05d7\u05d5\u05d6\u05e7\u05d5\u05ea \u05d5\u05d7\u05d5\u05dc\u05e9\u05d5\u05ea \u05e2\u05dd \u05d4\u05e4\u05e0\u05d9\u05d4 \u05dc\u05e8\u05d0\u05d9\u05d5\u05ea, (4) \u05e4\u05e2\u05e8\u05d9 \u05de\u05d9\u05d3\u05e2 \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd, (5) 3 \u05e9\u05d0\u05dc\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea \u05dc\u05d4\u05de\u05e9\u05da, (6) 3 \u05e6\u05e2\u05d3\u05d9\u05dd \u05de\u05d9\u05d9\u05d3\u05d9\u05d9\u05dd \u05dc\u05d1\u05d9\u05e6\u05d5\u05e2.\n\n\u05db\u05dc \u05d8\u05e2\u05e0\u05d4 \u05e2\u05d5\u05d1\u05d3\u05ea\u05d9\u05ea \u05d7\u05d9\u05d9\u05d1\u05ea \u05d4\u05e4\u05e0\u05d9\u05d4 \u05dc\u05de\u05e1\u05de\u05da. \u05d0\u05dd \u05d0\u05d9\u05df \u05d1\u05d9\u05e1\u05d5\u05e1 - \u05e6\u05d9\u05d9\u05df "\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d1\u05d9\u05e1\u05d5\u05e1 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd". \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea - \u05d0\u05dc \u05ea\u05e6\u05d9\u05d2 \u05ea\u05d1\u05e0\u05d9\u05d5\u05ea \u05e8\u05d9\u05e7\u05d5\u05ea.'},{id:"knowledge",label:"\u05de\u05d0\u05d2\u05e8 \u05d9\u05d3\u05e2",icon:z.A,prompt:"\u05d7\u05e4\u05e9 \u05d1\u05de\u05d0\u05d2\u05e8 \u05d4\u05d9\u05d3\u05e2 \u05de\u05d9\u05d3\u05e2 \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9 \u05dc\u05ea\u05d9\u05e7.\n\n\u05e1\u05e4\u05e7: (1) \u05d7\u05d5\u05e7\u05d9\u05dd \u05d5\u05e1\u05e2\u05d9\u05e4\u05d9\u05dd \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d9\u05dd, (2) \u05e4\u05e1\u05d9\u05e7\u05d4 \u05de\u05e0\u05d7\u05d4 \u05d0\u05dd \u05e7\u05d9\u05d9\u05de\u05ea, (3) \u05e2\u05e7\u05e8\u05d5\u05e0\u05d5\u05ea \u05de\u05e9\u05e4\u05d8\u05d9\u05d9\u05dd \u05d9\u05e9\u05d9\u05de\u05d9\u05dd, (4) \u05e0\u05d4\u05dc\u05d9\u05dd/\u05ea\u05e7\u05e0\u05d5\u05ea/\u05e1\u05d8\u05e0\u05d3\u05e8\u05d8\u05d9\u05dd \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d9\u05dd, (5) \u05d4\u05e1\u05d1\u05e8 \u05d0\u05d9\u05da \u05d4\u05d9\u05d3\u05e2 \u05de\u05ea\u05d7\u05d1\u05e8 \u05dc\u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05d4\u05ea\u05d9\u05e7, (6) 2-3 \u05e9\u05d0\u05dc\u05d5\u05ea \u05d4\u05de\u05e9\u05da.\n\n\u05d4\u05e4\u05e8\u05d3 \u05d1\u05d1\u05d9\u05e8\u05d5\u05e8 \u05d1\u05d9\u05df \u05d9\u05d3\u05e2 \u05db\u05dc\u05dc\u05d9 \u05dc\u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05de\u05d4\u05ea\u05d9\u05e7. \u05d0\u05dc \u05ea\u05de\u05e6\u05d9\u05d0 \u05de\u05e7\u05d5\u05e8\u05d5\u05ea \u05e9\u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05d9\u05dd."}],pro:[{id:"overview",label:"\u05e1\u05e7\u05d9\u05e8\u05d4",icon:C.A,prompt:"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 \u05de\u05e2\u05de\u05d9\u05e7 \u05d1\u05e8\u05de\u05d4 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea \u05d2\u05d1\u05d5\u05d4\u05d4.\n\n\u05e1\u05e4\u05e7: (1) \u05d4\u05e2\u05e8\u05db\u05ea \u05d7\u05d5\u05d6\u05e7 \u05d4\u05d8\u05e2\u05e0\u05d5\u05ea, \u05d0\u05d9\u05db\u05d5\u05ea \u05d4\u05e8\u05d0\u05d9\u05d5\u05ea \u05d5\u05e1\u05d9\u05db\u05d5\u05d9\u05d9 \u05d4\u05e6\u05dc\u05d7\u05d4 (1-10 \u05dc\u05db\u05dc \u05d0\u05d7\u05d3), (2) 7 \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05de\u05e4\u05ea\u05d7 \u05de\u05d3\u05d5\u05e8\u05d2\u05d5\u05ea \u05e2\u05dd \u05de\u05e7\u05d5\u05e8 \u05d5\u05d3\u05d7\u05d9\u05e4\u05d5\u05ea, (3) \u05de\u05e4\u05ea \u05e7\u05e8\u05d1: \u05e6\u05d9\u05e8\u05d9 \u05d4\u05ea\u05e7\u05e4\u05d4 \u05e9\u05dc\u05e0\u05d5 \u05d5\u05e9\u05dc \u05d4\u05d9\u05e8\u05d9\u05d1 \u05e2\u05dd \u05e8\u05d0\u05d9\u05d5\u05ea, (4) \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e9\u05d1\u05d9\u05e8\u05d4 - \u05de\u05d4 \u05d9\u05db\u05e8\u05d9\u05e2 \u05dc\u05d8\u05d5\u05d1\u05ea\u05e0\u05d5 \u05d5\u05de\u05d4 \u05e0\u05d2\u05d3\u05e0\u05d5, (5) SWOT \u05de\u05e9\u05e4\u05d8\u05d9, (6) Black Swans - \u05d4\u05e4\u05ea\u05e2\u05d5\u05ea \u05d0\u05e4\u05e9\u05e8\u05d9\u05d5\u05ea, (7) \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05e4\u05e2\u05d5\u05dc\u05d4 \u05dc-72 \u05e9\u05e2\u05d5\u05ea.\n\n\u05db\u05dc \u05d8\u05e2\u05e0\u05d4 = \u05d4\u05e4\u05e0\u05d9\u05d4 \u05dc\u05de\u05e1\u05de\u05da. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea, \u05dc\u05d0 \u05d1\u05ea\u05d1\u05e0\u05d9\u05d5\u05ea \u05e8\u05d9\u05e7\u05d5\u05ea."},{id:"strategy",label:"\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4",icon:R.A,prompt:"\u05d1\u05e0\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05de\u05e9\u05e4\u05d8\u05d9\u05ea \u05de\u05dc\u05d0\u05d4 - \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05e7\u05e8\u05d1.\n\n\u05e1\u05e4\u05e7: (1) \u05de\u05d8\u05e8\u05ea \u05d4\u05e2\u05dc - \u05de\u05d4 \u05d4\u05e0\u05d9\u05e6\u05d7\u05d5\u05df \u05e0\u05e8\u05d0\u05d4, (2) 3 \u05e6\u05d9\u05e8\u05d9 \u05d4\u05ea\u05e7\u05e4\u05d4: \u05dc\u05db\u05dc \u05d0\u05d7\u05d3 \u05d8\u05e2\u05e0\u05d4, \u05e8\u05d0\u05d9\u05d4, \u05d7\u05d5\u05dc\u05e9\u05d4 \u05d0\u05e4\u05e9\u05e8\u05d9\u05ea, \u05ea\u05d2\u05d5\u05d1\u05ea \u05d9\u05e8\u05d9\u05d1 \u05e6\u05e4\u05d5\u05d9\u05d4, (3) 3 \u05e6\u05d9\u05e8\u05d9 \u05d4\u05d2\u05e0\u05d4 \u05de\u05e4\u05e0\u05d9 \u05d4\u05ea\u05e7\u05e4\u05d5\u05ea \u05e6\u05e4\u05d5\u05d9\u05d5\u05ea, (4) \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e9\u05d1\u05d9\u05e8\u05d4 \u05e9\u05dc \u05d4\u05d9\u05e8\u05d9\u05d1 - \u05de\u05d4 \u05d9\u05d2\u05e8\u05d5\u05dd \u05dc\u05d5 \u05dc\u05e7\u05e8\u05d5\u05e1, (5) \u05de\u05d4 \u05e6\u05e8\u05d9\u05da \u05dc\u05d4\u05d5\u05db\u05d9\u05d7 \u05d5\u05de\u05d4 \u05de\u05e6\u05d1 \u05d4\u05e8\u05d0\u05d9\u05d5\u05ea, (6) \u05ea\u05d6\u05de\u05d5\u05df \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 - \u05de\u05ea\u05d9 \u05dc\u05d7\u05e9\u05d5\u05e3 \u05db\u05dc \u05e7\u05dc\u05e3, (7) Plan B & C \u05d0\u05dd \u05d4\u05e8\u05d0\u05e9\u05d9 \u05e0\u05db\u05e9\u05dc.\n\n\u05e8\u05e7 \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05e8\u05d0\u05d9\u05d5\u05ea \u05de\u05d5\u05db\u05d7\u05d5\u05ea - \u05dc\u05d0 \u05d4\u05e0\u05d7\u05d5\u05ea. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea."},{id:"risk",label:"\u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df",icon:E.A,prompt:"\u05d1\u05e6\u05e2 \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df \u05de\u05e7\u05d9\u05e4\u05d4 - \u05de\u05e4\u05ea \u05d4\u05d0\u05d9\u05d5\u05de\u05d9\u05dd.\n\n\u05e1\u05e4\u05e7: (1) \u05e6\u05d9\u05d5\u05df \u05e1\u05d9\u05db\u05d5\u05df \u05db\u05dc\u05dc\u05d9 1-10 \u05e2\u05dd \u05e0\u05d9\u05de\u05d5\u05e7, (2) \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd \u05e2\u05dd \u05e1\u05d1\u05d9\u05e8\u05d5\u05ea, \u05d4\u05e9\u05e4\u05e2\u05d4, \u05d8\u05e8\u05d9\u05d2\u05e8 \u05d5\u05de\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4, (3) \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05d9\u05dd \u05d5\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05de\u05d5\u05e0\u05e2\u05d5\u05ea, (4) \u05e1\u05d9\u05de\u05e0\u05d9 \u05d0\u05d6\u05d4\u05e8\u05d4 \u05de\u05d5\u05e7\u05d3\u05de\u05d9\u05dd, (5) Black Swan Events - \u05de\u05d4 \u05d9\u05e4\u05ea\u05d9\u05e2 \u05d0\u05d5\u05ea\u05e0\u05d5, (6) \u05de\u05d8\u05e8\u05d9\u05e6\u05ea \u05d4\u05d7\u05dc\u05d8\u05d4: \u05e1\u05d9\u05db\u05d5\u05d9\u05d9 \u05e0\u05d9\u05e6\u05d7\u05d5\u05df/\u05e4\u05e9\u05e8\u05d4/\u05d4\u05e4\u05e1\u05d3 \u05e2\u05dd \u05d4\u05de\u05dc\u05e6\u05d4.\n\n\u05d6\u05db\u05d5\u05e8: \u05d4\u05e1\u05d9\u05db\u05d5\u05df \u05d4\u05d0\u05de\u05d9\u05ea\u05d9 \u05d4\u05d5\u05d0 \u05d6\u05d4 \u05e9\u05dc\u05d0 \u05d7\u05e9\u05d1\u05e0\u05d5 \u05e2\u05dc\u05d9\u05d5. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea."},{id:"knowledge",label:"\u05de\u05d0\u05d2\u05e8 \u05d9\u05d3\u05e2",icon:z.A,prompt:"\u05d7\u05e4\u05e9 \u05d1\u05de\u05d0\u05d2\u05e8 \u05d4\u05d9\u05d3\u05e2 \u05de\u05d9\u05d3\u05e2 \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9 \u05dc\u05ea\u05d9\u05e7 \u05d1\u05e8\u05de\u05d4 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea.\n\n\u05e1\u05e4\u05e7: (1) \u05d7\u05e7\u05d9\u05e7\u05d4 \u05d9\u05e9\u05d9\u05de\u05d4 - \u05d7\u05d5\u05e7\u05d9\u05dd \u05d5\u05e1\u05e2\u05d9\u05e4\u05d9\u05dd \u05e2\u05dd \u05ea\u05d5\u05db\u05df \u05d5\u05d9\u05e9\u05d9\u05de\u05d5\u05ea \u05dc\u05ea\u05d9\u05e7, (2) \u05e4\u05e1\u05d9\u05e7\u05d4 \u05de\u05e0\u05d7\u05d4 \u05d0\u05dd \u05e7\u05d9\u05d9\u05de\u05ea \u05d1\u05de\u05d0\u05d2\u05e8, (3) \u05e0\u05d4\u05dc\u05d9\u05dd, \u05ea\u05e7\u05e0\u05d5\u05ea, \u05e1\u05d8\u05e0\u05d3\u05e8\u05d8\u05d9\u05dd \u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05d9\u05dd, (4) \u05d9\u05d9\u05e9\u05d5\u05dd \u05e2\u05dc \u05d4\u05ea\u05d9\u05e7 - \u05d0\u05d9\u05da \u05d4\u05d9\u05d3\u05e2 \u05de\u05ea\u05d7\u05d1\u05e8 \u05dc\u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05d4\u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05d5\u05ea, (5) \u05e9\u05d0\u05dc\u05d5\u05ea \u05d4\u05de\u05e9\u05da \u05dc\u05d1\u05d9\u05e8\u05d5\u05e8.\n\n\u05d4\u05e4\u05e8\u05d3\u05d4 \u05d1\u05e8\u05d5\u05e8\u05d4: \u05d9\u05d3\u05e2 \u05db\u05dc\u05dc\u05d9 \u2260 \u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05de\u05d4\u05ea\u05d9\u05e7. \u05d0\u05dc \u05ea\u05de\u05e6\u05d9\u05d0 \u05de\u05e7\u05d5\u05e8\u05d5\u05ea."},{id:"adversarial",label:"\u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9",icon:I.A,prompt:'\u05e2\u05e8\u05d5\u05da \u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d4 \u05e9\u05dc \u05d3\u05d9\u05d5\u05df \u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9\u05d0\u05dc\u05d9 \u05d1\u05d9\u05df \u05e9\u05e0\u05d9 \u05e2\u05d5\u05e8\u05db\u05d9 \u05d3\u05d9\u05df.\n\n\ud83d\udd35 \u05e2\u05d5"\u05d3 \u05de\u05d9\u05d9\u05e6\u05d2 (\u05d4\u05e6\u05d3 \u05e9\u05dc\u05e0\u05d5) vs \ud83d\udd34 \u05e2\u05d5"\u05d3 \u05d9\u05e8\u05d9\u05d1 (\u05d4\u05e6\u05d3 \u05d4\u05e0\u05d2\u05d3\u05d9)\n\n**\u05e1\u05d1\u05d1 1 - \u05d8\u05e2\u05e0\u05d5\u05ea \u05e4\u05ea\u05d9\u05d7\u05d4:** \u05d4\u05de\u05d9\u05d9\u05e6\u05d2 \u05de\u05e6\u05d9\u05d2 \u05d0\u05ea \u05d4\u05d8\u05e2\u05e0\u05d5\u05ea \u05d4\u05d7\u05d6\u05e7\u05d5\u05ea \u05e2\u05dd \u05e8\u05d0\u05d9\u05d5\u05ea. \u05d4\u05d9\u05e8\u05d9\u05d1 \u05ea\u05d5\u05e7\u05e3 \u05d5\u05de\u05e6\u05d9\u05d2 \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05ea\u05d5\u05e8\u05e4\u05d4.\n\n**\u05e1\u05d1\u05d1 2 - \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea:** \u05d4\u05de\u05d9\u05d9\u05e6\u05d2 \u05de\u05ea\u05de\u05d5\u05d3\u05d3 \u05e2\u05dd \u05d4\u05d1\u05d9\u05e7\u05d5\u05e8\u05ea. \u05d4\u05d9\u05e8\u05d9\u05d1 \u05de\u05d7\u05e8\u05d9\u05e3 \u05d5\u05de\u05e6\u05d9\u05d2 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea.\n\n**\u05e1\u05d1\u05d1 3 - \u05e1\u05d9\u05db\u05d5\u05de\u05d9\u05dd:** \u05db\u05dc \u05e6\u05d3 \u05de\u05e1\u05db\u05dd \u05dc\u05de\u05d4 \u05d4\u05d5\u05d0 \u05e6\u05d5\u05d3\u05e7.\n\n**\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d3\u05d9\u05d5\u05df:** \u05de\u05d9 \u05e0\u05d9\u05e6\u05d7 \u05d1\u05db\u05dc \u05e0\u05e7\u05d5\u05d3\u05d4 \u05d5\u05dc\u05de\u05d4? \u05de\u05d4 \u05dc\u05de\u05d3\u05e0\u05d5 \u05e2\u05dc \u05d4\u05d7\u05d5\u05dc\u05e9\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5? \u05d0\u05d9\u05e4\u05d4 \u05d4\u05d9\u05e8\u05d9\u05d1 \u05d9\u05ea\u05e7\u05d5\u05e3? 3 \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05de\u05d9\u05d9\u05d3\u05d9\u05d5\u05ea.\n\n\u05d4\u05d3\u05d9\u05d5\u05df \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e7\u05e9\u05d4 \u05d5\u05d0\u05de\u05d9\u05ea\u05d9, \u05dc\u05d0 "\u05e8\u05da". \u05db\u05dc \u05d8\u05e2\u05e0\u05d4 \u05e2\u05dd \u05d4\u05e4\u05e0\u05d9\u05d4 \u05dc\u05de\u05e1\u05de\u05da.',premium:!0}],enterprise:[{id:"overview",label:"\u05e1\u05e7\u05d9\u05e8\u05d4",icon:C.A,prompt:"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 \u05d1\u05e8\u05de\u05ea Enterprise - \u05d3\u05e9\u05d1\u05d5\u05e8\u05d3 \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05de\u05e7\u05d9\u05e3.\n\n\u05e1\u05e4\u05e7: (1) \u05d3\u05e9\u05d1\u05d5\u05e8\u05d3: \u05e1\u05d9\u05db\u05d5\u05d9\u05d9 \u05d4\u05e6\u05dc\u05d7\u05d4 %, \u05e8\u05de\u05ea \u05e1\u05d9\u05db\u05d5\u05df 1-10, \u05d3\u05d7\u05d9\u05e4\u05d5\u05ea, \u05de\u05e9\u05d0\u05d1\u05d9\u05dd \u05e0\u05d3\u05e8\u05e9\u05d9\u05dd, (2) Top 10 \u05de\u05de\u05e6\u05d0\u05d9\u05dd \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd \u05e2\u05dd \u05d4\u05e9\u05e4\u05e2\u05d4, \u05de\u05e7\u05d5\u05e8 \u05d5\u05e4\u05e2\u05d5\u05dc\u05d4 \u05e0\u05d3\u05e8\u05e9\u05ea, (3) \u05de\u05e4\u05ea \u05e7\u05e8\u05d1 \u05de\u05dc\u05d0\u05d4: \u05e6\u05d9\u05e8\u05d9 \u05d4\u05ea\u05e7\u05e4\u05d4 \u05d5\u05d4\u05d2\u05e0\u05d4 \u05de\u05d3\u05d5\u05e8\u05d2\u05d9\u05dd, \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e9\u05d1\u05d9\u05e8\u05d4, (4) \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d1\u05e2\u05dc\u05d9 \u05e2\u05e0\u05d9\u05d9\u05df \u05e2\u05dd \u05d0\u05d9\u05e0\u05d8\u05e8\u05e1\u05d9\u05dd \u05d5\u05db\u05d5\u05d7, (5) \u05ea\u05e8\u05d7\u05d9\u05e9\u05d9\u05dd \u05d0\u05e4\u05e9\u05e8\u05d9\u05d9\u05dd \u05e2\u05dd \u05e1\u05d1\u05d9\u05e8\u05d5\u05ea \u05d5\u05d4\u05e9\u05dc\u05db\u05d5\u05ea, (6) Red Flags & Black Swans, (7) \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05e4\u05e2\u05d5\u05dc\u05d4 30-60-90 \u05d9\u05d5\u05dd \u05e2\u05dd KPIs.\n\n\u05db\u05dc \u05d8\u05e2\u05e0\u05d4 = \u05d4\u05e4\u05e0\u05d9\u05d4 \u05dc\u05de\u05e1\u05de\u05da. \u05dc\u05dc\u05d0 \u05d4\u05e0\u05d7\u05d5\u05ea. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea."},{id:"strategy",label:"\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4",icon:R.A,prompt:"\u05d1\u05e0\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05de\u05e9\u05e4\u05d8\u05d9\u05ea \u05de\u05e7\u05d9\u05e4\u05d4 \u05d1\u05e8\u05de\u05ea Enterprise.\n\n\u05e1\u05e4\u05e7: (1) Vision & Mission - \u05de\u05d8\u05e8\u05ea \u05d4\u05e2\u05dc \u05d5-KPIs \u05dc\u05d4\u05e6\u05dc\u05d7\u05d4, (2) \u05de\u05e4\u05ea \u05e7\u05e8\u05d1 3 \u05e9\u05db\u05d1\u05d5\u05ea: \u05e2\u05d5\u05d1\u05d3\u05ea\u05d9\u05ea (\u05de\u05d4 \u05dc\u05d4\u05d5\u05db\u05d9\u05d7 + \u05e8\u05d0\u05d9\u05d5\u05ea), \u05de\u05e9\u05e4\u05d8\u05d9\u05ea (\u05d8\u05e2\u05e0\u05d5\u05ea + \u05e1\u05d9\u05db\u05d5\u05d9), \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea (\u05de\u05d4\u05dc\u05db\u05d9\u05dd + \u05ea\u05d6\u05de\u05d5\u05df), (3) \u05e0\u05d9\u05ea\u05d5\u05d7 Game Theory - \u05de\u05d4 \u05d4\u05d9\u05e8\u05d9\u05d1 \u05d9\u05e2\u05e9\u05d4 \u05d1\u05ea\u05d2\u05d5\u05d1\u05d4 \u05dc\u05db\u05dc \u05de\u05d4\u05dc\u05da, (4) Decision Trees \u05e2\u05dd \u05d4\u05e1\u05ea\u05d1\u05e8\u05d5\u05d9\u05d5\u05ea, (5) \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e2\u05dc\u05d5\u05ea-\u05ea\u05d5\u05e2\u05dc\u05ea \u05d5-ROI, (6) Contingency Plans A/B/C \u05e2\u05dd \u05d8\u05e8\u05d9\u05d2\u05e8\u05d9\u05dd \u05dc\u05de\u05e2\u05d1\u05e8.\n\n\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e8\u05d0\u05d9\u05d5\u05ea \u05d1\u05dc\u05d1\u05d3. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea."},{id:"risk",label:"\u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df",icon:E.A,prompt:"\u05d1\u05e6\u05e2 \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df \u05d0\u05e8\u05d2\u05d5\u05e0\u05d9\u05ea \u05d1\u05e8\u05de\u05ea Enterprise.\n\n\u05e1\u05e4\u05e7: (1) Risk Dashboard: \u05e6\u05d9\u05d5\u05e0\u05d9 \u05e1\u05d9\u05db\u05d5\u05df (1-10) \u05dc\u05de\u05e9\u05e4\u05d8\u05d9, \u05ea\u05d3\u05de\u05d9\u05ea\u05d9, \u05e4\u05d9\u05e0\u05e0\u05e1\u05d9, \u05ea\u05e4\u05e2\u05d5\u05dc\u05d9, (2) \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd: \u05e1\u05d1\u05d9\u05e8\u05d5\u05ea, \u05d4\u05e9\u05e4\u05e2\u05d4, \u05e6\u05d9\u05d5\u05df, Owner, SLA, (3) Trigger Events - \u05d0\u05d9\u05dc\u05d5 \u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd \u05d9\u05e4\u05e2\u05d9\u05dc\u05d5 \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd, (4) Monte Carlo: Best case, Expected, Worst case \u05e2\u05dd \u05d4\u05e1\u05ea\u05d1\u05e8\u05d5\u05d9\u05d5\u05ea, (5) \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05de\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4 \u05e2\u05dd \u05e2\u05dc\u05d5\u05ea \u05d5\u05d0\u05e4\u05e7\u05d8\u05d9\u05d1\u05d9\u05d5\u05ea, (6) Escalation Protocol.\n\n\u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05de\u05d1\u05d5\u05e1\u05e1\u05d9\u05dd \u05e2\u05dc \u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05de\u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d1\u05dc\u05d1\u05d3. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea."},{id:"contract_analysis",label:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d7\u05d5\u05d6\u05d9",icon:C.A,prompt:'\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d7\u05d5\u05d6\u05d9 \u05de\u05e7\u05d9\u05e3 \u05d1\u05e8\u05de\u05ea Enterprise.\n\n\u05e1\u05e4\u05e7: (1) \u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05e0\u05d4\u05dc\u05d9\u05dd: \u05e1\u05d5\u05d2 \u05d7\u05d5\u05d6\u05d4, \u05e9\u05d5\u05d5\u05d9, \u05de\u05e9\u05da, \u05e6\u05d9\u05d5\u05df \u05e1\u05d9\u05db\u05d5\u05df \u05db\u05dc\u05dc\u05d9, (2) \u05e1\u05e2\u05d9\u05e4\u05d9\u05dd \u05de\u05e1\u05d5\u05db\u05e0\u05d9\u05dd: \u05e0\u05d9\u05e1\u05d5\u05d7 \u05d1\u05e2\u05d9\u05d9\u05ea\u05d9, \u05e1\u05d9\u05db\u05d5\u05df, \u05d4\u05de\u05dc\u05e6\u05d4, (3) \u05de\u05dc\u05db\u05d5\u05d3\u05d5\u05ea \u05d7\u05d1\u05d5\u05d9\u05d5\u05ea: \u05de\u05d4 \u05e0\u05e8\u05d0\u05d4 vs \u05de\u05d4 \u05d1\u05d0\u05de\u05ea, (4) \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e8\u05d8\u05d5\u05e8\u05d9: \u05e0\u05d9\u05e1\u05d5\u05d7\u05d9\u05dd \u05d3\u05d5-\u05de\u05e9\u05de\u05e2\u05d9\u05d9\u05dd, \u05de\u05d9\u05dc\u05d9\u05dd \u05de\u05e1\u05d5\u05db\u05e0\u05d5\u05ea, \u05d7\u05d5\u05e1\u05e8 \u05e2\u05e7\u05d1\u05d9\u05d5\u05ea, (5) \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4 \u05dc\u05e1\u05d8\u05e0\u05d3\u05e8\u05d8 \u05e9\u05d5\u05e7, (6) \u05de\u05d0\u05d6\u05df \u05db\u05d5\u05d7\u05d5\u05ea - \u05dc\u05d8\u05d5\u05d1\u05ea \u05de\u05d9 \u05db\u05dc \u05e1\u05e2\u05d9\u05e3, (7) \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05dc\u05de\u05d5"\u05de \u05e2\u05dd BATNA.\n\n\u05db\u05dc \u05de\u05de\u05e6\u05d0 = \u05e6\u05d9\u05d8\u05d5\u05d8 \u05de\u05d3\u05d5\u05d9\u05e7 \u05de\u05d4\u05d7\u05d5\u05d6\u05d4. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea.'},{id:"knowledge",label:"\u05de\u05d0\u05d2\u05e8 \u05d9\u05d3\u05e2",icon:z.A,prompt:"\u05d7\u05e4\u05e9 \u05d1\u05de\u05d0\u05d2\u05e8 \u05d4\u05d9\u05d3\u05e2 \u05d1\u05e8\u05de\u05ea Enterprise.\n\n\u05e1\u05e4\u05e7: (1) \u05d7\u05e7\u05d9\u05e7\u05d4 \u05d9\u05e9\u05d9\u05de\u05d4: \u05d7\u05d5\u05e7, \u05e1\u05e2\u05d9\u05e3, \u05ea\u05d5\u05db\u05df, \u05d9\u05e9\u05d9\u05de\u05d5\u05ea, \u05d7\u05d5\u05d6\u05e7, (2) \u05e4\u05e1\u05d9\u05e7\u05d4 \u05de\u05e0\u05d7\u05d4: \u05e2\u05d9\u05e7\u05e8\u05d5\u05df, \u05d4\u05d0\u05dd facts \u05d3\u05d5\u05de\u05d9\u05dd, holding, (3) \u05d9\u05d3\u05e2 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9: \u05ea\u05d7\u05d5\u05dd, \u05de\u05d9\u05d3\u05e2, \u05de\u05e7\u05d5\u05e8, \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d5\u05ea, (4) \u05de\u05e4\u05ea \u05d9\u05d9\u05e9\u05d5\u05dd: \u05d0\u05d9\u05da \u05d4\u05d9\u05d3\u05e2 \u05de\u05ea\u05d7\u05d1\u05e8 \u05dc\u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05d4\u05ea\u05d9\u05e7, (5) Gap Analysis - \u05de\u05d4 \u05d7\u05e1\u05e8 \u05d1\u05de\u05d0\u05d2\u05e8.\n\n\u05d9\u05d3\u05e2 \u05db\u05dc\u05dc\u05d9 \u2260 \u05e2\u05d5\u05d1\u05d3\u05d5\u05ea. \u05d0\u05d9\u05df \u05d4\u05de\u05e6\u05d0\u05ea \u05de\u05e7\u05d5\u05e8\u05d5\u05ea. \u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea."},{id:"adversarial",label:"\u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9",icon:I.A,prompt:'\u05e2\u05e8\u05d5\u05da \u05d3\u05d9\u05d5\u05df \u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9\u05d0\u05dc\u05d9 \u05de\u05ea\u05e7\u05d3\u05dd \u05d1\u05e8\u05de\u05ea Enterprise.\n\n\ud83d\udd35 \u05e2\u05d5"\u05d3 \u05d1\u05db\u05d9\u05e8 \u05de\u05d9\u05d9\u05e6\u05d2 (25 \u05e9\u05e0\u05d5\u05ea \u05e0\u05d9\u05e1\u05d9\u05d5\u05df, \u05d0\u05d2\u05e8\u05e1\u05d9\u05d1\u05d9) vs \ud83d\udd34 \u05e2\u05d5"\u05d3 \u05d1\u05db\u05d9\u05e8 \u05d9\u05e8\u05d9\u05d1 (\u05de\u05e0\u05d5\u05e1\u05d4, \u05d7\u05d3)\n\n**\u05e1\u05d1\u05d1 1 - \u05e4\u05ea\u05d9\u05d7\u05d4:** \u05d4\u05de\u05d9\u05d9\u05e6\u05d2 \u05de\u05e6\u05d9\u05d2 \u05ea\u05d9\u05d6\u05d4 \u05d7\u05d6\u05e7\u05d4 \u05e2\u05dd \u05e8\u05d0\u05d9\u05d5\u05ea. \u05d4\u05d9\u05e8\u05d9\u05d1 \u05ea\u05d5\u05e7\u05e3 \u05d1\u05d7\u05e8\u05d9\u05e4\u05d5\u05ea, \u05de\u05e6\u05d9\u05d2 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea, narrative \u05d0\u05dc\u05d8\u05e8\u05e0\u05d8\u05d9\u05d1\u05d9.\n\n**\u05e1\u05d1\u05d1 2 - \u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea:** \u05db\u05dc \u05e6\u05d3 \u05d7\u05d5\u05e7\u05e8 \u05d0\u05ea \u05d8\u05e2\u05e0\u05d5\u05ea \u05d4\u05e9\u05e0\u05d9 \u05d1\u05e9\u05d0\u05dc\u05d5\u05ea \u05d7\u05d3\u05d5\u05ea.\n\n**\u05e1\u05d1\u05d1 3 - \u05e2\u05d9\u05de\u05d5\u05ea \u05d9\u05e9\u05d9\u05e8:** \u05d3\u05d9\u05d0\u05dc\u05d5\u05d2 \u05e2\u05dc \u05d4\u05e1\u05d5\u05d2\u05d9\u05d5\u05ea \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea.\n\n**\u05e1\u05d1\u05d1 4 - \u05e1\u05d9\u05db\u05d5\u05de\u05d9\u05dd:** \u05d8\u05d9\u05e2\u05d5\u05e0\u05d9 \u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05e9\u05db\u05e0\u05e2\u05d9\u05dd.\n\n**\u05e0\u05d9\u05ea\u05d5\u05d7:** Scorecard (\u05de\u05d9 \u05e0\u05d9\u05e6\u05d7 \u05d1\u05db\u05dc \u05e0\u05e7\u05d5\u05d3\u05d4), \u05d7\u05d5\u05dc\u05e9\u05d5\u05ea \u05e9\u05e0\u05d7\u05e9\u05e4\u05d5 (\u05e9\u05dc\u05e0\u05d5 \u05d5\u05e9\u05dc\u05d4\u05dd), \u05d8\u05d9\u05e2\u05d5\u05e0\u05d9\u05dd \u05e9\u05e2\u05d1\u05d3\u05d5/\u05e0\u05db\u05e9\u05dc\u05d5, 5 \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05de\u05d9\u05d9\u05d3\u05d9\u05d5\u05ea, \u05d0\u05d6\u05d4\u05e8\u05d5\u05ea \u05e7\u05e8\u05d9\u05d8\u05d9\u05d5\u05ea.\n\n\u05d4\u05d3\u05d9\u05d5\u05df \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e7\u05e9\u05d4 \u05d5\u05d0\u05de\u05d9\u05ea\u05d9. \u05db\u05dc \u05d8\u05e2\u05e0\u05d4 = \u05d4\u05e4\u05e0\u05d9\u05d4 \u05dc\u05de\u05e1\u05de\u05da.',premium:!0,enterprise:!0}]},jt=[{key:"issuesmap",label:"\u05e1\u05d5\u05d2\u05d9\u05d5\u05ea",title:"\u05de\u05d9\u05e4\u05d5\u05d9 \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea/\u05de\u05d5\u05e1\u05db\u05de\u05d5\u05ea/\u05e4\u05e2\u05e8\u05d9 \u05e8\u05d0\u05d9\u05d5\u05ea",requiresTier:"free"},{key:"credibility",label:"\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea",title:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d5\u05de\u05d4\u05d9\u05de\u05e0\u05d5\u05ea \u05de\u05e2\u05de\u05d9\u05e7",requiresTier:"free"},{key:"game_theory",label:"\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4",title:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 \u05dc\u05e4\u05d9 \u05ea\u05d5\u05e8\u05ea \u05d4\u05de\u05e9\u05d7\u05e7\u05d9\u05dd",requiresTier:"professional"},{key:"forensics",label:"\u05e4\u05d5\u05e8\u05e0\u05d6\u05d9",title:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 (\u05e8\u05d8\u05d5\u05e8\u05d9/\u05d7\u05d5\u05d6\u05d9)",requiresTier:"professional"}],yt=(0,a.forwardRef)((e,t)=>{let{caseId:s,caseName:i,analysisResult:c=null,sessionId:d,onSessionChange:u,onPinItem:m,onAddDocuments:x,onNewCase:p,userTier:b="free",isPremium:f=!1,isEnterprise:v=!1,initialQueuedAction:w=null,initialQueuedActionPayload:j=null}=e;const _=(0,l.Zp)(),{cases:k,fetchCases:S,casesLoading:z}=(0,W.i)(),R=it(e=>e.addEntry),[E,J]=(0,a.useState)([]),[V,Q]=(0,a.useState)(0),[Z,K]=(0,a.useState)(""),[H,Y]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(""),[se,ne]=(0,a.useState)(null),[le,ie]=(0,a.useState)(!1),[re,oe]=(0,a.useState)({}),[ce,de]=(0,a.useState)(null),[ue,me]=(0,a.useState)([]),[xe,he]=(0,a.useState)(!1),[pe,be]=(0,a.useState)([]),[ge,fe]=(0,a.useState)(()=>"\u05e9\u05d9\u05d7\u05d4 \u05d7\u05d5\u05e4\u05e9\u05d9\u05ea - ".concat((new Date).toLocaleDateString("he-IL"))),[ve,we]=(0,a.useState)(!1),[je,ye]=((0,a.useRef)(null),(0,a.useState)(!1)),[Ne,_e]=(0,a.useState)({featureName:"",featureDescription:"",requiredTier:"professional"}),[Ae,ke]=(0,a.useState)([]),[Ce,Se]=(0,a.useState)(!1),[ze,Re]=(0,a.useState)(null),[Ee,Ie]=(0,a.useState)(null),[Te,De]=(0,a.useState)(null),[Le,Pe]=(0,a.useState)([]),[Fe,Oe]=(0,a.useState)(null),[qe,Me]=(0,a.useState)([]),[Ge,Ue]=(0,a.useState)(""),[Be,$e]=(0,a.useState)(null),We=(0,a.useRef)(!1),Je=(0,a.useRef)(!1),[Ve,Qe]=(0,a.useState)(null),[Ze,Ke]=(0,a.useState)(!1),[He,Ye]=(0,a.useState)(!1),[tt,st]=(0,a.useState)({judges:"",myPartyName:"",myPartyRole:"plaintiff",myLawyerName:"",opposingPartyName:"",opposingPartyRole:"defendant",opposingLawyerName:"",myWitnesses:"",opposingWitnesses:"",additionalContext:""}),[at,lt]=(0,a.useState)(!1),[ot,ct]=(0,a.useState)(null),dt=(0,a.useRef)(null),ut=(0,a.useRef)(null),mt=(0,a.useRef)(null),ht=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,()=>({scrollToMessage:e=>{var t;const s=null===(t=ut.current)||void 0===t?void 0:t.querySelector('[data-message-id="'.concat(e,'"]'));s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("ring-2","ring-purple-500"),setTimeout(()=>s.classList.remove("ring-2","ring-purple-500"),2e3))},getMessages:()=>E}),[E]);const{triggerCheck:pt}=function(e){let{caseId:t,enabled:s=!0,onReady:n}=e;const l=(0,a.useRef)(null),i=(0,a.useRef)(null),r=(0,a.useRef)(!1),o=(0,a.useCallback)(async()=>{if(t&&s)try{var e,a;const s=await(0,B.apiGet)("/api/cases/".concat(t,"/analysis-status"),{showErrorToast:!1}),m=null===s||void 0===s||null===(e=s.analysis_status)||void 0===e||null===(a=e.rag_prepare)||void 0===a?void 0:a.status;if("running"!==m||r.current||(r.current=!0,g.oR.loading("\u05de\u05e2\u05d1\u05d3 \u05de\u05e1\u05de\u05db\u05d9\u05dd... \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d9\u05d4\u05d9\u05d5 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd \u05dc\u05e9\u05d0\u05dc\u05d5\u05ea \u05d1\u05e7\u05e8\u05d5\u05d1",{id:"rag-processing-".concat(t),duration:1e4})),"completed"===m&&"running"===l.current){var o,c,d,u;const e=(null===s||void 0===s||null===(o=s.analysis_status)||void 0===o||null===(c=o.rag_prepare)||void 0===c?void 0:c.files_prepared)||0,a=(null===s||void 0===s||null===(d=s.analysis_status)||void 0===d||null===(u=d.rag_prepare)||void 0===u?void 0:u.pages)||0;g.oR.dismiss("rag-processing-".concat(t)),g.oR.success("\u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05de\u05d5\u05db\u05e0\u05d9\u05dd \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7! (".concat(e," \u05e7\u05d1\u05e6\u05d9\u05dd, ").concat(a," \u05e2\u05de\u05d5\u05d3\u05d9\u05dd)"),{id:"rag-ready-".concat(t),duration:5e3,description:"\u05db\u05e2\u05ea \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d0\u05d5\u05dc \u05e9\u05d0\u05dc\u05d5\u05ea \u05e2\u05dc \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d1\u05e8\u05de\u05ea \u05d3\u05d9\u05d5\u05e7 \u05d2\u05d1\u05d5\u05d4\u05d4"}),r.current=!1,i.current&&(clearInterval(i.current),i.current=null),null===n||void 0===n||n()}l.current=m||null}catch(m){console.debug("Failed to check document processing status:",m)}},[t,s,n]);return(0,a.useEffect)(()=>{if(t&&s)return o(),i.current=setInterval(o,3e3),()=>{i.current&&(clearInterval(i.current),i.current=null)}},[t,s,o]),{triggerCheck:(0,a.useCallback)(()=>{r.current=!1,l.current=null,o()},[o])}}({caseId:s,enabled:!!s}),bt=(0,a.useCallback)(async()=>{if(s)try{var e;const t=await(0,B.apiGet)("/api/cases/".concat(s),{showErrorToast:!1}),n=(null===t||void 0===t||null===(e=t.case)||void 0===e?void 0:e.status)||(null===t||void 0===t?void 0:t.status)||"completed";ct(n)}catch(t){}},[s]);(0,a.useEffect)(()=>{if(!s)return;bt();const e=setInterval(bt,5e3);return()=>clearInterval(e)},[s,bt]);const gt=(0,a.useMemo)(()=>v?wt.enterprise:f?wt.pro:wt.free,[f,v]),ft=(0,a.useMemo)(()=>{const e={free:0,basic:1,professional:2,enterprise:3,admin:4},t=(b||"free").toLowerCase();return s=>{var n,a;return(null!==(n=e[t])&&void 0!==n?n:0)>=(null!==(a=e[s])&&void 0!==a?a:0)}},[b]),yt=(0,a.useCallback)((e,t,s)=>{_e({featureName:e||"\u05e4\u05d9\u05e6\u05f3\u05e8 \u05e0\u05e2\u05d5\u05dc",featureDescription:t||"\u05e4\u05d9\u05e6\u05f3\u05e8 \u05d6\u05d4 \u05d6\u05de\u05d9\u05df \u05d1\u05de\u05e0\u05d5\u05d9 \u05de\u05e9\u05d5\u05d3\u05e8\u05d2",requiredTier:"basic"===s||"professional"===s||"enterprise"===s?s:"professional"}),ye(!0)},[]),Nt=((0,a.useMemo)(()=>gt||[],[gt]),(0,a.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";null===(e=dt.current)||void 0===e||e.scrollIntoView({behavior:t})},[])),_t=((0,a.useCallback)(e=>{var t;const s=null===(t=ut.current)||void 0===t?void 0:t.querySelector('[data-message-id="'.concat(e,'"]'));s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("ring-2","ring-purple-500","ring-opacity-70"),setTimeout(()=>s.classList.remove("ring-2","ring-purple-500","ring-opacity-70"),2e3))},[]),(0,a.useCallback)(e=>{g.oR.success("\u05d9\u05d5\u05e6\u05d0 ".concat(e.length," \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05dc\u05d5\u05d5\u05e8\u05d3"))},[]),(0,a.useRef)(null)),At=(0,a.useRef)(0),kt=(0,a.useCallback)(()=>{const e=ut.current;if(!e)return!0;return e.scrollHeight-e.scrollTop-e.clientHeight<120},[]),Ct=(0,a.useCallback)(e=>{if(!kt())return;const t=Date.now();"auto"===e&&t-At.current<80||(At.current=t,_t.current&&cancelAnimationFrame(_t.current),_t.current=requestAnimationFrame(()=>Nt(e)))},[kt,Nt]);(0,a.useEffect)(()=>{Ct("smooth")},[E,Ct]),(0,a.useEffect)(()=>{le&&Ct("auto")},[ee,le,Ct]),(0,a.useEffect)(()=>{const e=e=>{Q(e=>e+1)};return window.addEventListener("chat-refresh",e),()=>window.removeEventListener("chat-refresh",e)},[]),(0,a.useEffect)(()=>{(async()=>{if(!s){Se(!0);try{await S();const e=await(0,B.apiGet)("/api/chat/all-sessions",{showErrorToast:!1});ke(e.cases||[])}catch(e){console.error("Failed to load cases with sessions:",e)}finally{Se(!1)}}})()},[s,S]),(0,a.useEffect)(()=>{let e=!1;return(async()=>{if(s)try{const t=d?"/api/cases/".concat(s,"/chat/history?session_id=").concat(d):"/api/cases/".concat(s,"/chat/history"),n=await(0,B.apiGet)(t,{showErrorToast:!1});if(e)return;J(n.messages||[]),!d&&n.session_id&&u&&u(n.session_id)}catch(t){e||console.error("Failed to load history:",t)}})(),()=>{e=!0}},[s,d,u,V]),(0,a.useEffect)(()=>{(async()=>{if(s)try{const e=await(0,B.apiGet)("/api/cases/".concat(s,"/context"),{showErrorToast:!1});if(e&&e.has_context&&e.context){const t=e.context;Qe(t),st({judges:(t.judges||[]).map(e=>e.name).join(", "),myPartyName:t.my_party_name||"",myPartyRole:t.my_party_role||"plaintiff",myLawyerName:t.my_lawyer_name||"",opposingPartyName:t.primary_opposing_party_name||t.opposing_party_name||"",opposingPartyRole:t.primary_opposing_party_role||t.opposing_party_role||"defendant",opposingLawyerName:t.opposing_lawyer_name||"",myWitnesses:(t.my_witnesses||[]).map(e=>e.name).join(", "),opposingWitnesses:(t.opposing_witnesses||[]).map(e=>e.name).join(", "),additionalContext:t.additional_context||""})}}catch(e){console.error("Failed to load case context:",e)}})()},[s]);(0,a.useMemo)(()=>{if(!s)return!1;if(!Ve)return!0;return!(Ve.my_party_name||Ve.primary_opposing_party_name)},[Ve,s,Fe]);(0,a.useEffect)(()=>{(async()=>{if(s)try{var e;const t=await(0,B.apiGet)("/api/cases/".concat(s),{showErrorToast:!1});null!==t&&void 0!==t&&t.files&&Pe(t.files);const n=(null===t||void 0===t?void 0:t.case_type)||(null===t||void 0===t||null===(e=t.case)||void 0===e?void 0:e.case_type)||null;Oe(n)}catch(t){console.error("Failed to load case files:",t)}})()},[s]),(0,a.useEffect)(()=>{(async()=>{if(s&&!c&&!We.current){We.current=!0;try{const e=await(0,B.apiGet)("/api/cases/".concat(s,"/analysis"),{showErrorToast:!1});$e(e)}catch(e){}}})()},[s,c]);const St=c||Be,zt=(0,a.useCallback)(e=>{Me(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])},[]),Rt=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.trim()&&0===ue.length)return;let n=s;if(!n)return g.oR.info("\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05d0\u05d5 \u05dc\u05d9\u05e6\u05d5\u05e8 \u05ea\u05d9\u05e7 \u05db\u05d3\u05d9 \u05dc\u05e9\u05d5\u05d7\u05d7 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5"),void R({type:"chat",level:"warn",message:"\u05e0\u05d3\u05e8\u05e9 \u05ea\u05d9\u05e7 \u05dc\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d5\u05d3\u05e2\u05d4"});R({type:"chat",level:"info",message:"\u05e0\u05e9\u05dc\u05d7\u05d4 \u05d4\u05d5\u05d3\u05e2\u05d4"});const a={id:"temp_".concat(Date.now()),role:"user",content:t||e,timestamp:(new Date).toISOString()};J(e=>[...e,a]),K(""),Y(!0),te("");try{const s="/adversarial"===e.trim(),a="/api/cases/".concat(n,s?"/chat/adversarial":"/chat"),o=$.useAuthStore.getState().token,c="";if(0!==ue.length||s)if(ue.length>0){R({type:"upload",level:"info",message:"\u05de\u05e6\u05e8\u05e3 ".concat(ue.length," \u05e7\u05d1\u05e6\u05d9\u05dd \u05dc\u05d4\u05d5\u05d3\u05e2\u05d4")});const t=new FormData;t.append("message",e),d&&t.append("session_id",d);const s=ue.map(e=>e.source||"self");t.append("file_sources",JSON.stringify(s)),ue.forEach(e=>{const s=e.file||e;t.append("files",s)});const n=await fetch("".concat(c).concat(a),{method:"POST",headers:{Authorization:o?"Bearer ".concat(o):""},body:t,credentials:"include"});if(!n.ok){const e=await n.json().catch(()=>({}));let t="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4";if(e.detail)try{t=("string"===typeof e.detail?JSON.parse(e.detail):e.detail).message||e.detail}catch(l){t=e.detail}throw new Error(t)}const i=await n.json(),r={id:i.message_id||"msg_".concat(Date.now()),role:"assistant",content:i.response,timestamp:(new Date).toISOString(),tool_result:i.tool_result,tool_banner:i.tool_banner,taxonomy_snapshot:i.taxonomy_snapshot};J(e=>[...e,r]),R({type:"upload",level:"success",message:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e7\u05d1\u05e6\u05d9\u05dd \u05dc\u05d4\u05d5\u05d3\u05e2\u05d4 \u05d4\u05d5\u05e9\u05dc\u05de\u05d4"}),R({type:"chat",level:"success",message:"\u05d4\u05ea\u05e7\u05d1\u05dc\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4"}),i.session_id&&u&&u(i.session_id)}else{const e=await(0,B.$P)(a,{message:"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9 \u05de\u05dc\u05d0 \u05e2\u05dc \u05d4\u05ea\u05d9\u05e7",session_id:d}),t={id:e.message_id||"msg_".concat(Date.now()),role:"assistant",content:e.response,timestamp:(new Date).toISOString(),tool_result:e.tool_result,tool_banner:e.tool_banner,is_adversarial:!0};J(e=>[...e,t]),R({type:"chat",level:"success",message:"\u05d4\u05ea\u05e7\u05d1\u05dc\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4"}),e.session_id&&u&&u(e.session_id)}else{const s=new FormData;s.append("message",e),t&&t!==e&&s.append("display_text",t),d&&s.append("session_id",d);const n=await fetch("".concat(c).concat(a),{method:"POST",headers:{Authorization:o?"Bearer ".concat(o):"","X-Stream-Response":"true"},body:s,credentials:"include"});if(!n.ok){const e=await n.json().catch(()=>({}));let t="\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4";if(e.detail)try{t=("string"===typeof e.detail?JSON.parse(e.detail):e.detail).message||e.detail}catch(i){t=e.detail}throw new Error(t)}if((n.headers.get("content-type")||"").includes("text/event-stream")){ie(!0);const e=n.body.getReader(),t=new TextDecoder;let s="",a=null,l=null,i=null,o=null,c=[],d=0,m=null,x="";for(;;){const{done:n,value:u}=await e.read();if(n)break;x+=t.decode(u,{stream:!0});const h=x.split("\n\n");x=h.pop()||"";const p=h.flatMap(e=>e.split("\n"));for(const e of p)if(e.startsWith("data: "))try{const t=JSON.parse(e.slice(6));if("token"===t.type&&t.chunk)s+=t.chunk,te(s);else if("warning"===t.type)console.warn("\u26a0\ufe0f Stream warning:",t.message),s+="\n\n\u26a0\ufe0f ".concat(t.message),te(s);else if("progress"===t.type)ne({stage:t.stage,progress:t.progress,message:t.message});else if("verified_content"===t.type)s=t.content,te(s),ne({progress:100,message:"\u05d4\u05d5\u05e9\u05dc\u05dd",stage:"complete"});else if("continuation"===t.type)console.log("\ud83d\udd04 Continuation available:",t.message);else if("done"===t.type)a=t.message_id,l=t.session_id,i=t.tool_result,o=t.tool_banner,c=t.documents_used||[],d=t.total_documents||0,m=t.taxonomy_snapshot||null,t.continuation_available?Ie(a):Ie(null),t.truncated&&!t.continuation_available&&(s+="\n\n---\n\u26a0\ufe0f _\u05d4\u05ea\u05e9\u05d5\u05d1\u05d4 \u05e0\u05e7\u05d8\u05e2\u05d4 \u05e2\u05e7\u05d1 \u05d0\u05d5\u05e8\u05db\u05d4. \u05e0\u05e1\u05d4 \u05dc\u05e9\u05d0\u05d5\u05dc \u05e9\u05d0\u05dc\u05d4 \u05de\u05de\u05d5\u05e7\u05d3\u05ea \u05d9\u05d5\u05ea\u05e8._");else if("error"===t.type)throw new Error(t.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05ea\u05d2\u05d5\u05d1\u05d4")}catch(r){}}const h={id:a||"msg_".concat(Date.now()),role:"assistant",content:s,timestamp:(new Date).toISOString(),tool_result:i,tool_banner:o,documents_used:c,total_documents:d,taxonomy_snapshot:m};J(e=>[...e,h]),ie(!1),te(""),ne(null),R({type:"chat",level:"success",message:"\u05d4\u05ea\u05e7\u05d1\u05dc\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4"}),l&&u&&u(l)}else{const e=await n.json(),t={id:e.message_id||"msg_".concat(Date.now()),role:"assistant",content:e.response,timestamp:(new Date).toISOString(),tool_result:e.tool_result,tool_banner:e.tool_banner,taxonomy_snapshot:e.taxonomy_snapshot};J(e=>[...e,t]),R({type:"chat",level:"success",message:"\u05d4\u05ea\u05e7\u05d1\u05dc\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4"}),e.session_id&&u&&u(e.session_id)}}}catch(o){console.error("Failed to send message:",o),g.oR.error(o.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4"),J(e=>e.slice(0,-1)),ie(!1),te(""),R({type:"chat",level:"error",message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d5\u05d3\u05e2\u05d4/\u05e7\u05d1\u05dc\u05ea \u05ea\u05e9\u05d5\u05d1\u05d4"})}finally{Y(!1),me([])}},[Z,ue,s,d,u,_,R]);(0,a.useEffect)(()=>{const e=e=>{var t;const s=(null===e||void 0===e?void 0:e.detail)||{},n=s.prompt,a=null!==(t=s.displayText)&&void 0!==t?t:null;"string"===typeof n&&n.trim()&&Rt(n,a)};return window.addEventListener("chat-send",e),()=>window.removeEventListener("chat-send",e)},[Rt]);const Et=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s='\n---\n## \u2696\ufe0f \u05db\u05dc\u05dc\u05d9 \u05d1\u05e8\u05d6\u05dc\n- **\u05de\u05e7\u05d5\u05e8\u05d5\u05ea:** \u05db\u05dc \u05e2\u05d5\u05d1\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05e4\u05e0\u05d5\u05ea \u05dc\u05de\u05e1\u05de\u05da \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9 (\u05e9\u05dd \u05d4\u05e7\u05d5\u05d1\u05e5, \u05e2\u05de\u05d5\u05d3) \u05d0\u05d5 \u05dc\u05e6\u05d9\u05d9\u05df "\u05d0\u05d9\u05df \u05d1\u05d9\u05e1\u05d5\u05e1 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd"\n- **\u05d0\u05e0\u05d8\u05d9-\u05d4\u05d6\u05d9\u05d5\u05ea:** \u05d0\u05e1\u05d5\u05e8 \u05dc\u05d4\u05de\u05e6\u05d9\u05d0 \u05e4\u05e1\u05e7\u05d9 \u05d3\u05d9\u05df, \u05e1\u05e2\u05d9\u05e4\u05d9\u05dd, \u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd \u05e9\u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05d9\u05dd\n- **\u05e1\u05d2\u05e0\u05d5\u05df:** \u05d9\u05e9\u05d9\u05e8, \u05de\u05e7\u05e6\u05d5\u05e2\u05d9, \u05e2\u05d1\u05e8\u05d9\u05ea \u05de\u05e9\u05e4\u05d8\u05d9\u05ea \u05d1\u05e8\u05de\u05d4 \u05d2\u05d1\u05d5\u05d4\u05d4\n\n## \ud83d\udeab \u05d7\u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d3 - \u05d0\u05e0\u05d8\u05d9-\u05ea\u05d1\u05e0\u05d9\u05d5\u05ea\n**\u05e2\u05e0\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7. \u05d0\u05dc \u05ea\u05e6\u05d9\u05d2:**\n- \u05e4\u05dc\u05d9\u05d9\u05e1\u05d4\u05d5\u05dc\u05d3\u05e8\u05d9\u05dd \u05e8\u05d9\u05e7\u05d9\u05dd \u05db\u05de\u05d5 [___] \u05d0\u05d5 [X%]\n- \u05ea\u05d1\u05e0\u05d9\u05d5\u05ea \u05e8\u05d9\u05e7\u05d5\u05ea \u05d0\u05d5 \u05e9\u05dc\u05d3\u05d9\u05dd \u05dc\u05de\u05d9\u05dc\u05d5\u05d9\n- \u05d8\u05d1\u05dc\u05d0\u05d5\u05ea \u05e2\u05dd \u05ea\u05d0\u05d9\u05dd \u05e8\u05d9\u05e7\u05d9\u05dd\n- \u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05dc\u05e2\u05e6\u05de\u05da\n\n**\u05d0\u05dd \u05d0\u05d9\u05df \u05de\u05e1\u05e4\u05d9\u05e7 \u05de\u05d9\u05d3\u05e2 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd**, \u05db\u05ea\u05d5\u05d1 \u05d1\u05de\u05e4\u05d5\u05e8\u05e9 "\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05d9\u05d3\u05e2 \u05de\u05e1\u05e4\u05d9\u05e7 \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d6\u05d4" \u05d1\u05de\u05e7\u05d5\u05dd \u05dc\u05d4\u05e6\u05d9\u05d2 \u05ea\u05d1\u05e0\u05d9\u05ea \u05e8\u05d9\u05e7\u05d4.\n';switch(e){case"executive":return"\u05d1\u05e6\u05e2 \u05e1\u05e7\u05d9\u05e8\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea \u05de\u05e7\u05d9\u05e4\u05d4 \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7 \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05de\u05e6\u05d1 \u05d4\u05ea\u05d9\u05e7** - \u05d4\u05e2\u05e8\u05da \u05d0\u05dd \u05de\u05e6\u05d1\u05e0\u05d5 \u05d7\u05d6\u05e7, \u05d1\u05d9\u05e0\u05d5\u05e0\u05d9 \u05d0\u05d5 \u05d7\u05dc\u05e9, \u05d5\u05d4\u05e1\u05d1\u05e8 \u05dc\u05de\u05d4. \u05ea\u05df \u05d0\u05d7\u05d5\u05d6 \u05d4\u05e2\u05e8\u05db\u05d4 \u05dc\u05e1\u05d9\u05db\u05d5\u05d9\u05d9 \u05d4\u05e6\u05dc\u05d7\u05d4.\n\n2. **\u05e0\u05d9\u05ea\u05d5\u05d7 \u05db\u05d5\u05d7\u05d5\u05ea** - \u05de\u05d4\u05dd \u05d4\u05db\u05d5\u05d7\u05d5\u05ea \u05dc\u05d8\u05d5\u05d1\u05ea\u05e0\u05d5 \u05d5\u05de\u05d4\u05dd \u05d4\u05db\u05d5\u05d7\u05d5\u05ea \u05e0\u05d2\u05d3\u05e0\u05d5? \u05d3\u05e8\u05d2 \u05db\u05dc \u05d0\u05d7\u05d3 \u05dc\u05e4\u05d9 \u05e2\u05d5\u05e6\u05de\u05d4.\n\n3. **\u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05d4\u05db\u05e8\u05e2\u05d4** - \u05de\u05d4\u05d9 \u05d4\u05e9\u05d0\u05dc\u05d4 \u05e9\u05d1\u05d9\u05ea \u05d4\u05de\u05e9\u05e4\u05d8 \u05d9\u05e6\u05d8\u05e8\u05da \u05dc\u05d4\u05db\u05e8\u05d9\u05e2? \u05de\u05d4\u05d9 \u05d4\u05e8\u05d0\u05d9\u05d4 \u05d4\u05de\u05db\u05e8\u05d9\u05e2\u05d4? \u05de\u05d4\u05d9 \u05d4\u05d7\u05d5\u05dc\u05e9\u05d4 \u05d4\u05e7\u05e8\u05d9\u05d8\u05d9\u05ea \u05e9\u05dc\u05e0\u05d5?\n\n4. **3 \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05de\u05d9\u05d9\u05d3\u05d9\u05d5\u05ea** - \u05de\u05d4 \u05e6\u05e8\u05d9\u05da \u05dc\u05e2\u05e9\u05d5\u05ea \u05e2\u05db\u05e9\u05d9\u05d5, \u05dc\u05e4\u05d9 \u05e1\u05d3\u05e8 \u05e2\u05d3\u05d9\u05e4\u05d5\u05ea \u05d5\u05d3\u05d7\u05d9\u05e4\u05d5\u05ea?\n\n5. **\u05ea\u05e8\u05d7\u05d9\u05e9\u05d9\u05dd** - \u05ea\u05d0\u05e8 3 \u05ea\u05e8\u05d7\u05d9\u05e9\u05d9\u05dd (\u05d0\u05d5\u05e4\u05d8\u05d9\u05de\u05d9, \u05e1\u05d1\u05d9\u05e8, \u05e4\u05e1\u05d9\u05de\u05d9) \u05e2\u05dd \u05d4\u05e1\u05ea\u05d1\u05e8\u05d5\u05ea \u05d5\u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05dc\u05db\u05dc \u05d0\u05d7\u05d3.\n\n6. **\u05d4\u05d7\u05dc\u05d8\u05d4 \u05e0\u05d3\u05e8\u05e9\u05ea** - \u05de\u05d4 \u05d4\u05dc\u05e7\u05d5\u05d7 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d7\u05dc\u05d9\u05d8 \u05d4\u05d9\u05d5\u05dd?\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e1\u05d5\u05d2\u05d9\u05d5\u05ea \u05d5\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea, \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df\n\n".concat(s);case"issuesmap":return"\u05de\u05e4\u05d4 \u05d0\u05ea \u05db\u05dc \u05d4\u05e1\u05d5\u05d2\u05d9\u05d5\u05ea \u05d4\u05de\u05e9\u05e4\u05d8\u05d9\u05d5\u05ea, \u05d4\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea \u05d5\u05d4\u05de\u05d5\u05e1\u05db\u05de\u05d5\u05ea \u05d1\u05ea\u05d9\u05e7.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05e2\u05e5 \u05d4\u05e1\u05d5\u05d2\u05d9\u05d5\u05ea** - \u05de\u05d4\u05d9 \u05d4\u05e1\u05d5\u05d2\u05d9\u05d4 \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05ea? \u05e4\u05e8\u05d8 \u05d0\u05ea \u05d4\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea \u05d5\u05ea\u05ea-\u05d4\u05e9\u05d0\u05dc\u05d5\u05ea \u05d1\u05db\u05dc \u05d0\u05d7\u05ea.\n\n2. **\u05de\u05d8\u05e8\u05d9\u05e6\u05ea \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea** - \u05dc\u05db\u05dc \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0: \u05de\u05d4 \u05e2\u05de\u05d3\u05ea\u05e0\u05d5? \u05de\u05d4 \u05e2\u05de\u05d3\u05ea \u05d4\u05d9\u05e8\u05d9\u05d1? \u05de\u05d4 \u05e1\u05d9\u05db\u05d5\u05d9\u05d9 \u05d4\u05d4\u05e6\u05dc\u05d7\u05d4? \u05de\u05d4 \u05e8\u05de\u05ea \u05d4\u05e7\u05e8\u05d9\u05d8\u05d9\u05d5\u05ea?\n\n3. **\u05e8\u05d0\u05d9\u05d5\u05ea \u05dc\u05db\u05dc \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0** - \u05de\u05d4 \u05d4\u05e8\u05d0\u05d9\u05d5\u05ea \u05dc\u05d8\u05d5\u05d1\u05ea\u05e0\u05d5? \u05de\u05d4 \u05d4\u05e8\u05d0\u05d9\u05d5\u05ea \u05e0\u05d2\u05d3\u05e0\u05d5? \u05de\u05d4 \u05d7\u05e1\u05e8?\n\n4. **\u05de\u05d5\u05e1\u05db\u05de\u05d5\u05ea** - \u05de\u05d4\u05df \u05d4\u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05e9\u05d0\u05d9\u05e0\u05df \u05e9\u05e0\u05d5\u05d9\u05d5\u05ea \u05d1\u05de\u05d7\u05dc\u05d5\u05e7\u05ea? \u05e6\u05d9\u05d9\u05df \u05de\u05e7\u05d5\u05e8 \u05dc\u05db\u05dc \u05d0\u05d7\u05ea.\n\n5. **\u05e4\u05e2\u05e8\u05d9 \u05e8\u05d0\u05d9\u05d5\u05ea \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd** - \u05de\u05d4 \u05d7\u05e1\u05e8 \u05dc\u05e0\u05d5? \u05dc\u05de\u05d4 \u05d6\u05d4 \u05e7\u05e8\u05d9\u05d8\u05d9? \u05d0\u05d9\u05da \u05d0\u05e4\u05e9\u05e8 \u05dc\u05d4\u05e9\u05d9\u05d2?\n\n6. **\u05ea\u05dc\u05d5\u05d9\u05d5\u05ea \u05d1\u05d9\u05df \u05e1\u05d5\u05d2\u05d9\u05d5\u05ea** - \u05d0\u05d9\u05dc\u05d5 \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea \u05ea\u05dc\u05d5\u05d9\u05d5\u05ea \u05d0\u05d7\u05ea \u05d1\u05e9\u05e0\u05d9\u05d9\u05d4?\n\n7. **\u05e1\u05d3\u05e8 \u05e2\u05d3\u05d9\u05e4\u05d5\u05ea** - \u05d3\u05e8\u05d2 \u05d0\u05ea \u05d4\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea: \u05e7\u05e8\u05d9\u05d8\u05d9 (\u05d7\u05d9\u05d9\u05d1\u05d9\u05dd \u05dc\u05e0\u05e6\u05d7), \u05d7\u05e9\u05d5\u05d1, \u05de\u05e9\u05e0\u05d9.\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 \u05dc\u05d7\u05e4\u05d9\u05e8\u05d4 \u05d1\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea, \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df\n\n".concat(s);case"forensics":return'\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 \u05de\u05e2\u05de\u05d9\u05e7 - \u05e8\u05d8\u05d5\u05e8\u05d9, \u05dc\u05e9\u05d5\u05e0\u05d9 \u05d5\u05d4\u05ea\u05e0\u05d4\u05d2\u05d5\u05ea\u05d9 - \u05e9\u05dc \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05d3\u05e4\u05d5\u05e1\u05d9 \u05d4\u05e1\u05ea\u05e8\u05d4** - \u05d6\u05d4\u05d4 \u05e9\u05d9\u05de\u05d5\u05e9 \u05d1\u05d4\u05e1\u05ea\u05d9\u05d9\u05d2\u05d5\u05d9\u05d5\u05ea ("\u05db\u05db\u05dc \u05d4\u05d9\u05d3\u05d5\u05e2"), \u05dc\u05e9\u05d5\u05df \u05e1\u05d1\u05d9\u05dc, \u05e2\u05de\u05d9\u05de\u05d5\u05ea \u05de\u05db\u05d5\u05d5\u05e0\u05ea. \u05e6\u05d8\u05d8 \u05d5\u05d4\u05e1\u05d1\u05e8.\n\n2. **\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05e1\u05d2\u05d5\u05e8** - \u05d0\u05d9\u05da \u05d4\u05d9\u05e8\u05d9\u05d1 \u05de\u05e1\u05d2\u05e8 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e4\u05d5\u05e8? \u05de\u05d4 \u05d4\u05e0\u05e8\u05d8\u05d9\u05d1 \u05e9\u05dc\u05d5? \u05de\u05d4 \u05d4\u05d5\u05d0 \u05de\u05e1\u05ea\u05d9\u05e8? \u05d0\u05d9\u05da \u05e0\u05e1\u05d2\u05e8 \u05de\u05d7\u05d3\u05e9?\n\n3. **\u05e9\u05ea\u05d9\u05e7\u05d4 \u05d7\u05e9\u05d5\u05d3\u05d4** - \u05de\u05d4 \u05dc\u05d0 \u05e0\u05d0\u05de\u05e8 \u05e9\u05d4\u05d9\u05d4 \u05e6\u05e8\u05d9\u05da \u05dc\u05d4\u05d9\u05d0\u05de\u05e8? \u05de\u05d4 \u05d4\u05d5\u05e9\u05de\u05d8 \u05d5\u05dc\u05de\u05d4 \u05d6\u05d4 \u05d7\u05e9\u05d5\u05d3?\n\n4. **\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05e4\u05e0\u05d9\u05de\u05d9\u05d5\u05ea** - \u05de\u05e6\u05d0 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d1\u05d9\u05df \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d0\u05d5 \u05d1\u05ea\u05d5\u05da \u05d0\u05d5\u05ea\u05d5 \u05de\u05e1\u05de\u05da. \u05e6\u05d8\u05d8 \u05d0\u05ea \u05e9\u05ea\u05d9 \u05d4\u05d2\u05e8\u05e1\u05d0\u05d5\u05ea.\n\n5. **\u05e0\u05d9\u05ea\u05d5\u05d7 \u05dc\u05e9\u05d5\u05e0\u05d9** - \u05d6\u05d4\u05d4 \u05d3\u05e4\u05d5\u05e1\u05d9\u05dd: \u05de\u05d9\u05dc\u05d5\u05ea \u05d4\u05e1\u05ea\u05d9\u05d9\u05d2\u05d5\u05ea, \u05dc\u05e9\u05d5\u05df \u05e1\u05d1\u05d9\u05dc, \u05e8\u05d9\u05d1\u05d5\u05d9 \u05ea\u05d9\u05d0\u05d5\u05e8\u05d9\u05dd, \u05e7\u05d9\u05e6\u05d5\u05e8\u05d9\u05dd \u05d7\u05e9\u05d5\u05d3\u05d9\u05dd.\n\n6. **3 \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05ea\u05e7\u05d9\u05e4\u05d4 \u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea** - \u05d6\u05d4\u05d4 \u05d0\u05ea \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d4\u05ea\u05d5\u05e8\u05e4\u05d4 \u05d4\u05d7\u05d6\u05e7\u05d5\u05ea \u05d1\u05d9\u05d5\u05ea\u05e8 \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea.\n\n7. **\u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea** - \u05db\u05ea\u05d5\u05d1 3 \u05e9\u05d0\u05dc\u05d5\u05ea \u05de\u05de\u05d5\u05e7\u05d3\u05d5\u05ea: \u05d1\u05d9\u05e1\u05d5\u05e1, \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05d9\u05dc\u05d5\u05d8, \u05d5\u05d4\u05de\u05db\u05d4 \u05d4\u05e1\u05d5\u05e4\u05d9\u05ea.\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05ea\u05d5\u05e8\u05ea \u05d4\u05de\u05e9\u05d7\u05e7\u05d9\u05dd, \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df\n\n'.concat(s);case"game_theory":return"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 \u05de\u05e7\u05d9\u05e3 \u05dc\u05e4\u05d9 \u05ea\u05d5\u05e8\u05ea \u05d4\u05de\u05e9\u05d7\u05e7\u05d9\u05dd.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05de\u05e4\u05ea \u05d4\u05e9\u05d7\u05e7\u05e0\u05d9\u05dd** - \u05de\u05d9 \u05d4\u05e6\u05d3\u05d3\u05d9\u05dd? \u05de\u05d4 \u05d4\u05d0\u05d9\u05e0\u05d8\u05e8\u05e1\u05d9\u05dd \u05d4\u05d0\u05de\u05d9\u05ea\u05d9\u05d9\u05dd \u05e9\u05dc \u05db\u05dc \u05d0\u05d7\u05d3? \u05de\u05d4 \u05d9\u05e9 \u05dc\u05d4\u05dd \u05dc\u05d4\u05e4\u05e1\u05d9\u05d3/\u05dc\u05d4\u05e8\u05d5\u05d5\u05d9\u05d7?\n\n2. **\u05de\u05d8\u05e8\u05d9\u05e6\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea** - \u05de\u05d4\u05df \u05d4\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea \u05d4\u05d0\u05e4\u05e9\u05e8\u05d9\u05d5\u05ea \u05dc\u05db\u05dc \u05e6\u05d3? (\u05ea\u05d1\u05d9\u05e2\u05d4 \u05de\u05dc\u05d0\u05d4, \u05e4\u05e9\u05e8\u05d4, \u05d5\u05d9\u05ea\u05d5\u05e8, \u05d4\u05e1\u05dc\u05de\u05d4)\n\n3. **\u05e0\u05e7\u05d5\u05d3\u05ea \u05e9\u05d9\u05d5\u05d5\u05d9 \u05de\u05e9\u05e7\u05dc (Nash)** - \u05de\u05d4\u05d9 \u05d4\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05d4\u05d0\u05d5\u05e4\u05d8\u05d9\u05de\u05dc\u05d9\u05ea \u05dc\u05db\u05dc \u05e6\u05d3 \u05d1\u05d4\u05d9\u05e0\u05ea\u05df \u05e9\u05d4\u05e9\u05e0\u05d9 \u05e4\u05d5\u05e2\u05dc \u05d0\u05d5\u05e4\u05d8\u05d9\u05de\u05dc\u05d9\u05ea?\n\n4. **\u05e0\u05d9\u05ea\u05d5\u05d7 ZOPA** - \u05d4\u05d0\u05dd \u05e7\u05d9\u05d9\u05dd \u05d0\u05d6\u05d5\u05e8 \u05d4\u05e1\u05db\u05de\u05d4 \u05d0\u05e4\u05e9\u05e8\u05d9 (Zone of Possible Agreement)? \u05de\u05d4\u05dd \u05d4\u05d2\u05d1\u05d5\u05dc\u05d5\u05ea?\n\n5. **BATNA** - \u05de\u05d4\u05d9 \u05d4\u05d0\u05dc\u05d8\u05e8\u05e0\u05d8\u05d9\u05d1\u05d4 \u05d4\u05d8\u05d5\u05d1\u05d4 \u05d1\u05d9\u05d5\u05ea\u05e8 \u05dc\u05d4\u05e1\u05db\u05dd \u05de\u05e9\u05d0 \u05d5\u05de\u05ea\u05df (\u05e9\u05dc\u05e0\u05d5 \u05d5\u05e9\u05dc \u05d4\u05d9\u05e8\u05d9\u05d1)?\n\n6. **\u05ea\u05e8\u05d7\u05d9\u05e9\u05d9 \u05d4\u05d7\u05dc\u05d8\u05d4** - \u05e2\u05e5 \u05d4\u05d7\u05dc\u05d8\u05d5\u05ea \u05e2\u05dd \u05d4\u05e1\u05ea\u05d1\u05e8\u05d5\u05d9\u05d5\u05ea: \u05de\u05d4 \u05e7\u05d5\u05e8\u05d4 \u05d0\u05dd \u05e0\u05ea\u05e7\u05d5\u05e3? \u05d0\u05dd \u05e0\u05d2\u05df? \u05d0\u05dd \u05e0\u05e6\u05d9\u05e2 \u05e4\u05e9\u05e8\u05d4?\n\n7. **\u05d4\u05de\u05dc\u05e6\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea** - \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7, \u05de\u05d4\u05d9 \u05d4\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05d4\u05de\u05d5\u05de\u05dc\u05e6\u05ea? \u05dc\u05de\u05d4? \u05de\u05d4 \u05d4\u05e1\u05d9\u05db\u05d5\u05d9\u05d9\u05dd?\n\n8. **\u05e0\u05e7\u05d5\u05d3\u05ea \u05e9\u05d1\u05d9\u05e8\u05d4** - \u05de\u05d4 \u05d9\u05d2\u05e8\u05d5\u05dd \u05dc\u05d9\u05e8\u05d9\u05d1 \u05dc\u05e7\u05e8\u05d5\u05e1/\u05dc\u05d4\u05ea\u05e4\u05e9\u05e8? \u05d1\u05d0\u05d9\u05dc\u05d5 \u05ea\u05e0\u05d0\u05d9\u05dd?\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df, \u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d9\u05ea \u05d3\u05d9\u05d5\u05df \u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9\n\n".concat(s);case"counsel":case"profiler":{const e=null!==t&&void 0!==t&&t.opponentLawyerName?" (".concat(t.opponentLawyerName,")"):"";return'\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05e2\u05de\u05d9\u05e7 \u05e9\u05dc \u05e2\u05d5"\u05d3 \u05d4\u05d9\u05e8\u05d9\u05d1'.concat(e,' \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7. \u05e2\u05d2\u05df \u05db\u05dc \u05de\u05de\u05e6\u05d0 \u05d1\u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05dc\u05e9\u05d5\u05e0\u05d9** - \u05de\u05d4 \u05e8\u05de\u05ea \u05d4\u05dc\u05e9\u05d5\u05df? \u05de\u05d4 \u05d3\u05e4\u05d5\u05e1\u05d9 \u05d4\u05e0\u05d9\u05e1\u05d5\u05d7 \u05d4\u05d7\u05d5\u05d6\u05e8\u05d9\u05dd? \u05de\u05d4 \u05d4\u05d8\u05d5\u05df (\u05d0\u05d2\u05e8\u05e1\u05d9\u05d1\u05d9/\u05de\u05ea\u05d2\u05d5\u05e0\u05df/\u05e4\u05d9\u05d9\u05e1\u05e0\u05d9)? \u05e6\u05d8\u05d8 \u05de\u05e9\u05e4\u05d8 \u05de\u05d9\u05d9\u05e6\u05d2.\n\n2. **\u05d4\u05e2\u05e8\u05db\u05ea \u05d0\u05de\u05d9\u05e0\u05d5\u05ea** - \u05d4\u05d0\u05dd \u05e2\u05e7\u05d1\u05d9? \u05d4\u05d0\u05dd \u05d9\u05e9 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea? \u05d0\u05d9\u05e4\u05d4 \u05de\u05e9\u05ea\u05de\u05e9 \u05d1\u05d4\u05e1\u05ea\u05d9\u05d9\u05d2\u05d5\u05d9\u05d5\u05ea? \u05de\u05d4 \u05e0\u05e8\u05d0\u05d4 \u05db\u05de\u05d5 \u05d4\u05e1\u05ea\u05e8\u05d4?\n\n3. **\u05e1\u05d2\u05e0\u05d5\u05df \u05dc\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4** - \u05de\u05dc\u05d7\u05de\u05d4 \u05d8\u05d5\u05d8\u05dc\u05d9\u05ea \u05d0\u05d5 \u05e0\u05db\u05d5\u05df \u05dc\u05e4\u05e9\u05e8\u05d4? \u05d0\u05d9\u05da \u05de\u05ea\u05e0\u05d4\u05dc \u05de\u05d5\u05dc \u05d1\u05d9\u05d4\u05de"\u05e9? \u05d0\u05d9\u05da \u05de\u05d8\u05e4\u05dc \u05d1\u05e8\u05d0\u05d9\u05d5\u05ea \u05d7\u05dc\u05e9\u05d5\u05ea?\n\n4. **\u05d7\u05d5\u05d6\u05e7\u05d5\u05ea** - \u05de\u05d4 \u05dc\u05d0 \u05dc\u05ea\u05e7\u05d5\u05e3? \u05de\u05d4 \u05dc\u05d4\u05d9\u05d6\u05d4\u05e8 \u05de\u05de\u05e0\u05d5?\n\n5. **\u05ea\u05d5\u05e8\u05e4\u05d5\u05ea** - \u05d0\u05d9\u05e4\u05d4 \u05d4\u05d5\u05d0 \u05d7\u05dc\u05e9? \u05d0\u05d9\u05da \u05dc\u05e0\u05e6\u05dc? \u05ea\u05df \u05d3\u05d5\u05d2\u05de\u05d0\u05d5\u05ea.\n\n6. **\u05d7\u05d9\u05d6\u05d5\u05d9\u05d9\u05dd** - \u05de\u05d4 \u05d4\u05d8\u05e2\u05e0\u05d4 \u05d4\u05d1\u05d0\u05d4 \u05e9\u05dc\u05d5? \u05d4\u05d9\u05db\u05df \u05d9\u05ea\u05e7\u05d5\u05e3 \u05d0\u05d5\u05ea\u05e0\u05d5? \u05de\u05d4 \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e9\u05d1\u05d9\u05e8\u05d4 \u05e9\u05dc\u05d5?\n\n7. **\u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05d8\u05e7\u05d8\u05d9\u05d5\u05ea** - \u05d0\u05d9\u05da \u05dc\u05d2\u05e9\u05ea \u05d0\u05dc\u05d9\u05d5? \u05de\u05d4 \u05dc\u05d0 \u05dc\u05e2\u05e9\u05d5\u05ea? \u05de\u05d4 \u05d9\u05e4\u05ea\u05d9\u05e2 \u05d0\u05d5\u05ea\u05d5?\n\n').concat(s)}case"risk":return'\u05d1\u05e6\u05e2 \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05de\u05e7\u05d9\u05e4\u05d4 \u05d5\u05e9\u05d9\u05d8\u05ea\u05d9\u05ea \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7 - \u05e2\u05d5\u05d1\u05d3\u05ea\u05d9\u05d9\u05dd, \u05e8\u05d0\u05d9\u05d9\u05ea\u05d9\u05d9\u05dd, \u05d3\u05d9\u05d5\u05e0\u05d9\u05d9\u05dd \u05d5\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d9\u05dd.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05d3\u05e9\u05d1\u05d5\u05e8\u05d3 \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd** - \u05db\u05de\u05d4 \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd/\u05d7\u05de\u05d5\u05e8\u05d9\u05dd/\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05d9\u05dd/\u05e7\u05dc\u05d9\u05dd? \u05ea\u05df \u05e6\u05d9\u05d5\u05df \u05e1\u05d9\u05db\u05d5\u05df \u05db\u05d5\u05dc\u05dc (1-10).\n\n2. **\u05e8\u05d9\u05e9\u05d5\u05dd \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd** - \u05e4\u05e8\u05d8 \u05db\u05dc \u05e1\u05d9\u05db\u05d5\u05df: \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4, \u05e1\u05d1\u05d9\u05e8\u05d5\u05ea, \u05d4\u05e9\u05e4\u05e2\u05d4, \u05e6\u05d9\u05d5\u05df, \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05de\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4.\n\n3. **\u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05e2\u05d5\u05d1\u05d3\u05ea\u05d9\u05d9\u05dd** - \u05d0\u05d9\u05dc\u05d5 \u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05d1\u05e2\u05d9\u05d9\u05ea\u05d9\u05d5\u05ea? \u05de\u05d4 \u05d4\u05d9\u05e8\u05d9\u05d1 \u05d9\u05d8\u05e2\u05df? \u05d0\u05d9\u05da \u05dc\u05d4\u05ea\u05d2\u05d5\u05e0\u05df?\n\n4. **\u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05e8\u05d0\u05d9\u05d9\u05ea\u05d9\u05d9\u05dd** - \u05de\u05d4 \u05d7\u05e1\u05e8? \u05de\u05d4 \u05d9\u05e7\u05e8\u05d4 \u05d0\u05dd \u05dc\u05d0 \u05e0\u05e1\u05d2\u05d5\u05e8? \u05d0\u05d9\u05da \u05dc\u05e1\u05d2\u05d5\u05e8?\n\n5. **\u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05d3\u05d9\u05d5\u05e0\u05d9\u05d9\u05dd** - \u05e1\u05d5\u05d2\u05d9\u05d5\u05ea \u05e4\u05e8\u05d5\u05e6\u05d3\u05d5\u05e8\u05dc\u05d9\u05d5\u05ea \u05e9\u05e2\u05dc\u05d5\u05dc\u05d5\u05ea \u05dc\u05e4\u05d2\u05d5\u05e2.\n\n6. **\u05e0\u05d9\u05ea\u05d5\u05d7 "\u05de\u05d4 \u05d0\u05dd"** - \u05de\u05d4 \u05d0\u05dd \u05d4\u05e2\u05d3 \u05d9\u05ea\u05de\u05d5\u05d8\u05d8? \u05de\u05d4 \u05d0\u05dd \u05d9\u05e6\u05d5\u05e5 \u05de\u05e1\u05de\u05da \u05d7\u05d3\u05e9? \u05de\u05d4 \u05d0\u05dd \u05d4\u05e9\u05d5\u05e4\u05d8 \u05e2\u05d5\u05d9\u05df?\n\n7. **\u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05de\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4** - \u05dc\u05db\u05dc \u05e1\u05d9\u05db\u05d5\u05df: \u05e4\u05e2\u05d5\u05dc\u05d4 \u05de\u05d9\u05d9\u05d3\u05d9\u05ea, \u05d0\u05d7\u05e8\u05d0\u05d9, \u05d3\u05d3\u05dc\u05d9\u05d9\u05df.\n\n8. **\u05e1\u05d9\u05de\u05e0\u05d9 \u05d0\u05d6\u05d4\u05e8\u05d4** - \u05de\u05d4 \u05d9\u05e8\u05d0\u05d4 \u05dc\u05e0\u05d5 \u05e9\u05d4\u05de\u05e6\u05d1 \u05de\u05d7\u05de\u05d9\u05e8 \u05d5\u05de\u05d4 \u05dc\u05e2\u05e9\u05d5\u05ea.\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e6\u05d9\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea, \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9\n\n'.concat(s);case"intelligence":return'\u05e1\u05e4\u05e7 \u05d3\u05d5"\u05d7 \u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e6\u05d9\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea \u05de\u05e7\u05d9\u05e3 - \u05e0\u05d9\u05ea\u05d5\u05d7, \u05ea\u05d7\u05d6\u05d9\u05d5\u05ea \u05d5\u05d4\u05de\u05dc\u05e6\u05d5\u05ea.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05e0\u05d4\u05dc\u05d9\u05dd** - \u05d4\u05e2\u05e8\u05db\u05ea \u05de\u05e6\u05d1 \u05d1\u05de\u05e9\u05e4\u05d8 \u05d0\u05d7\u05d3, \u05d4\u05de\u05dc\u05e6\u05d4 \u05de\u05e8\u05db\u05d6\u05d9\u05ea, \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d3\u05d7\u05d5\u05e4\u05d4, \u05d7\u05dc\u05d5\u05df \u05d4\u05d6\u05d3\u05de\u05e0\u05d5\u05ea.\n\n2. **\u05e0\u05d9\u05ea\u05d5\u05d7 \u05ea\u05d5\u05e8\u05ea \u05de\u05e9\u05d7\u05e7\u05d9\u05dd** (\u05de\u05d5\u05d3\u05dc \u05ea\u05d9\u05d0\u05d5\u05e8\u05d8\u05d9) - \u05de\u05d4\u05dd \u05d4\u05d0\u05d9\u05e0\u05d8\u05e8\u05e1\u05d9\u05dd \u05e9\u05dc \u05db\u05dc \u05e9\u05d7\u05e7\u05df (\u05d0\u05e0\u05d7\u05e0\u05d5, \u05d4\u05d9\u05e8\u05d9\u05d1, \u05d1\u05d9\u05d4\u05de"\u05e9)? \u05de\u05d4 \u05d4\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05d4\u05e6\u05e4\u05d5\u05d9\u05d4? \u05de\u05d4 \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e9\u05d1\u05d9\u05e8\u05d4?\n\n3. **\u05d3\u05d9\u05e0\u05de\u05d9\u05e7\u05ea \u05db\u05d5\u05d7** - \u05de\u05d9 \u05e9\u05d5\u05dc\u05d8 \u05d1\u05e0\u05e8\u05d8\u05d9\u05d1? \u05de\u05d9 \u05d1\u05d4\u05d2\u05e0\u05d4? \u05de\u05d4 \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d4\u05de\u05e4\u05e0\u05d4?\n\n4. **\u05e0\u05d9\u05ea\u05d5\u05d7 \u05db\u05dc\u05db\u05dc\u05d9** - \u05e2\u05dc\u05d5\u05ea \u05d4\u05de\u05e9\u05da \u05dc\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4, \u05e2\u05e8\u05da \u05e6\u05e4\u05d5\u05d9 \u05d1\u05d6\u05db\u05d9\u05d9\u05d4, \u05e2\u05dc\u05d5\u05ea \u05d4\u05e4\u05e1\u05d3, \u05e0\u05e7\u05d5\u05d3\u05ea \u05d0\u05d9\u05d6\u05d5\u05df \u05dc\u05e4\u05e9\u05e8\u05d4. \u05de\u05d4 \u05d4-ROI?\n\n5. **\u05ea\u05d7\u05d6\u05d9\u05ea \u05d4\u05ea\u05e0\u05d4\u05d2\u05d5\u05ea \u05d9\u05e8\u05d9\u05d1** - \u05de\u05d4 \u05d4\u05e6\u05e2\u05d3 \u05d4\u05d1\u05d0 \u05e9\u05dc\u05d5 (\u05de\u05d9\u05d9\u05d3\u05d9, \u05e7\u05e6\u05e8, \u05d1\u05d9\u05e0\u05d5\u05e0\u05d9)? \u05d1\u05e8\u05de\u05ea \u05d1\u05d9\u05d8\u05d7\u05d5\u05df \u05db\u05de\u05d4 \u05d0\u05d7\u05d5\u05d6\u05d9\u05dd? \u05de\u05d4 \u05d4\u05ea\u05d2\u05d5\u05d1\u05d4 \u05d4\u05de\u05d5\u05de\u05dc\u05e6\u05ea?\n\n6. **\u05ea\u05e8\u05d7\u05d9\u05e9\u05d9\u05dd** - \u05ea\u05d0\u05e8 \u05d0\u05ea \u05d4\u05e0\u05ea\u05d9\u05d1\u05d9\u05dd \u05d4\u05d0\u05e4\u05e9\u05e8\u05d9\u05d9\u05dd \u05d5\u05dc\u05d0\u05df \u05db\u05dc \u05d0\u05d7\u05d3 \u05de\u05d5\u05d1\u05d9\u05dc.\n\n7. **\u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea** - 3 \u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05de\u05d3\u05d5\u05e8\u05d2\u05d5\u05ea \u05e2\u05dd \u05e0\u05d9\u05de\u05d5\u05e7 \u05d5\u05ea\u05d6\u05de\u05d5\u05df.\n\n8. **Red Team** - \u05d0\u05dd \u05d4\u05d9\u05d9\u05ea \u05e2\u05d5"\u05d3 \u05d4\u05d9\u05e8\u05d9\u05d1, \u05de\u05d4 \u05d4\u05d9\u05d9\u05ea \u05e2\u05d5\u05e9\u05d4 \u05e0\u05d2\u05d3\u05e0\u05d5?\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05e4\u05e2\u05d5\u05dc\u05d4 \u05de\u05e4\u05d5\u05e8\u05d8\u05ea, \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e2\u05d5"\u05d3 \u05d9\u05e8\u05d9\u05d1, \u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d9\u05ea \u05d3\u05d9\u05d5\u05df\n\n'.concat(s);case"credibility":return'\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d5\u05de\u05d4\u05d9\u05de\u05e0\u05d5\u05ea \u05de\u05e2\u05de\u05d9\u05e7 - \u05db\u05dc\u05d9 \u05d4\u05e0\u05e9\u05e7 \u05d4\u05de\u05e8\u05db\u05d6\u05d9 \u05d1\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea.\n\n**\u05e1\u05e4\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d1\u05d0:**\n\n1. **\u05d3\u05e9\u05d1\u05d5\u05e8\u05d3 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea** - \u05db\u05de\u05d4 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05e7\u05e8\u05d9\u05d8\u05d9\u05d5\u05ea/\u05d7\u05de\u05d5\u05e8\u05d5\u05ea/\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05d5\u05ea/\u05e7\u05dc\u05d5\u05ea \u05e0\u05de\u05e6\u05d0\u05d5?\n\n2. **\u05e4\u05d9\u05e8\u05d5\u05d8 \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea** - \u05dc\u05db\u05dc \u05e1\u05ea\u05d9\u05e8\u05d4: \u05e6\u05d8\u05d8 \u05d0\u05ea \u05e9\u05e0\u05d9 \u05d4\u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd \u05d4\u05e1\u05d5\u05ea\u05e8\u05d9\u05dd \u05e2\u05dd \u05de\u05e7\u05d5\u05e8 \u05de\u05d3\u05d5\u05d9\u05e7 (\u05de\u05e1\u05de\u05da, \u05e2\u05de\u05d5\u05d3). \u05d4\u05e1\u05d1\u05e8 \u05d0\u05ea \u05d4\u05e1\u05d5\u05d2 (\u05d6\u05de\u05df/\u05e2\u05d5\u05d1\u05d3\u05d4/\u05db\u05de\u05d5\u05ea) \u05d5\u05d0\u05ea \u05d4\u05de\u05e9\u05de\u05e2\u05d5\u05ea.\n\n3. **\u05e6\u05d9\u05d5\u05df \u05de\u05d4\u05d9\u05de\u05e0\u05d5\u05ea** - \u05ea\u05df \u05e6\u05d9\u05d5\u05df (1-100) \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1: \u05e2\u05e7\u05d1\u05d9\u05d5\u05ea \u05e4\u05e0\u05d9\u05de\u05d9\u05ea, \u05d4\u05ea\u05d0\u05de\u05d4 \u05dc\u05e8\u05d0\u05d9\u05d5\u05ea, \u05de\u05d5\u05d8\u05d9\u05d1\u05e6\u05d9\u05d5\u05ea \u05e0\u05e1\u05ea\u05e8\u05d5\u05ea, \u05d3\u05e4\u05d5\u05e1\u05d9 \u05d4\u05e1\u05ea\u05e8\u05d4. \u05d4\u05d0\u05dd \u05d0\u05de\u05d9\u05df, \u05d1\u05e2\u05d9\u05d9\u05ea\u05d9, \u05d0\u05d5 \u05dc\u05d0 \u05d0\u05de\u05d9\u05df?\n\n4. **\u05e9\u05d9\u05e0\u05d5\u05d9\u05d9 \u05d2\u05e8\u05e1\u05d4** - \u05d0\u05d9\u05da \u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05d4\u05e9\u05ea\u05e0\u05d4 \u05dc\u05d0\u05d5\u05e8\u05da \u05d6\u05de\u05df? \u05de\u05d4 \u05d4\u05de\u05d2\u05de\u05d4?\n\n5. **\u05e1\u05de\u05de\u05e0\u05d9 \u05d4\u05e1\u05ea\u05e8\u05d4 \u05dc\u05e9\u05d5\u05e0\u05d9\u05d9\u05dd** - \u05d6\u05d4\u05d4: \u05d4\u05e1\u05ea\u05d9\u05d9\u05d2\u05d5\u05d9\u05d5\u05ea, \u05dc\u05e9\u05d5\u05df \u05e1\u05d1\u05d9\u05dc, \u05db\u05dc\u05dc\u05d9 \u05de\u05d5\u05e4\u05e8\u05d6, \u05e4\u05d9\u05e8\u05d5\u05d8 \u05d9\u05ea\u05e8, \u05e7\u05d9\u05e6\u05d5\u05e8\u05d9\u05dd \u05d7\u05e9\u05d5\u05d3\u05d9\u05dd. \u05e6\u05d8\u05d8 \u05d3\u05d5\u05d2\u05de\u05d0\u05d5\u05ea.\n\n6. **\u05de\u05d4 \u05d4\u05d5\u05d0 \u05de\u05e1\u05ea\u05d9\u05e8 \u05d5\u05dc\u05de\u05d4** - \u05e2\u05dc \u05d1\u05e1\u05d9\u05e1 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7, \u05de\u05d4 \u05e0\u05e8\u05d0\u05d4 \u05db\u05d4\u05e1\u05ea\u05e8\u05d4 \u05de\u05db\u05d5\u05d5\u05e0\u05ea \u05d5\u05de\u05d4 \u05d4\u05de\u05d5\u05d8\u05d9\u05d1\u05e6\u05d9\u05d4?\n\n7. **\u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea** - \u05dc\u05db\u05dc \u05e1\u05ea\u05d9\u05e8\u05d4, \u05db\u05ea\u05d5\u05d1 3 \u05e9\u05d0\u05dc\u05d5\u05ea: (1) \u05d1\u05d9\u05e1\u05d5\u05e1 \u05d4\u05d2\u05e8\u05e1\u05d4 \u05d4\u05e8\u05d0\u05e9\u05d5\u05e0\u05d4, (2) \u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05e8\u05d7\u05d1 \u05de\u05d9\u05dc\u05d5\u05d8, (3) \u05d7\u05e9\u05d9\u05e4\u05ea \u05d4\u05e1\u05ea\u05d9\u05e8\u05d4.\n\n8. **\u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05ea\u05e7\u05d9\u05e4\u05d4** - "\u05db\u05dc\u05dc 3 \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea" - \u05ea\u05db\u05e0\u05df \u05d0\u05ea \u05e1\u05d3\u05e8 \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05dc\u05d7\u05e9\u05d9\u05e4\u05d4 (\u05e7\u05dc\u2192\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u2192\u05e7\u05d8\u05dc\u05e0\u05d9).\n\n**\u05d4\u05de\u05e9\u05da \u05de\u05d5\u05de\u05dc\u05e5:** \u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea \u05de\u05d5\u05d1\u05e0\u05d9\u05ea, \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9\n\n'.concat(s);default:return null}},[]),It={executive:"\ud83c\udfaf \u05de\u05d1\u05e6\u05e2 \u05e1\u05e7\u05d9\u05e8\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea...",issuesmap:"\ud83d\uddfa\ufe0f \u05de\u05de\u05e4\u05d4 \u05e1\u05d5\u05d2\u05d9\u05d5\u05ea \u05d5\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea...",forensics:"\ud83d\udd2c \u05de\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9...",game_theory:"\ud83c\udfaf \u05de\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05ea\u05d5\u05e8\u05ea \u05d4\u05de\u05e9\u05d7\u05e7\u05d9\u05dd...",risk:"\u26a0\ufe0f \u05de\u05d1\u05e6\u05e2 \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df...",intelligence:"\ud83e\udde0 \u05de\u05d9\u05d9\u05e6\u05e8 \u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e6\u05d9\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05ea...",credibility:"\ud83d\udd34 \u05de\u05e0\u05ea\u05d7 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d5\u05de\u05d4\u05d9\u05de\u05e0\u05d5\u05ea...",overview:"\ud83d\udcca \u05de\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05ea\u05d9\u05e7...",strategy:"\u2694\ufe0f \u05d1\u05d5\u05e0\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4...",knowledge:"\ud83d\udcda \u05de\u05d7\u05e4\u05e9 \u05d1\u05de\u05d0\u05d2\u05e8 \u05d4\u05d9\u05d3\u05e2...",adversarial:"\ud83d\udd25 \u05de\u05e8\u05d9\u05e5 \u05d3\u05d9\u05d5\u05df \u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9\u05d0\u05dc\u05d9...",contract_analysis:"\ud83d\udcdc \u05de\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05d7\u05d5\u05d6\u05d4...",compare_docs:"\ud83d\udcc4 \u05de\u05e9\u05d5\u05d5\u05d4 \u05de\u05e1\u05de\u05db\u05d9\u05dd...",analyze_testimony:"\ud83d\udc41\ufe0f \u05de\u05e0\u05ea\u05d7 \u05e2\u05d3\u05d5\u05ea...",cross_exam:"\u2694\ufe0f \u05de\u05d9\u05d9\u05e6\u05e8 \u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4...",semantic_search:"\ud83d\udd0d \u05de\u05d7\u05e4\u05e9 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd...",simulation:"\ud83c\udfad \u05de\u05e8\u05d9\u05e5 \u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d4..."},Tt=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;const s=jt.find(t=>t.key===e)||null;if(s){const e=s.requiresTier||"free";if(!ft(e))return void yt(s.label,s.title,e)}if("intelligence"===e){const e=Et("risk",t),s=Et("intelligence",t);return e&&await Rt(e,It.risk),void(s&&await Rt(s,It.intelligence))}const n=Et(e,t),a=It[e]||"\ud83d\udccb \u05de\u05d1\u05e6\u05e2 ".concat(e,"...");n&&await Rt(n,a)},[Et,ft,yt,Rt]);(0,a.useEffect)(()=>{s&&w&&(Je.current||(Je.current=!0,Tt(w,j)))},[s,w,j,Tt]);const Dt=(0,a.useCallback)(async()=>{if(Ee&&s){Y(!0),te(""),Ie(null);try{const t=$.useAuthStore.getState().token,n="",a=await fetch("".concat(n,"/api/cases/").concat(s,"/chat"),{method:"POST",headers:{Authorization:t?"Bearer ".concat(t):"","X-Stream-Response":"true","Content-Type":"application/json"},body:JSON.stringify({message:"\u05d4\u05de\u05e9\u05da",session_id:d,continue_from:Ee}),credentials:"include"});if(!a.ok){const e=await a.json().catch(()=>({}));throw new Error(e.detail||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05de\u05e9\u05da \u05d4\u05ea\u05e9\u05d5\u05d1\u05d4")}if((a.headers.get("content-type")||"").includes("text/event-stream")){const t=a.body.getReader(),s=new TextDecoder;let n="",l=null,i=null,r="";for(ie(!0);;){const{done:a,value:o}=await t.read();if(a)break;r+=s.decode(o,{stream:!0});const c=r.split("\n\n");r=c.pop()||"";const d=c.flatMap(e=>e.split("\n"));for(const t of d)if(t.startsWith("data: "))try{const e=JSON.parse(t.slice(6));"token"===e.type&&e.chunk?(n+=e.chunk,te(n)):"continuation"===e.type?console.log("\ud83d\udd04 More continuation available"):"done"===e.type&&(l=e.message_id,i=e.session_id,e.continuation_available&&Ie(l))}catch(e){}}const o={id:l||"msg_".concat(Date.now()),role:"assistant",content:n,timestamp:(new Date).toISOString(),isContinuation:!0};J(e=>[...e,o]),ie(!1),te(""),i&&u&&u(i)}}catch(t){console.error("Continuation error:",t),g.oR.error(t.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05de\u05e9\u05da \u05d4\u05ea\u05e9\u05d5\u05d1\u05d4")}finally{Y(!1)}}},[Ee,s,d,u]),Lt=(0,a.useCallback)(function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="";switch(e.id){case"compare_docs":if(s.length<2)return void g.oR.error("\u05d1\u05d7\u05e8 \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05dc\u05d4\u05e9\u05d5\u05d5\u05d0\u05d4");n="# \u05d4\u05e9\u05d5\u05d5\u05d0\u05ea \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05de\u05e2\u05de\u05d9\u05e7\u05d4 \u2014 ".concat(s.map(e=>e.filename).join(" vs "),'\n\n\u05d1\u05e6\u05e2 \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea \u05d5\u05de\u05e2\u05de\u05d9\u05e7\u05d4 \u05d1\u05d9\u05df \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd. \u05d7\u05e4\u05e9 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea, \u05e4\u05e2\u05e8\u05d9\u05dd, \u05d5\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05ea\u05e7\u05d9\u05e4\u05d4.\n\n## \ud83d\udcca \u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05e0\u05d4\u05dc\u05d9\u05dd\n| \u05de\u05d3\u05d3 | \u05e2\u05e8\u05da |\n|-----|-----|\n| \u05de\u05e1\u05e4\u05e8 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea | X |\n| \u05d7\u05d5\u05de\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea | \u05e7\u05e8\u05d9\u05d8\u05d9/\u05d2\u05d1\u05d5\u05d4/\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9 |\n| \u05de\u05e1\u05de\u05da "\u05d7\u05d6\u05e7" \u05d9\u05d5\u05ea\u05e8 | |\n\n## \ud83d\udd34 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05e7\u05e8\u05d9\u05d8\u05d9\u05d5\u05ea (\u05de\u05d3\u05d5\u05e8\u05d2\u05d5\u05ea \u05dc\u05e4\u05d9 \u05d7\u05d5\u05de\u05e8\u05d4)\n| # | \u05e0\u05d5\u05e9\u05d0 | \u05de\u05e1\u05de\u05da \u05d0\u05f3 \u05d0\u05d5\u05de\u05e8 | \u05de\u05e1\u05de\u05da \u05d1\u05f3 \u05d0\u05d5\u05de\u05e8 | \u05d7\u05d5\u05de\u05e8\u05d4 | \u05d4\u05e9\u05dc\u05db\u05d4 \u05de\u05e9\u05e4\u05d8\u05d9\u05ea |\n|---|------|-------------|-------------|-------|--------------|\n\u05dc\u05db\u05dc \u05e1\u05ea\u05d9\u05e8\u05d4: \u05e6\u05d9\u05d8\u05d5\u05d8 \u05de\u05d3\u05d5\u05d9\u05e7 + \u05de\u05e1\u05e4\u05e8 \u05e2\u05de\u05d5\u05d3\n\n## \ud83d\udfe1 \u05e4\u05e2\u05e8\u05d9 \u05de\u05d9\u05d3\u05e2 \u05d7\u05e9\u05d5\u05d3\u05d9\u05dd\n| \u05de\u05d4 \u05d7\u05e1\u05e8 | \u05d1\u05d0\u05d9\u05d6\u05d4 \u05de\u05e1\u05de\u05da | \u05dc\u05de\u05d4 \u05d6\u05d4 \u05d7\u05e9\u05d5\u05d3 | \u05de\u05d4 \u05dc\u05e2\u05e9\u05d5\u05ea |\n|--------|-----------|-------------|----------|\n\n## \ud83d\udd0d \u05d0\u05d9-\u05d4\u05ea\u05d0\u05de\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea\n- \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd \u05dc\u05d0 \u05ea\u05d5\u05d0\u05de\u05d9\u05dd\n- \u05e1\u05db\u05d5\u05de\u05d9\u05dd \u05e9\u05d5\u05e0\u05d9\u05dd\n- \u05e9\u05de\u05d5\u05ea/\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05d5\u05e0\u05d9\u05dd\n\n## \u23f1\ufe0f \u05e6\u05d9\u05e8 \u05d6\u05de\u05df \u05de\u05e9\u05d5\u05dc\u05d1\n| \u05ea\u05d0\u05e8\u05d9\u05da | \u05de\u05e1\u05de\u05da \u05d0\u05f3 | \u05de\u05e1\u05de\u05da \u05d1\u05f3 | \u05d4\u05ea\u05d0\u05de\u05d4? |\n|-------|---------|---------|--------|\n\n## \u2694\ufe0f 5 \u05e9\u05d0\u05dc\u05d5\u05ea \u05e7\u05d8\u05dc\u05e0\u05d9\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea\n\u05dc\u05db\u05dc \u05e9\u05d0\u05dc\u05d4:\n**\u05e9\u05d0\u05dc\u05d4 X:** [\u05e0\u05d9\u05e1\u05d5\u05d7 \u05d7\u05d3]\n- \ud83c\udfaf \u05de\u05d8\u05e8\u05d4: [\u05de\u05d4 \u05ea\u05d7\u05e9\u05d5\u05e3]\n- \ud83d\udcc4 \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e2\u05dc: [\u05d4\u05e1\u05ea\u05d9\u05e8\u05d4 + \u05e2\u05de\u05d5\u05d3]\n- \ud83e\udea4 \u05d4\u05de\u05dc\u05db\u05d5\u05d3\u05ea: [\u05d0\u05d9\u05da \u05dc\u05ea\u05e4\u05d5\u05e1 \u05d1\u05e9\u05e7\u05e8]\n\n## \ud83c\udfaf \u05de\u05e1\u05e7\u05e0\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea\n1. [\u05de\u05e1\u05e7\u05e0\u05d4 + \u05e4\u05e2\u05d5\u05dc\u05d4]\n\n\u26a0\ufe0f \u05db\u05dc \u05e6\u05d9\u05d8\u05d5\u05d8 = \u05de\u05e7\u05d5\u05e8 \u05de\u05d3\u05d5\u05d9\u05e7. \u05d0\u05dd \u05d0\u05d9\u05df \u05d1\u05d9\u05e1\u05d5\u05e1 \u2014 "\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd"');break;case"analyze_testimony":if(0===s.length)return void g.oR.error("\u05d1\u05d7\u05e8 \u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc \u05e2\u05d3\u05d5\u05ea \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7");n="# \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e2\u05d3\u05d5\u05ea \u05de\u05e2\u05de\u05d9\u05e7 \u2014 ".concat(s.map(e=>e.filename).join(", "),'\n\n\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 \u05de\u05e7\u05d9\u05e3 \u05e9\u05dc \u05d4\u05e2\u05d3\u05d5\u05ea. \u05d7\u05e4\u05e9 \u05db\u05dc \u05e0\u05e7\u05d5\u05d3\u05ea \u05ea\u05d5\u05e8\u05e4\u05d4.\n\n## \ud83d\udcca \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05d4\u05e2\u05d3\n| \u05e4\u05e8\u05de\u05d8\u05e8 | \u05d4\u05e2\u05e8\u05db\u05d4 |\n|-------|-------|\n| \u05de\u05d4\u05d9\u05de\u05e0\u05d5\u05ea \u05db\u05dc\u05dc\u05d9\u05ea | X/10 |\n| \u05e2\u05e7\u05d1\u05d9\u05d5\u05ea \u05e4\u05e0\u05d9\u05de\u05d9\u05ea | X/10 |\n| \u05e8\u05de\u05ea \u05e4\u05d9\u05e8\u05d5\u05d8 | \u05d2\u05d1\u05d5\u05d4\u05d4/\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea/\u05e0\u05de\u05d5\u05db\u05d4 |\n| \u05e1\u05d9\u05de\u05e0\u05d9 \u05de\u05ea\u05d7 | \u05db\u05df/\u05dc\u05d0 |\n\n## \ud83d\udd34 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05e4\u05e0\u05d9\u05de\u05d9\u05d5\u05ea (\u05dc\u05e4\u05d9 \u05d7\u05d5\u05de\u05e8\u05d4)\n| # | \u05e2\u05de\u05d5\u05d3 X \u05d0\u05de\u05e8 | \u05e2\u05de\u05d5\u05d3 Y \u05d0\u05de\u05e8 | \u05e1\u05d5\u05d2 \u05d4\u05e1\u05ea\u05d9\u05e8\u05d4 | \u05d7\u05d5\u05de\u05e8\u05d4 |\n|---|-----------|-----------|------------|-------|\n\u05dc\u05db\u05dc \u05e1\u05ea\u05d9\u05e8\u05d4: \u05e6\u05d9\u05d8\u05d5\u05d8 \u05de\u05d3\u05d5\u05d9\u05e7 + \u05e0\u05d9\u05ea\u05d5\u05d7\n\n## \ud83d\udfe1 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9 \u05d2\u05e8\u05e1\u05d4 \u05d7\u05e9\u05d5\u05d3\u05d9\u05dd\n| \u05de\u05ea\u05d9 | \u05de\u05d4 \u05d4\u05e9\u05ea\u05e0\u05d4 | \u05dc\u05de\u05d4 \u05d6\u05d4 \u05d1\u05e2\u05d9\u05d9\u05ea\u05d9 |\n|-----|----------|---------------|\n\n## \ud83e\udde0 \u05e1\u05de\u05e0\u05d9\u05dd \u05dc\u05e9\u05d5\u05e0\u05d9\u05d9\u05d9\u05dd\n### \u05e1\u05d9\u05de\u05e0\u05d9 \u05d0\u05d9-\u05e0\u05d5\u05d7\u05d5\u05ea:\n- \u05d4\u05d9\u05e1\u05d5\u05e1\u05d9\u05dd ("\u05d0\u05d4", "\u05d0\u05de")\n- \u05e0\u05d9\u05e1\u05d5\u05d7\u05d9\u05dd \u05de\u05ea\u05d7\u05de\u05e7\u05d9\u05dd ("\u05dc\u05de\u05d9\u05d8\u05d1 \u05d6\u05db\u05e8\u05d5\u05e0\u05d9", "\u05db\u05db\u05dc \u05d4\u05d9\u05d3\u05d5\u05e2 \u05dc\u05d9")\n- \u05d4\u05d9\u05de\u05e0\u05e2\u05d5\u05ea \u05de\u05ea\u05e9\u05d5\u05d1\u05d4 \u05d9\u05e9\u05d9\u05e8\u05d4\n\n### \u05e1\u05d9\u05de\u05e0\u05d9 \u05e9\u05d9\u05e0\u05d5\u05df:\n- \u05ea\u05e9\u05d5\u05d1\u05d5\u05ea "\u05de\u05d5\u05e9\u05dc\u05de\u05d5\u05ea \u05de\u05d3\u05d9"\n- \u05d7\u05d6\u05e8\u05d4 \u05e2\u05dc \u05d0\u05d5\u05ea\u05d5 \u05e0\u05d9\u05e1\u05d5\u05d7\n- \u05e4\u05d9\u05e8\u05d5\u05d8 \u05d9\u05ea\u05e8/\u05d7\u05e1\u05e8\n\n## \ud83c\udfaf \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05ea\u05d5\u05e8\u05e4\u05d4 \u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea\n| # | \u05e0\u05e7\u05d5\u05d3\u05d4 | \u05e6\u05d9\u05d8\u05d5\u05d8 | \u05dc\u05de\u05d4 \u05d6\u05d4 \u05d1\u05e2\u05d9\u05d9\u05ea\u05d9 | \u05d0\u05d9\u05da \u05dc\u05ea\u05e7\u05d5\u05e3 |\n|---|-------|-------|---------------|----------|\n\n## \u2694\ufe0f 7 \u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea\n\u05dc\u05db\u05dc \u05e9\u05d0\u05dc\u05d4:\n**\u05e9\u05d0\u05dc\u05d4 X:** [\u05e0\u05d9\u05e1\u05d5\u05d7]\n- \ud83c\udfaf \u05de\u05d8\u05e8\u05d4: [\u05de\u05d4 \u05dc\u05d4\u05e9\u05d9\u05d2]\n- \ud83d\udcc4 \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e2\u05dc: [\u05e2\u05de\u05d5\u05d3 X]\n- \ud83e\udea4 \u05d4\u05de\u05dc\u05db\u05d5\u05d3\u05ea: [\u05ea\u05e9\u05d5\u05d1\u05d4 \u05e6\u05e4\u05d5\u05d9\u05d4 \u2192 \u05d4\u05de\u05db\u05d4 \u05d4\u05d1\u05d0\u05d4]\n- \ud83d\udd04 \u05ea\u05e9\u05d5\u05d1\u05d5\u05ea \u05d7\u05dc\u05d5\u05e4\u05d9\u05d5\u05ea: [\u05d0\u05dd \u05d9\u05e2\u05e0\u05d4 X \u2192 \u05e9\u05d0\u05dc Y]\n\n## \ud83d\udcc8 \u05de\u05e1\u05dc\u05d5\u05dc \u05d7\u05e7\u05d9\u05e8\u05d4 \u05de\u05d5\u05de\u05dc\u05e5\n1. \u05e4\u05ea\u05d9\u05d7\u05d4 \u05d1-[\u05e0\u05d5\u05e9\u05d0 \u05e8\u05da] \u2192 2. \u05d4\u05e1\u05dc\u05de\u05d4 \u05dc-[\u05e1\u05ea\u05d9\u05e8\u05d4] \u2192 3. \u05de\u05db\u05d4 \u05e1\u05d5\u05e4\u05d9\u05ea \u05d1-[\u05e0\u05e7\u05d5\u05d3\u05d4 \u05e7\u05e8\u05d9\u05d8\u05d9\u05ea]\n\n\u26a0\ufe0f \u05db\u05dc \u05d8\u05e2\u05e0\u05d4 = \u05e6\u05d9\u05d8\u05d5\u05d8 + \u05e2\u05de\u05d5\u05d3. \u05d0\u05dd \u05d0\u05d9\u05df \u2014 "\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d1\u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc"');break;case"cross_exam":n='# \u05de\u05e0\u05d5\u05e2 \u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea \u2014 \u05e9\u05d0\u05dc\u05d5\u05ea \u05de\u05de\u05d5\u05e7\u05d3\u05d5\u05ea \u05e2\u05dc \u05e1\u05de\u05da \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea\n\n## \ud83c\udfaf \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d9\u05ea \u05d4\u05d7\u05e7\u05d9\u05e8\u05d4\n\u05de\u05d4\u05d9 \u05d4\u05de\u05d8\u05e8\u05d4 \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05ea? \u05de\u05d4 \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e9\u05d1\u05d9\u05e8\u05d4 \u05e9\u05dc \u05d4\u05e2\u05d3?\n\n## \u2694\ufe0f 10 \u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea (\u05de\u05d3\u05d5\u05e8\u05d2\u05d5\u05ea \u05dc\u05e4\u05d9 \u05e2\u05d5\u05e6\u05de\u05d4)\n\n### \u05e9\u05d0\u05dc\u05d5\u05ea \u05d7\u05d9\u05de\u05d5\u05dd (1-3)\n\u05dc\u05db\u05dc \u05e9\u05d0\u05dc\u05d4:\n**\u05e9\u05d0\u05dc\u05d4 X:** [\u05e0\u05d9\u05e1\u05d5\u05d7 \u05de\u05d3\u05d5\u05d9\u05e7 \u2014 \u05db\u05de\u05d5 \u05d1\u05d1\u05d9\u05ea \u05de\u05e9\u05e4\u05d8]\n- \ud83c\udfaf \u05de\u05d8\u05e8\u05d4: [\u05de\u05d4 \u05e8\u05d5\u05e6\u05d9\u05dd \u05dc\u05d4\u05e9\u05d9\u05d2]\n- \ud83d\udcc4 \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e2\u05dc: [\u05de\u05e1\u05de\u05da/\u05e1\u05ea\u05d9\u05e8\u05d4 \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05ea]\n- \u2705 \u05ea\u05e9\u05d5\u05d1\u05d4 \u05e8\u05e6\u05d5\u05d9\u05d4: [\u05de\u05d4 \u05d0\u05e0\u05d7\u05e0\u05d5 \u05e8\u05d5\u05e6\u05d9\u05dd \u05e9\u05d9\u05d2\u05d9\u05d3]\n- \u26a0\ufe0f \u05d0\u05dd \u05d9\u05e1\u05e8\u05d1: [\u05e9\u05d0\u05dc\u05ea \u05d4\u05de\u05e9\u05da]\n\n### \u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d9\u05d1\u05d4 (4-7)\n[\u05d0\u05d5\u05ea\u05d5 \u05e4\u05d5\u05e8\u05de\u05d8 \u2014 \u05e9\u05d0\u05dc\u05d5\u05ea \u05e2\u05dc \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea]\n\n### \u05e9\u05d0\u05dc\u05d5\u05ea \u05e7\u05d8\u05dc\u05e0\u05d9\u05d5\u05ea (8-10)\n**\u05e9\u05d0\u05dc\u05d4 X:** [\u05d4\u05e0\u05d9\u05e1\u05d5\u05d7 \u05d4\u05db\u05d9 \u05d7\u05d3]\n- \ud83c\udfaf \u05de\u05d8\u05e8\u05d4: \u05dc\u05d4\u05e4\u05d9\u05dc \u05d0\u05ea \u05d4\u05e2\u05d3\u05d5\u05ea\n- \ud83d\udcc4 \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e2\u05dc: [\u05d4\u05e1\u05ea\u05d9\u05e8\u05d4 \u05d4\u05d2\u05d3\u05d5\u05dc\u05d4]\n- \ud83e\udea4 \u05d4\u05de\u05dc\u05db\u05d5\u05d3\u05ea: [\u05de\u05d4 \u05e9\u05dc\u05d0 \u05d9\u05e2\u05e0\u05d4 \u2014 \u05d9\u05e4\u05d2\u05e2 \u05d1\u05d5]\n- \ud83d\udca5 \u05d4\u05de\u05db\u05d4 \u05d4\u05e1\u05d5\u05e4\u05d9\u05ea: [\u05d0\u05d9\u05da \u05dc\u05e1\u05d2\u05d5\u05e8]\n\n## \ud83d\udd04 \u05e2\u05e5 \u05d4\u05d7\u05dc\u05d8\u05d5\u05ea\n```\n\u05e9\u05d0\u05dc\u05d4 1 \u2192\n  \u251c\u2500 \u05d0\u05dd "\u05db\u05df" \u2192 \u05e9\u05d0\u05dc\u05d4 2\u05d0\n  \u2514\u2500 \u05d0\u05dd "\u05dc\u05d0" \u2192 \u05e9\u05d0\u05dc\u05d4 2\u05d1\n```\n\n## \u26a0\ufe0f \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05dc\u05d4\u05d9\u05d6\u05d4\u05e8\n- \u05de\u05d4 \u05dc\u05d0 \u05dc\u05e9\u05d0\u05d5\u05dc (\u05e9\u05d0\u05dc\u05d5\u05ea \u05de\u05e1\u05d5\u05db\u05e0\u05d5\u05ea)\n- \u05d0\u05d9\u05e4\u05d4 \u05d4\u05e2\u05d3 \u05d7\u05d6\u05e7\n\n## \ud83d\udccb \u05e6\u05f3\u05e7\u05dc\u05d9\u05e1\u05d8 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05d7\u05e7\u05d9\u05e8\u05d4\n- [ ] \u05db\u05dc \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05de\u05ea\u05d5\u05e2\u05d3\u05d5\u05ea\n- [ ] \u05e6\u05d9\u05d8\u05d5\u05d8\u05d9\u05dd \u05de\u05d3\u05d5\u05d9\u05e7\u05d9\u05dd \u05de\u05d5\u05db\u05e0\u05d9\u05dd\n- [ ] \u05de\u05e1\u05dc\u05d5\u05dc \u05d1\u05e8\u05d5\u05e8\n\n\u26a0\ufe0f \u05db\u05dc \u05e9\u05d0\u05dc\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e2\u05dc \u05e8\u05d0\u05d9\u05d4 \u05e7\u05d9\u05d9\u05de\u05ea';break;case"semantic_search":if(null===(t=e.searchQuery)||void 0===t||!t.trim())return void g.oR.error("\u05d4\u05e7\u05dc\u05d3 \u05de\u05d4 \u05dc\u05d7\u05e4\u05e9");n='# \u05d7\u05d9\u05e4\u05d5\u05e9 \u05d7\u05db\u05dd \u05d1\u05de\u05e1\u05de\u05db\u05d9 \u05d4\u05ea\u05d9\u05e7: "'.concat(e.searchQuery,'"\n\n\u05d7\u05e4\u05e9 \u05d0\u05ea \u05db\u05dc \u05d4\u05de\u05d9\u05d3\u05e2 \u05d4\u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9 \u05d1\u05db\u05dc \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd. \u05d3\u05e8\u05d2 \u05dc\u05e4\u05d9 \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d5\u05ea.\n\n## \ud83d\udcca \u05e1\u05d9\u05db\u05d5\u05dd \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9\n| \u05de\u05d3\u05d3 | \u05e2\u05e8\u05da |\n|-----|-----|\n| \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d5\u05ea | X |\n| \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05e9\u05e0\u05e1\u05e8\u05e7\u05d5 | X |\n| \u05e8\u05de\u05ea \u05d1\u05d9\u05d8\u05d7\u05d5\u05df | \u05d2\u05d1\u05d5\u05d4\u05d4/\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea/\u05e0\u05de\u05d5\u05db\u05d4 |\n\n## \ud83c\udfaf \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea (\u05d4\u05ea\u05d0\u05de\u05d4 \u05de\u05d3\u05d5\u05d9\u05e7\u05ea)\n| # | \u05de\u05e1\u05de\u05da | \u05e2\u05de\u05d5\u05d3 | \u05e6\u05d9\u05d8\u05d5\u05d8 | \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d5\u05ea |\n|---|------|------|-------|----------|\n\u05dc\u05db\u05dc \u05ea\u05d5\u05e6\u05d0\u05d4: \u05e6\u05d9\u05d8\u05d5\u05d8 \u05de\u05d3\u05d5\u05d9\u05e7 \u05e2\u05dd \u05d4\u05e7\u05e9\u05e8\n\n## \ud83d\udd17 \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e7\u05e9\u05d5\u05e8\u05d5\u05ea (\u05d4\u05ea\u05d0\u05de\u05d4 \u05e8\u05e2\u05d9\u05d5\u05e0\u05d9\u05ea)\n| \u05de\u05e1\u05de\u05da | \u05e2\u05de\u05d5\u05d3 | \u05ea\u05d5\u05db\u05df | \u05e7\u05e9\u05e8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9 |\n|------|------|------|-----------|\n\n## \ud83d\udca1 \u05de\u05de\u05e6\u05d0\u05d9\u05dd \u05de\u05e4\u05ea\u05d9\u05e2\u05d9\u05dd\n\u05d3\u05d1\u05e8\u05d9\u05dd \u05e9\u05dc\u05d0 \u05d7\u05d9\u05e4\u05e9\u05ea \u05d0\u05d1\u05dc \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d9\u05dd:\n- [\u05de\u05de\u05e6\u05d0 + \u05dc\u05de\u05d4 \u05d6\u05d4 \u05d7\u05e9\u05d5\u05d1]\n\n## \ud83d\udd34 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05e9\u05e0\u05de\u05e6\u05d0\u05d5\n\u05d0\u05dd \u05d9\u05e9 \u05de\u05d9\u05d3\u05e2 \u05e1\u05d5\u05ea\u05e8 \u05d1\u05d9\u05df \u05de\u05e1\u05de\u05db\u05d9\u05dd:\n| \u05de\u05e1\u05de\u05da \u05d0\u05f3 \u05d0\u05d5\u05de\u05e8 | \u05de\u05e1\u05de\u05da \u05d1\u05f3 \u05d0\u05d5\u05de\u05e8 | \u05de\u05e9\u05de\u05e2\u05d5\u05ea |\n|-------------|-------------|--------|\n\n## \u274c \u05de\u05d4 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\n- [\u05de\u05d9\u05d3\u05e2 \u05e9\u05e6\u05d9\u05e4\u05d9\u05ea \u05dc\u05de\u05e6\u05d5\u05d0 \u05d5\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u2014 \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e9\u05de\u05e2\u05d5\u05ea\u05d9]\n\n## \ud83c\udfaf \u05de\u05e1\u05e7\u05e0\u05d5\u05ea\n1. [\u05de\u05d4 \u05dc\u05de\u05d3\u05e0\u05d5 \u05de\u05d4\u05d7\u05d9\u05e4\u05d5\u05e9]\n2. [\u05de\u05d4 \u05e2\u05d5\u05d3 \u05db\u05d3\u05d0\u05d9 \u05dc\u05d7\u05e4\u05e9]\n\n\u26a0\ufe0f \u05db\u05dc \u05e6\u05d9\u05d8\u05d5\u05d8 = \u05de\u05e7\u05d5\u05e8 \u05de\u05d3\u05d5\u05d9\u05e7 (\u05de\u05e1\u05de\u05da + \u05e2\u05de\u05d5\u05d3)');break;case"simulation":n='# \ud83c\udfad \u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d9\u05ea \u05d3\u05d9\u05d5\u05df \u05d1\u05d1\u05d9\u05ea \u05de\u05e9\u05e4\u05d8 \u2014 5 \u05e1\u05d1\u05d1\u05d9\u05dd\n\n## \ud83d\udcca \u05d4\u05d2\u05d3\u05e8\u05ea \u05d4\u05d6\u05d9\u05e8\u05d4\n| \u05e4\u05e8\u05de\u05d8\u05e8 | \u05e2\u05e8\u05da |\n|-------|-----|\n| \u05e1\u05d5\u05d2 \u05d4\u05d3\u05d9\u05d5\u05df | [\u05d4\u05d5\u05db\u05d7\u05d5\u05ea/\u05e1\u05d9\u05db\u05d5\u05de\u05d9\u05dd/\u05e7\u05d3\u05dd] |\n| \u05e0\u05d5\u05e9\u05d0 \u05de\u05e8\u05db\u05d6\u05d9 | [\u05de\u05d4 \u05e2\u05dc \u05d4\u05e4\u05e8\u05e7] |\n| \u05d9\u05ea\u05e8\u05d5\u05df \u05e4\u05ea\u05d9\u05d7\u05d4 | [\u05dc\u05e0\u05d5/\u05dc\u05d9\u05e8\u05d9\u05d1/\u05e9\u05d5\u05d5\u05d4] |\n\n---\n\n## \ud83d\udd35 \u05e1\u05d1\u05d1 1: \u05e4\u05ea\u05d9\u05d7\u05d4\n\n### \u05e2\u05d5"\u05d3 \u05de\u05d9\u05d9\u05e6\u05d2 \u05e4\u05d5\u05ea\u05d7:\n[\u05d8\u05d9\u05e2\u05d5\u05df \u05e4\u05ea\u05d9\u05d7\u05d4 \u2014 2-3 \u05de\u05e9\u05e4\u05d8\u05d9\u05dd \u05d7\u05d3\u05d9\u05dd]\n\ud83d\udcc4 \u05de\u05d1\u05d5\u05e1\u05e1 \u05e2\u05dc: [\u05e8\u05d0\u05d9\u05d4]\n\n### \ud83d\udd34 \u05ea\u05d2\u05d5\u05d1\u05ea \u05d4\u05e6\u05d3 \u05d4\u05e9\u05e0\u05d9:\n[\u05d4\u05ea\u05e0\u05d2\u05d3\u05d5\u05ea/\u05d8\u05e2\u05e0\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea]\n\ud83d\udcc4 \u05de\u05d1\u05d5\u05e1\u05e1 \u05e2\u05dc: [\u05e8\u05d0\u05d9\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea]\n\n### \u2696\ufe0f \u05d4\u05e9\u05d5\u05e4\u05d8:\n[\u05ea\u05d2\u05d5\u05d1\u05d4/\u05e9\u05d0\u05dc\u05d4/\u05d4\u05e2\u05e8\u05d4]\n\n\ud83d\udca1 **\u05e0\u05e7\u05d5\u05d3\u05ea \u05de\u05e4\u05ea\u05d7:** [\u05de\u05d4 \u05dc\u05dc\u05de\u05d5\u05d3 \u05de\u05d4\u05e1\u05d1\u05d1]\n\n---\n\n## \u05e1\u05d1\u05d1 2: \u05d4\u05e2\u05de\u05e7\u05d4\n[\u05d0\u05d5\u05ea\u05d5 \u05e4\u05d5\u05e8\u05de\u05d8 \u2014 \u05d4\u05e1\u05dc\u05de\u05d4]\n\n---\n\n## \u05e1\u05d1\u05d1 3: \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea\n[\u05d4\u05ea\u05de\u05e7\u05d3\u05d5\u05ea \u05d1\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d4\u05de\u05e8\u05db\u05d6\u05d9\u05d5\u05ea]\n\n---\n\n## \u05e1\u05d1\u05d1 4: \u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea\n[\u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d4 \u05e9\u05dc \u05d7\u05e7\u05d9\u05e8\u05d4 \u05e7\u05e6\u05e8\u05d4]\n\n---\n\n## \u05e1\u05d1\u05d1 5: \u05e1\u05d9\u05db\u05d5\u05de\u05d9\u05dd\n### \ud83d\udd35 \u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05d9\u05d9\u05e6\u05d2:\n[\u05d8\u05d9\u05e2\u05d5\u05df \u05e1\u05d9\u05db\u05d5\u05dd \u05d7\u05d3]\n\n### \ud83d\udd34 \u05e1\u05d9\u05db\u05d5\u05dd \u05d9\u05e8\u05d9\u05d1:\n[\u05d8\u05d9\u05e2\u05d5\u05df \u05e1\u05d9\u05db\u05d5\u05dd \u05e0\u05d2\u05d3\u05d9]\n\n---\n\n## \ud83d\udcca \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d4\n\n### Scorecard:\n| \u05e1\u05d1\u05d1 | \u05de\u05e0\u05e6\u05d7 | \u05d4\u05e1\u05d1\u05e8 | \u05e6\u05d9\u05d5\u05df |\n|-----|------|------|------|\n| 1 | | | X/10 |\n| 2 | | | X/10 |\n| 3 | | | X/10 |\n| 4 | | | X/10 |\n| 5 | | | X/10 |\n| **\u05e1\u05d4"\u05db** | | | **/50 |\n\n### \u05de\u05d4 \u05e2\u05d1\u05d3:\n### \u05de\u05d4 \u05e0\u05db\u05e9\u05dc:\n### \u05d0\u05d9\u05e4\u05d4 \u05d4\u05d9\u05e8\u05d9\u05d1 \u05d7\u05d6\u05e7:\n\n## \ud83c\udfaf 5 \u05ea\u05d5\u05d1\u05e0\u05d5\u05ea \u05dc\u05d3\u05d9\u05d5\u05df \u05d4\u05d0\u05de\u05d9\u05ea\u05d9\n1. [\u05ea\u05d5\u05d1\u05e0\u05d4 + \u05e4\u05e2\u05d5\u05dc\u05d4]\n\n## \u26a0\ufe0f \u05d0\u05d6\u05d4\u05e8\u05d5\u05ea\n- [\u05de\u05d4 \u05dc\u05d4\u05d9\u05d6\u05d4\u05e8 \u05de\u05de\u05e0\u05d5 \u05d1\u05d3\u05d9\u05d5\u05df \u05d4\u05d0\u05de\u05d9\u05ea\u05d9]\n\n\u26a0\ufe0f \u05d4\u05e1\u05d9\u05de\u05d5\u05dc\u05e6\u05d9\u05d4 \u05de\u05d1\u05d5\u05e1\u05e1\u05ea \u05e2\u05dc \u05de\u05e1\u05de\u05db\u05d9 \u05d4\u05ea\u05d9\u05e7 \u05d1\u05dc\u05d1\u05d3';break;default:return}De(null),Me([]),Ue(""),Rt(n)},[Rt]),Pt=((0,a.useCallback)(e=>{!e.premium||f?e.needsFiles?(De(e),Me([]),Ue("")):e.needsInput?(De(e),Ue("")):Lt(e):yt(e.name,e.description,"professional")},[f,Lt,yt]),(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";if(s)try{g.oR.info("\u05de\u05ea\u05d7\u05d9\u05dc \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05e2\u05de\u05d9\u05e7\u2026"),await(0,B.$P)("/api/cases/".concat(encodeURIComponent(s),"/reanalyze"),{mode:e}),g.oR.success("\u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d5\u05e4\u05e2\u05dc. \u05d0\u05e4\u05e9\u05e8 \u05dc\u05d4\u05de\u05e9\u05d9\u05da \u05dc\u05e9\u05d0\u05d5\u05dc \u05d1\u05e6\u05f3\u05d0\u05d8 \u05d1\u05d6\u05de\u05df \u05d4\u05e8\u05d9\u05e6\u05d4.");try{null===R||void 0===R||R({type:"analysis",level:"info",message:"\u05d4\u05d5\u05e4\u05e2\u05dc \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05e2\u05de\u05d9\u05e7 (".concat(e,")"),meta:{caseId:s}})}catch(t){}}catch(n){const e=(null===n||void 0===n?void 0:n.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e4\u05e2\u05dc\u05ea \u05e0\u05d9\u05ea\u05d5\u05d7";g.oR.error(e)}},[s,R]),async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"note",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=await m({content:e,category:t,source_message_id:s});n.success?g.oR.success("\u05e0\u05e9\u05de\u05e8 \u05d1\u05e9\u05de\u05d5\u05e8\u05d9\u05dd \ud83d\udccc"):"limit"===n.reason?g.oR.error("\u05d4\u05d2\u05e2\u05ea \u05dc\u05de\u05d2\u05d1\u05dc\u05ea \u05e9\u05de\u05d5\u05e8\u05d9\u05dd. \u05e9\u05d3\u05e8\u05d2 \u05dc-Pro"):g.oR.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05d4")}),Ft=[{value:"self",label:"\ud83d\udcc4 \u05e9\u05dc\u05e0\u05d5",color:"emerald"},{value:"opponent",label:"\u2694\ufe0f \u05d9\u05e8\u05d9\u05d1",color:"red"},{value:"court",label:"\u2696\ufe0f \u05d1\u05d9\u05ea \u05de\u05e9\u05e4\u05d8",color:"blue"},{value:"third_party",label:"\ud83d\udc65 \u05e6\u05d3 \u05e9\u05dc\u05d9\u05e9\u05d9",color:"amber"}];return(0,ae.jsxs)("div",{className:"h-full min-h-0 flex flex-col",children:[(0,ae.jsx)("style",{children:"\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n"}),(0,ae.jsx)("div",{className:"flex-1 flex flex-row min-h-0",children:(0,ae.jsx)("div",{ref:ut,className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===E.length?s?(0,ae.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,ae.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center mb-4",children:(0,ae.jsx)(T.A,{size:32,className:"text-white"})}),(0,ae.jsx)("h2",{className:"text-white text-xl font-bold mb-2",children:"\u05e9\u05dc\u05d5\u05dd, \u05d0\u05e0\u05d9 \u05d9\u05ea\u05e8\u05d5"}),(0,ae.jsx)("p",{className:"text-white/60 text-sm mb-4 max-w-md",children:"\u05d0\u05e0\u05d9 \u05db\u05d0\u05df \u05dc\u05e2\u05d6\u05d5\u05e8 \u05dc\u05da \u05dc\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05ea\u05d9\u05e7, \u05dc\u05de\u05e6\u05d5\u05d0 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea, \u05d5\u05dc\u05d4\u05db\u05d9\u05df \u05d7\u05e7\u05d9\u05e8\u05d5\u05ea \u05e0\u05d2\u05d3\u05d9\u05d5\u05ea. \u05d1\u05d7\u05e8 \u05e4\u05e2\u05d5\u05dc\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05d0\u05d5 \u05e9\u05d0\u05dc \u05d0\u05d5\u05ea\u05d9 \u05e9\u05d0\u05dc\u05d4."}),(0,ae.jsx)("div",{className:"w-full max-w-xl mb-4",children:(0,ae.jsx)(xt,{caseId:s,compact:!1})}),(0,ae.jsx)("div",{className:"flex flex-wrap justify-center gap-3 max-w-xl",children:gt.map(e=>{const t=e.icon,s=e.premium&&!f||e.enterprise&&!v,n="adversarial"===e.id;return(0,ae.jsxs)("button",{onClick:()=>(e=>{var t,s;if(e.premium&&!f)return void yt(e.label,"\u05e4\u05d9\u05e6\u05f3\u05e8 \u05d6\u05d4 \u05d6\u05de\u05d9\u05df \u05d1\u05de\u05e0\u05d5\u05d9 Professional \u05d5\u05de\u05e2\u05dc\u05d4","professional");if(e.enterprise&&!v)return void yt(e.label,"\u05e4\u05d9\u05e6\u05f3\u05e8 \u05d6\u05d4 \u05d6\u05de\u05d9\u05df \u05d1\u05de\u05e0\u05d5\u05d9 Enterprise \u05d1\u05dc\u05d1\u05d3","enterprise");const n=St,a=(null!==(t=null===n||void 0===n?void 0:n.contradictions_count)&&void 0!==t?t:Array.isArray(null===n||void 0===n?void 0:n.contradictions)?n.contradictions.length:0)+(null!==(s=null===n||void 0===n?void 0:n.disputes_count)&&void 0!==s?s:Array.isArray(null===n||void 0===n?void 0:n.disputes)?n.disputes.length:0)+(Array.isArray(null===n||void 0===n?void 0:n.deception_patterns)?n.deception_patterns.length:0)>0,l=e=>{const t=String((null===e||void 0===e?void 0:e.document_type)||(null===e||void 0===e?void 0:e.doc_type)||"").toLowerCase(),s=String((null===e||void 0===e?void 0:e.filename)||"").toLowerCase();return["claim","defense","reply","response"].includes(t)||s.includes("\u05db\u05ea\u05d1 \u05ea\u05d1\u05d9\u05e2\u05d4")||s.includes("\u05db\u05ea\u05d1 \u05d4\u05d2\u05e0\u05d4")||s.includes("\u05db\u05ea\u05d1 \u05ea\u05e9\u05d5\u05d1\u05d4")||s.includes("\u05ea\u05e9\u05d5\u05d1\u05d4")},i=(Le||[]).some(e=>l(e)&&"self"===((null===e||void 0===e?void 0:e.source)||"self")),r=(Le||[]).some(e=>l(e)&&"opponent"===((null===e||void 0===e?void 0:e.source)||"self")),o=(Le||[]).some(e=>l(e)),c=!!(null!==Ve&&void 0!==Ve&&Ve.opposing_lawyer_name||null!==tt&&void 0!==tt&&tt.opposingLawyerName);if("risk"===e.id&&(!i||!r))return void g.oR.error("\u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df \u05d6\u05de\u05d9\u05e0\u05d4 \u05e8\u05e7 \u05db\u05e9\u05d9\u05e9 \u05db\u05ea\u05d1\u05d9 \u05d8\u05e2\u05e0\u05d5\u05ea \u05de\u05e9\u05e0\u05d9 \u05d4\u05e6\u05d3\u05d3\u05d9\u05dd (\u05e9\u05dc\u05e0\u05d5 + \u05d9\u05e8\u05d9\u05d1).");if("strategy"===e.id){if(!o)return void g.oR.error("\u05db\u05d3\u05d9 \u05dc\u05d1\u05e0\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05e6\u05e8\u05d9\u05da \u05dc\u05e4\u05d7\u05d5\u05ea \u05db\u05ea\u05d1 \u05ea\u05d1\u05d9\u05e2\u05d4/\u05db\u05ea\u05d1 \u05d4\u05d2\u05e0\u05d4/\u05db\u05ea\u05d1 \u05ea\u05e9\u05d5\u05d1\u05d4.");if(!c)return void g.oR.error('\u05db\u05d3\u05d9 \u05dc\u05d1\u05e0\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05e6\u05e8\u05d9\u05da \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc/\u05e4\u05e8\u05d8\u05d9 \u05e2\u05d5"\u05d3 \u05d4\u05d9\u05e8\u05d9\u05d1 (\u05dc\u05e4\u05d7\u05d5\u05ea \u05e9\u05dd).');if(!a)return void g.oR.error("\u05db\u05d3\u05d9 \u05dc\u05d1\u05e0\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05e0\u05d3\u05e8\u05e9\u05d9\u05dd \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea/\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea/\u05ea\u05d1\u05e0\u05d9\u05d5\u05ea \u05e9\u05e7\u05e8 \u05e9\u05e0\u05d9\u05ea\u05e0\u05d5 \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7. \u05d4\u05e2\u05dc\u05d4 \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d5\u05d4\u05e8\u05e5 \u05e0\u05d9\u05ea\u05d5\u05d7.")}const d="\ud83c\udfaf ".concat(e.label,"...");Rt(e.prompt,d)})(e),className:"group flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ".concat(s?"bg-white/5 text-white/40 cursor-not-allowed border border-white/5":n?"bg-gradient-to-r from-amber-600/30 to-orange-600/30 text-amber-200 border border-amber-500/30 hover:from-amber-600/50 hover:to-orange-600/50 hover:scale-105 hover:shadow-lg hover:shadow-amber-500/20":"bg-white/10 text-white border border-white/10 hover:bg-gradient-to-r hover:from-purple-600/40 hover:to-blue-600/40 hover:border-purple-500/30 hover:scale-105 hover:shadow-lg hover:shadow-purple-500/20"),title:s?"\u05d6\u05de\u05d9\u05df \u05d1\u05de\u05e0\u05d5\u05d9 \u05de\u05e9\u05d5\u05d3\u05e8\u05d2":e.label,children:[(0,ae.jsx)(t,{size:18,className:"transition-transform group-hover:scale-110 ".concat(n?"text-amber-400":"")}),(0,ae.jsx)("span",{children:e.label}),s&&(0,ae.jsx)(M.A,{size:14,className:"text-amber-400 mr-1"})]},e.id)})})]}):(0,ae.jsxs)("div",{className:"flex flex-col h-full text-right",children:[(0,ae.jsxs)("div",{className:"text-center mb-6",children:[(0,ae.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center mb-4 mx-auto",children:(0,ae.jsx)(T.A,{size:32,className:"text-white"})}),(0,ae.jsx)("h2",{className:"text-white text-xl font-bold mb-2",children:"\u05e9\u05dc\u05d5\u05dd, \u05d0\u05e0\u05d9 \u05d9\u05ea\u05e8\u05d5"}),(0,ae.jsx)("p",{className:"text-white/60 text-sm max-w-md mx-auto",children:"\u05d0\u05e0\u05d9 \u05db\u05d0\u05df \u05dc\u05e2\u05d6\u05d5\u05e8 \u05dc\u05da. \u05ea\u05d5\u05db\u05dc \u05dc\u05e9\u05d0\u05d5\u05dc \u05d0\u05d5\u05ea\u05d9 \u05e9\u05d0\u05dc\u05d5\u05ea \u05d9\u05e9\u05d9\u05e8\u05d5\u05ea, \u05d0\u05d5 \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7."})]}),(0,ae.jsx)("div",{className:"mb-6 mx-auto max-w-md w-full",children:(0,ae.jsx)("div",{onClick:()=>p?p():_("/cases?new=true"),className:"group cursor-pointer p-6 bg-gradient-to-br from-purple-600/20 to-blue-600/20 border-2 border-dashed border-purple-500/50 rounded-2xl hover:border-purple-400 hover:from-purple-600/30 hover:to-blue-600/30 transition-all",children:(0,ae.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,ae.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,ae.jsx)(D.A,{size:28,className:"text-purple-400"})}),(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("p",{className:"text-white font-semibold text-lg",children:"\u05e6\u05d5\u05e8 \u05ea\u05d9\u05e7 \u05d7\u05d3\u05e9 \u05d5\u05d4\u05e2\u05dc\u05d4 \u05de\u05e1\u05de\u05db\u05d9\u05dd"}),(0,ae.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"PDF, DOC, DOCX, \u05ea\u05de\u05d5\u05e0\u05d5\u05ea \u05d5\u05e2\u05d5\u05d3"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium group-hover:bg-purple-700 transition-colors",children:[(0,ae.jsx)(L.A,{size:18}),"\u05d4\u05ea\u05d7\u05dc \u05e2\u05db\u05e9\u05d9\u05d5"]})]})})}),(0,ae.jsxs)("div",{className:"flex items-center gap-4 mb-4 mx-auto max-w-md w-full",children:[(0,ae.jsx)("div",{className:"flex-1 h-px bg-white/20"}),(0,ae.jsx)("span",{className:"text-white/40 text-sm",children:"\u05d0\u05d5 \u05d1\u05d7\u05e8 \u05ea\u05d9\u05e7 \u05e7\u05d9\u05d9\u05dd"}),(0,ae.jsx)("div",{className:"flex-1 h-px bg-white/20"})]}),(0,ae.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,ae.jsxs)("h3",{className:"text-white/80 font-medium mb-3 flex items-center gap-2",children:[(0,ae.jsx)(P.A,{size:18,className:"text-blue-400"}),"\u05d4\u05ea\u05d9\u05e7\u05d9\u05dd \u05e9\u05dc\u05d9"]}),Ce||z?(0,ae.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ae.jsx)(r.A,{className:"animate-spin text-purple-400",size:32})}):Ae.length>0?(0,ae.jsx)("div",{className:"space-y-2",children:Ae.map(e=>{var t,s;return(0,ae.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-purple-500/30 transition-all",children:[(0,ae.jsxs)("button",{onClick:()=>Re(ze===e.case_id?null:e.case_id),className:"w-full p-3 flex items-center justify-between text-right hover:bg-white/5 transition-colors",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)(P.A,{size:18,className:"text-blue-400"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"text-white font-medium",children:e.case_name||"\u05dc\u05dc\u05d0 \u05e9\u05dd"}),(0,ae.jsxs)("div",{className:"flex items-center gap-3 text-xs text-white/50",children:[(0,ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,ae.jsx)(F.A,{size:12}),(null===(t=e.sessions)||void 0===t?void 0:t.length)||0," \u05e9\u05d9\u05d7\u05d5\u05ea"]}),e.created_at&&(0,ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,ae.jsx)(O.A,{size:12}),new Date(e.created_at).toLocaleDateString("he-IL")]})]})]})]}),(0,ae.jsx)(q.A,{size:18,className:"text-white/40 transition-transform ".concat(ze===e.case_id?"rotate-90":"")})]}),ze===e.case_id&&(null===(s=e.sessions)||void 0===s?void 0:s.length)>0&&(0,ae.jsxs)("div",{className:"border-t border-white/10 bg-black/20 p-2 space-y-1",children:[e.sessions.slice(0,5).map(t=>(0,ae.jsxs)("button",{onClick:()=>_("/cases/".concat(e.case_id,"/chat?session=").concat(t.session_id)),className:"w-full p-2 text-right rounded-lg hover:bg-white/10 transition-colors flex items-center gap-2",children:[(0,ae.jsx)(F.A,{size:14,className:"text-purple-400"}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsx)("div",{className:"text-white/90 text-sm truncate",children:t.title||"\u05e9\u05d9\u05d7\u05d4 \u05dc\u05dc\u05d0 \u05e9\u05dd"}),(0,ae.jsx)("div",{className:"text-white/40 text-xs",children:t.updated_at&&new Date(t.updated_at).toLocaleDateString("he-IL")})]})]},t.session_id)),(0,ae.jsx)("button",{onClick:()=>_("/cases/".concat(e.case_id,"/chat")),className:"w-full p-2 text-center text-purple-400 text-sm hover:bg-purple-500/10 rounded-lg transition-colors",children:"\u05e4\u05ea\u05d7 \u05d0\u05ea \u05d4\u05ea\u05d9\u05e7 \u2192"})]}),ze!==e.case_id&&(0,ae.jsx)("button",{onClick:()=>_("/cases/".concat(e.case_id,"/chat")),className:"w-full px-3 py-2 text-sm text-purple-400 hover:bg-purple-500/10 border-t border-white/5 transition-colors",children:"\u05e4\u05ea\u05d7 \u05ea\u05d9\u05e7"})]},e.case_id)})}):k.length>0?(0,ae.jsx)("div",{className:"space-y-2",children:k.slice(0,10).map(e=>(0,ae.jsxs)("button",{onClick:()=>_("/cases/".concat(e.id,"/chat")),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl text-right hover:border-purple-500/30 hover:bg-white/10 transition-all flex items-center gap-3",children:[(0,ae.jsx)(P.A,{size:18,className:"text-blue-400"}),(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsx)("div",{className:"text-white font-medium",children:e.case_name||e.name||"\u05dc\u05dc\u05d0 \u05e9\u05dd"}),(0,ae.jsx)("div",{className:"text-white/50 text-xs",children:e.created_at&&new Date(e.created_at).toLocaleDateString("he-IL")})]}),(0,ae.jsx)(q.A,{size:16,className:"text-white/40"})]},e.id))}):(0,ae.jsxs)("div",{className:"text-center py-8 text-white/50",children:[(0,ae.jsx)(P.A,{size:48,className:"mx-auto mb-4 opacity-30"}),(0,ae.jsx)("p",{children:"\u05d0\u05d9\u05df \u05dc\u05da \u05ea\u05d9\u05e7\u05d9\u05dd \u05e2\u05d3\u05d9\u05d9\u05df"}),(0,ae.jsx)("p",{className:"text-sm",children:"\u05e6\u05d5\u05e8 \u05ea\u05d9\u05e7 \u05d7\u05d3\u05e9 \u05db\u05d3\u05d9 \u05dc\u05d4\u05ea\u05d7\u05d9\u05dc"})]})]})]}):(0,ae.jsxs)(ae.Fragment,{children:[E.map((e,t)=>{var a,l,i,r,c,d,u,m,x;return(0,ae.jsx)("div",{"data-message-id":e.id,className:"flex ".concat("user"===e.role?"justify-end":"justify-start"," transition-all duration-300"),style:{animation:"slideUp 0.3s ease-out",animationFillMode:"both",animationDelay:"".concat(Math.min(30*t,150),"ms")},children:(0,ae.jsxs)("div",{className:"max-w-[85%] rounded-2xl p-4 shadow-lg hover:shadow-xl transition-shadow duration-200 ".concat("user"===e.role?"bg-purple-600/30 border border-purple-500/30 shadow-purple-900/20":null!==(a=e.meta)&&void 0!==a&&a.auto_summary?"bg-gradient-to-br from-emerald-900/30 to-teal-900/20 border border-emerald-500/30 shadow-emerald-900/20":"bg-white/5 border border-white/10 shadow-black/20"),children:[e.is_adversarial&&(0,ae.jsxs)("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-white/10",children:[(0,ae.jsx)(I.A,{size:16,className:"text-amber-400"}),(0,ae.jsx)("span",{className:"text-amber-300 text-sm font-medium",children:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d0\u05d3\u05d1\u05e8\u05e1\u05e8\u05d9"}),(0,ae.jsx)("span",{className:"text-white/40 text-xs",children:"\u05e9\u05e0\u05d9 \u05de\u05e0\u05d5\u05e2\u05d9 AI"})]}),(null===(l=e.meta)||void 0===l?void 0:l.auto_summary)&&(0,ae.jsxs)("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-emerald-500/30",children:[(0,ae.jsx)(T.A,{size:16,className:"text-emerald-400"}),(0,ae.jsxs)("span",{className:"text-emerald-300 text-sm font-medium",children:["\u05ea\u05de\u05e6\u05d9\u05ea ",1===e.meta.auto_summary.version?"V1 (\u05de\u05d4\u05d9\u05e8)":"V".concat(e.meta.auto_summary.version)]}),e.meta.auto_summary.filename&&(0,ae.jsxs)("span",{className:"text-white/40 text-xs truncate max-w-[200px]",title:e.meta.auto_summary.filename,children:["\ud83d\udcc4 ",e.meta.auto_summary.filename]}),e.meta.auto_summary.incremental&&(0,ae.jsx)("span",{className:"px-1.5 py-0.5 bg-emerald-500/20 text-emerald-300 rounded text-[10px]",children:"\u05d0\u05d9\u05e0\u05e7\u05e8\u05de\u05e0\u05d8\u05dc\u05d9"})]}),"assistant"===e.role?(0,ae.jsx)(Xe,{content:e.content}):(0,ae.jsx)("p",{className:"text-white/90 text-sm whitespace-pre-wrap",children:e.content}),"assistant"===e.role&&(e.documents_used||(null===(i=e.meta)||void 0===i?void 0:i.documents_used))&&(e.documents_used||(null===(r=e.meta)||void 0===r?void 0:r.documents_used)).length>0&&(0,ae.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(e.documents_used||(null===(c=e.meta)||void 0===c?void 0:c.documents_used)).slice(0,5).map((e,t)=>(0,ae.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-500/10 border border-blue-500/20 rounded-lg text-xs hover:bg-blue-500/20 transition-colors cursor-pointer",title:e.filename,children:[(0,ae.jsx)(C.A,{size:12,className:"text-blue-400"}),(0,ae.jsx)("span",{className:"text-white/80 max-w-[120px] truncate",children:e.filename}),e.pages&&e.pages.length>0&&(0,ae.jsxs)("span",{className:"text-blue-300 font-medium",children:["\u05e2\u05de' ",e.pages.slice(0,3).join(", "),e.pages.length>3?"...":""]}),e.relevance&&(0,ae.jsxs)("span",{className:"px-1.5 py-0.5 bg-green-500/30 text-green-300 rounded text-[10px]",children:[e.relevance,"%"]})]},t)),(e.documents_used||(null===(d=e.meta)||void 0===d?void 0:d.documents_used)).length>5&&(0,ae.jsxs)("span",{className:"text-xs text-white/40 self-center",children:["+",(e.documents_used||(null===(u=e.meta)||void 0===u?void 0:u.documents_used)).length-5," \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd"]})]}),"assistant"===e.role&&(null===(m=e.meta)||void 0===m?void 0:m.uploaded_files)&&e.meta.uploaded_files.length>0&&(0,ae.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.meta.uploaded_files.map((e,t)=>(0,ae.jsxs)("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-cyan-500/10 border border-cyan-500/20 rounded-lg text-xs",title:e.filename,children:[(0,ae.jsx)(G.A,{size:12,className:"text-cyan-400"}),(0,ae.jsx)("span",{className:"text-white/80 max-w-[120px] truncate",children:e.filename}),e.pages&&e.pages.length>0&&(0,ae.jsxs)("span",{className:"text-cyan-300",children:["\u05e2\u05de' ",e.pages.join(", ")]})]},t))}),"assistant"===e.role&&(e.taxonomy_snapshot||(null===(x=e.meta)||void 0===x?void 0:x.taxonomy_snapshot))&&(t=>{const s=e.taxonomy_snapshot||(null===(t=e.meta)||void 0===t?void 0:t.taxonomy_snapshot),n=(null===s||void 0===s?void 0:s.claims_sample)||[],a=(null===s||void 0===s?void 0:s.contradictions_sample)||[],l=(null===s||void 0===s?void 0:s.entities_sample)||[],i="number"===typeof(null===s||void 0===s?void 0:s.claims_count)?s.claims_count:null,r="number"===typeof(null===s||void 0===s?void 0:s.contradictions_count)?s.contradictions_count:null,o="number"===typeof(null===s||void 0===s?void 0:s.entities_count)?s.entities_count:null;return Array.isArray(n)&&n.length>0||Array.isArray(a)&&a.length>0||Array.isArray(l)&&l.length>0?(0,ae.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-xs text-purple-300",children:[(0,ae.jsx)("span",{children:"\ud83e\uddec"}),(0,ae.jsxs)("span",{children:["\u05d8\u05e7\u05e1\u05d5\u05e0\u05d5\u05de\u05d9\u05d4",null!==i&&null!==r&&null!==o?" (\u05d8\u05e2\u05e0\u05d5\u05ea ".concat(i," \xb7 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea ").concat(r," \xb7 \u05d9\u05e9\u05d5\u05d9\u05d5\u05ea ").concat(o,")"):""]})]}),Array.isArray(n)&&n.length>0&&(0,ae.jsxs)("div",{className:"space-y-1.5",children:[n.slice(0,3).map((e,t)=>{var s;return(0,ae.jsxs)("div",{className:"flex items-start gap-2 p-2.5 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,ae.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 mt-1.5 flex-shrink-0"}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsx)("span",{className:"text-xs text-white/90",children:e.text||""}),(null===(s=e.location)||void 0===s?void 0:s.filename)&&(0,ae.jsxs)("span",{className:"text-[10px] text-blue-300 ml-2",children:["\ud83d\udcce ",e.location.filename,e.location.page?" \u05e2\u05de' ".concat(e.location.page):""]})]})]},t)}),n.length>3&&(0,ae.jsxs)("span",{className:"text-[10px] text-white/40",children:["+",n.length-3," \u05d8\u05e2\u05e0\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea"]})]}),Array.isArray(a)&&a.length>0&&(0,ae.jsx)("div",{className:"space-y-1.5",children:a.slice(0,3).map((e,t)=>{var s;return(0,ae.jsxs)("div",{className:"flex items-start gap-2 p-2.5 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,ae.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 mt-1.5 flex-shrink-0"}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsx)("span",{className:"text-xs text-white/90",children:e.description||e.text||""}),(null===(s=e.location)||void 0===s?void 0:s.filename)&&(0,ae.jsxs)("span",{className:"text-[10px] text-red-300 ml-2",children:["\ud83d\udcce ",e.location.filename,e.location.page?" \u05e2\u05de' ".concat(e.location.page):""]})]})]},t)})}),Array.isArray(l)&&l.length>0&&(0,ae.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[l.slice(0,6).map((e,t)=>{var s;return(0,ae.jsx)("span",{className:"px-2 py-1 bg-purple-500/10 border border-purple-500/20 rounded-lg text-xs text-purple-200",title:null!==(s=e.location)&&void 0!==s&&s.filename?"".concat(e.location.filename).concat(e.location.page?" \u05e2\u05de' ".concat(e.location.page):""):"",children:e.name||e.text||""},t)}),l.length>6&&(0,ae.jsxs)("span",{className:"text-[10px] text-white/40 self-center",children:["+",l.length-6]})]})]}):null})(),"assistant"===e.role&&e.documents_used&&0===e.documents_used.length&&0===e.total_documents&&(0,ae.jsxs)("div",{className:"mt-2 px-2 py-1 bg-amber-500/10 border border-amber-500/30 rounded text-xs text-amber-300 flex items-center gap-2",children:[(0,ae.jsx)(o.A,{size:12}),(0,ae.jsx)("span",{children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d9\u05dd \u05dc\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05d6\u05d5"})]}),e.tool_result&&(0,ae.jsxs)("div",{className:"mt-3 p-3 bg-black/20 rounded-lg border border-white/10",children:[e.tool_banner&&(0,ae.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-xs text-white/60",children:[(0,ae.jsx)("span",{children:e.tool_banner.icon}),(0,ae.jsx)("span",{children:e.tool_banner.title})]}),Array.isArray(e.tool_result)&&e.tool_result.map((t,s)=>(0,ae.jsxs)("div",{className:"flex items-start gap-2 py-1 group",children:[(0,ae.jsx)("span",{className:"text-white/80 text-sm flex-1",children:t.text||t.description||JSON.stringify(t)}),(0,ae.jsx)("button",{onClick:()=>Pt(t.text||t.description,t.type||"note",e.id),className:"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-white/10 text-white/40 hover:text-amber-400 transition-all",title:"\u05e9\u05de\u05d5\u05e8",children:(0,ae.jsx)(U.A,{size:12})})]},s))]}),"assistant"===e.role&&(0,ae.jsxs)("div",{className:"flex items-center justify-between gap-2 mt-3 pt-2 border-t border-white/10",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("button",{onClick:()=>Pt(e.content,"insight",e.id),className:"p-1.5 rounded-lg text-white/40 hover:text-amber-400 hover:bg-white/10 transition-colors",title:"\u05e9\u05de\u05d5\u05e8 \u05ea\u05e9\u05d5\u05d1\u05d4",children:(0,ae.jsx)(U.A,{size:14})}),(0,ae.jsx)("button",{onClick:()=>(async(e,t)=>{try{await navigator.clipboard.writeText(t),de(e),setTimeout(()=>de(null),2e3),g.oR.success("\u05d4\u05d5\u05e2\u05ea\u05e7")}catch(s){g.oR.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e2\u05ea\u05e7\u05d4")}})(e.id,e.content),className:"p-1.5 rounded-lg text-white/40 hover:text-white hover:bg-white/10 transition-colors",title:"\u05d4\u05e2\u05ea\u05e7",children:ce===e.id?(0,ae.jsx)(y.A,{size:14,className:"text-green-400"}):(0,ae.jsx)(N.A,{size:14})})]}),(0,ae.jsx)(nt,{messageId:e.id,caseId:s,messageContent:e.content,initialRating:re[e.id]||0,onRated:t=>oe(s=>(0,n.A)((0,n.A)({},s),{},{[e.id]:t})),size:14,showLabel:!0})]}),"assistant"===e.role&&t===E.length-1&&!H&&!le&&(0,ae.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/5",children:[(0,ae.jsx)("p",{className:"text-white/40 text-xs mb-2",children:"\u05e9\u05d0\u05dc\u05d5\u05ea \u05d4\u05de\u05e9\u05da:"}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:e.is_adversarial?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("button",{onClick:()=>Rt("\u05d0\u05d9\u05d6\u05d4 \u05d8\u05e2\u05e0\u05d5\u05ea \u05de\u05e1\u05d5\u05db\u05e0\u05d5\u05ea \u05d1\u05de\u05d9\u05d5\u05d7\u05d3?"),className:"text-xs px-3 py-1.5 rounded-full bg-white/5 text-white/70 hover:bg-purple-600/30 hover:text-white transition-all",children:"\u05d0\u05d9\u05d6\u05d4 \u05d8\u05e2\u05e0\u05d5\u05ea \u05de\u05e1\u05d5\u05db\u05e0\u05d5\u05ea?"}),(0,ae.jsx)("button",{onClick:()=>Rt("\u05d0\u05d9\u05da \u05dc\u05d4\u05ea\u05de\u05d5\u05d3\u05d3 \u05e2\u05dd \u05d4\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea?"),className:"text-xs px-3 py-1.5 rounded-full bg-white/5 text-white/70 hover:bg-purple-600/30 hover:text-white transition-all",children:"\u05d0\u05d9\u05da \u05dc\u05d4\u05ea\u05de\u05d5\u05d3\u05d3?"})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("button",{onClick:()=>Rt("\u05ea\u05e8\u05d7\u05d9\u05d1 \u05e2\u05dc \u05d6\u05d4"),className:"text-xs px-3 py-1.5 rounded-full bg-white/5 text-white/70 hover:bg-purple-600/30 hover:text-white transition-all",children:"\u05ea\u05e8\u05d7\u05d9\u05d1 \ud83d\udcdd"}),(0,ae.jsx)("button",{onClick:()=>Rt("\u05ea\u05df \u05dc\u05d9 \u05d3\u05d5\u05d2\u05de\u05d4"),className:"text-xs px-3 py-1.5 rounded-full bg-white/5 text-white/70 hover:bg-purple-600/30 hover:text-white transition-all",children:"\u05d3\u05d5\u05d2\u05de\u05d4 \ud83d\udca1"}),(0,ae.jsx)("button",{onClick:()=>Rt("\u05d0\u05d9\u05d6\u05d4 \u05e9\u05d0\u05dc\u05d5\u05ea \u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea \u05de\u05ea\u05d0\u05d9\u05de\u05d5\u05ea?"),className:"text-xs px-3 py-1.5 rounded-full bg-white/5 text-white/70 hover:bg-purple-600/30 hover:text-white transition-all",children:"\u05e9\u05d0\u05dc\u05d5\u05ea \u05d7\u05e7\u05d9\u05e8\u05d4 \u2753"})]})})]})]})},e.id)}),le&&ee&&(0,ae.jsx)("div",{className:"flex justify-start",children:(0,ae.jsxs)("div",{className:"max-w-[85%] bg-white/5 border border-white/10 rounded-2xl p-4 shadow-lg",children:[(0,ae.jsx)("div",{className:"text-white/90 text-sm whitespace-pre-wrap leading-relaxed",children:ee}),se&&(0,ae.jsx)("div",{className:"mt-3 pt-3 border-t border-white/10",children:(0,ae.jsx)(et,{size:35,showText:!0,progress:se.progress,progressMessage:se.stage})})]})}),H&&!le||le&&!ee&&se?(0,ae.jsx)("div",{className:"flex justify-center py-8",children:(0,ae.jsx)(et,{size:70,showText:!0,progress:null===se||void 0===se?void 0:se.progress,progressMessage:(null===se||void 0===se?void 0:se.message)||(null===se||void 0===se?void 0:se.stage)})}):null,Ee&&!H&&!le&&(0,ae.jsx)("div",{className:"flex justify-center py-3",children:(0,ae.jsxs)("button",{onClick:Dt,className:"group flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-purple-600/30 to-blue-600/30 border border-purple-500/30 hover:border-purple-400/50 text-white/90 hover:text-white transition-all duration-200 hover:scale-105 shadow-lg shadow-purple-500/10",children:[(0,ae.jsx)("span",{className:"text-sm font-medium",children:"\u05e8\u05d5\u05e6\u05d4 \u05e9\u05d0\u05de\u05e9\u05d9\u05da?"}),(0,ae.jsx)(h.A,{size:16,className:"group-hover:translate-y-0.5 transition-transform"})]})}),(0,ae.jsx)("div",{ref:dt})]})})}),Te&&(0,ae.jsxs)("div",{className:"px-4 py-3 border-t border-white/10 bg-gradient-to-r from-slate-900/90 to-purple-900/20",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{const e=Te.icon;return(0,ae.jsx)(e,{size:18,className:"text-purple-400"})})(),(0,ae.jsx)("span",{className:"text-white font-medium",children:Te.name})]}),(0,ae.jsx)("button",{onClick:()=>{De(null),Me([]),Ue("")},className:"p-1 rounded text-white/40 hover:text-white hover:bg-white/10",children:(0,ae.jsx)(A.A,{size:16})})]}),Te.needsFiles&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("p",{className:"text-white/60 text-xs mb-2",children:["\u05d1\u05d7\u05e8 ",2===Te.minFiles?"\u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05de\u05e1\u05de\u05db\u05d9\u05dd":"\u05de\u05e1\u05de\u05da"," \u05dc\u05d4\u05e9\u05d5\u05d5\u05d0\u05d4:"]}),(0,ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-32 overflow-y-auto mb-3",children:Le.map(e=>(0,ae.jsxs)("button",{onClick:()=>zt(e),className:"p-2 rounded-lg text-right text-xs transition-all truncate ".concat(qe.some(t=>t.id===e.id)?"bg-purple-600 text-white border-2 border-purple-400":"bg-white/5 text-white/80 border border-white/10 hover:bg-white/10"),children:[(0,ae.jsx)(C.A,{size:12,className:"inline ml-1"}),e.filename]},e.id))}),0===Le.length&&(0,ae.jsx)("p",{className:"text-white/40 text-xs text-center py-2",children:"\u05d0\u05d9\u05df \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7"})]}),Te.needsInput&&(0,ae.jsx)("div",{className:"mb-3",children:(0,ae.jsx)("input",{type:"text",value:Ge,onChange:e=>Ue(e.target.value),placeholder:"\u05de\u05d4 \u05dc\u05d7\u05e4\u05e9 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd?",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 text-sm focus:outline-none focus:border-purple-500",onKeyDown:e=>"Enter"===e.key&&Lt((0,n.A)((0,n.A)({},Te),{},{searchQuery:Ge}),qe)})}),(0,ae.jsx)("button",{onClick:()=>Lt((0,n.A)((0,n.A)({},Te),{},{searchQuery:Ge}),qe),disabled:Te.needsFiles&&qe.length<(Te.minFiles||1)||Te.needsInput&&!Ge.trim(),className:"w-full py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg text-sm font-medium hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:Te.needsFiles?"\u05d1\u05e6\u05e2 ".concat(Te.name," (").concat(qe.length," \u05e0\u05d1\u05d7\u05e8\u05d5)"):Te.needsInput?"\u05d7\u05e4\u05e9":"\u05d1\u05e6\u05e2 ".concat(Te.name)})]}),ue.length>0&&(0,ae.jsxs)("div",{className:"px-4 py-3 border-t border-white/10 bg-slate-900/50",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ae.jsxs)("div",{className:"text-white/50 text-xs",children:["\ud83d\udcce \u05e7\u05d1\u05e6\u05d9\u05dd \u05dc\u05d4\u05e2\u05dc\u05d0\u05d4 (",ue.length,") - \u05d1\u05d7\u05e8 \u05d0\u05ea \u05d1\u05e2\u05dc \u05d4\u05de\u05e1\u05de\u05da:"]}),(0,ae.jsxs)("button",{onClick:()=>Rt("\u05d4\u05e2\u05dc\u05d0\u05ea \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7","\u05d4\u05e2\u05dc\u05d0\u05ea \u05de\u05e1\u05de\u05db\u05d9\u05dd"),disabled:H,className:"px-3 py-1.5 bg-cyan-600 hover:bg-cyan-700 text-white text-xs font-medium rounded-lg transition-colors flex items-center gap-1.5 disabled:opacity-50",children:[(0,ae.jsx)(G.A,{size:12}),"\u05d4\u05e2\u05dc\u05d4 \u05e2\u05db\u05e9\u05d9\u05d5"]})]}),(0,ae.jsx)("div",{className:"flex flex-col gap-2",children:ue.map((e,t)=>{const s=e.source||"self";return(0,ae.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg border border-white/10",children:[(0,ae.jsx)(C.A,{size:16,className:"text-purple-400 flex-shrink-0"}),(0,ae.jsx)("span",{className:"text-white/80 truncate flex-1 text-sm",children:e.name}),(0,ae.jsx)("select",{value:s,onChange:e=>{return s=t,a=e.target.value,me(e=>e.map((e,t)=>t===s?(0,n.A)((0,n.A)({},e),{},{source:a}):e)),void R({type:"upload",level:"info",message:"\u05e9\u05d5\u05d9\u05da \u05e6\u05d3 \u05dc\u05e7\u05d5\u05d1\u05e5 (#".concat(s+1,"): ").concat(a)});var s,a},className:"px-2 py-1 rounded text-xs bg-slate-800 border cursor-pointer transition-colors\n                      ".concat("self"===s?"border-emerald-500/50 text-emerald-400":"opponent"===s?"border-red-500/50 text-red-400":"court"===s?"border-blue-500/50 text-blue-400":"border-amber-500/50 text-amber-400"),children:Ft.map(e=>(0,ae.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ae.jsx)("button",{onClick:()=>{return e=t,void me(t=>t.filter((t,s)=>s!==e));var e},className:"text-white/40 hover:text-red-400 transition-colors p-1",title:"\u05d4\u05e1\u05e8 \u05e7\u05d5\u05d1\u05e5",children:(0,ae.jsx)(A.A,{size:14})})]},t)})})]}),(0,ae.jsxs)("div",{className:"sticky bottom-0 p-2 sm:p-3 md:p-4 border-t border-white/10 bg-slate-900/95 backdrop-blur-sm z-10",children:[s&&(0,ae.jsx)("div",{className:"px-1 sm:px-0",children:(0,ae.jsx)(xt,{caseId:s,compact:!0})}),s&&["analyzing","processing","pending"].includes(String(ot||""))&&(0,ae.jsxs)("div",{className:"mb-2 px-3 py-2 rounded-xl bg-amber-500/10 border border-amber-500/20 text-amber-200 text-xs",children:[(0,ae.jsx)("div",{className:"font-medium mb-0.5",children:"\u23f3 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d1\u05e2\u05d9\u05e6\u05d5\u05de\u05d5"}),(0,ae.jsx)("div",{className:"text-white/70",children:"\u05e2\u05d3 \u05e9\u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d9\u05e1\u05ea\u05d9\u05d9\u05dd, \u05e2\u05d3\u05d9\u05e3 \u05dc\u05e9\u05d0\u05d5\u05dc \u05e9\u05d0\u05dc\u05d5\u05ea \u05e0\u05e7\u05d5\u05d3\u05ea\u05d9\u05d5\u05ea \u05e2\u05dc \u05e6\u05d9\u05d8\u05d5\u05d8/\u05e2\u05de\u05d5\u05d3/\u05d8\u05e2\u05e0\u05d4 \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05ea. \u05db\u05e9\u05d9\u05e1\u05ea\u05d9\u05d9\u05dd\u2014\u05ea\u05e7\u05d1\u05dc \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05de\u05dc\u05d0\u05d5\u05ea \u05d5\u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05e7\u05d5\u05ea."})]}),(0,ae.jsxs)("div",{className:"flex items-end gap-1 sm:gap-2",children:[x&&(0,ae.jsxs)("div",{className:"relative group",children:[(0,ae.jsx)("button",{onClick:x,className:"p-1.5 sm:p-2 rounded-lg bg-gradient-to-r from-purple-600/25 to-blue-600/25 text-purple-300 hover:text-white border border-purple-500/30 hover:border-purple-400/50 hover:from-purple-600/40 hover:to-blue-600/40 transition-all duration-200 shadow-md shadow-purple-500/5",children:(0,ae.jsx)(D.A,{size:14,className:"sm:w-4 sm:h-4"})}),(0,ae.jsxs)("div",{className:"hidden sm:block absolute bottom-full mb-2 right-0 w-48 p-2 rounded-lg bg-slate-800 border border-white/20 shadow-xl opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-50",children:[(0,ae.jsx)("p",{className:"text-white text-xs font-medium mb-1",children:"\ud83d\udcc1 \u05d4\u05e2\u05dc\u05d4 \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05dc\u05ea\u05d9\u05e7"}),(0,ae.jsx)("p",{className:"text-white/60 text-xs",children:"\u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d9\u05d9\u05e9\u05de\u05e8\u05d5 \u05dc\u05e6\u05de\u05d9\u05ea\u05d5\u05ea \u05d1\u05ea\u05d9\u05e7 \u05d5\u05d9\u05d4\u05d9\u05d5 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd \u05dc\u05db\u05dc \u05d4\u05e9\u05d9\u05d7\u05d5\u05ea"})]})]}),(0,ae.jsxs)("div",{className:"relative group",children:[(0,ae.jsx)("input",{type:"file",ref:ht,onChange:e=>{const t=Array.from(e.target.files);if(t.length>3)return void g.oR.error("\u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e2\u05dc\u05d5\u05ea \u05e2\u05d3 3 \u05e7\u05d1\u05e6\u05d9\u05dd");const s=t.map(e=>({file:e,source:"self",name:e.name}));me(s),R({type:"upload",level:"info",message:"\u05e0\u05d1\u05d7\u05e8\u05d5 ".concat(s.length," \u05e7\u05d1\u05e6\u05d9\u05dd \u05dc\u05d4\u05d5\u05d3\u05e2\u05d4")})},multiple:!0,accept:".pdf,.doc,.docx,.txt",className:"hidden"}),(0,ae.jsx)("button",{onClick:()=>{var e;return null===(e=ht.current)||void 0===e?void 0:e.click()},className:"p-2 sm:p-3 rounded-xl bg-white/5 text-white/50 hover:text-white hover:bg-white/10 transition-colors",children:(0,ae.jsx)(G.A,{size:18,className:"sm:w-5 sm:h-5"})}),(0,ae.jsxs)("div",{className:"hidden sm:block absolute bottom-full mb-2 right-0 w-48 p-2 rounded-lg bg-slate-800 border border-white/20 shadow-xl opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-50",children:[(0,ae.jsx)("p",{className:"text-white text-xs font-medium mb-1",children:"\ud83d\udcce \u05e6\u05e8\u05e3 \u05e7\u05d5\u05d1\u05e5 \u05dc\u05d4\u05d5\u05d3\u05e2\u05d4"}),(0,ae.jsx)("p",{className:"text-white/60 text-xs",children:s?"free_chat"===Fe?"\u05d4\u05e7\u05d1\u05e6\u05d9\u05dd \u05d9\u05d5\u05e2\u05dc\u05d5 \u05dc\u05e9\u05d9\u05d7\u05d4 \u05d5\u05d9\u05d4\u05d9\u05d5 \u05d6\u05de\u05d9\u05e0\u05d9\u05dd \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7":"\u05d4\u05e2\u05dc\u05d0\u05d4 \u05d7\u05d3-\u05e4\u05e2\u05de\u05d9\u05ea \u05dc\u05d4\u05d5\u05d3\u05e2\u05d4 \u05d6\u05d5 \u05d1\u05dc\u05d1\u05d3":"\u05d9\u05d9\u05d5\u05d5\u05e6\u05e8 \u05ea\u05d9\u05e7 \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05dc\u05e9\u05d9\u05d7\u05d4 \u05d7\u05d5\u05e4\u05e9\u05d9\u05ea"})]})]}),(0,ae.jsx)("div",{className:"flex-1 relative min-w-0",children:(0,ae.jsx)("textarea",{ref:mt,value:Z,onChange:e=>K(e.target.value),onKeyDown:e=>{if("Enter"!==e.key||e.shiftKey||(e.preventDefault(),Rt()),"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),Rt()),"ArrowUp"===e.key&&""===Z&&E.length>0){const t=[...E].reverse().find(e=>"user"===e.role);t&&(K(t.content),e.preventDefault())}},placeholder:"\u05e9\u05d0\u05dc \u05d0\u05ea \u05d9\u05ea\u05e8\u05d5...",rows:1,className:"w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 border border-white/10 rounded-xl text-white text-sm sm:text-base placeholder-white/40 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 resize-none",style:{minHeight:"40px",maxHeight:"100px"}})}),(0,ae.jsxs)("div",{className:"relative group flex-shrink-0",children:[(0,ae.jsxs)("button",{onClick:()=>lt(!0),className:"flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-3 rounded-xl bg-yellow-500/20 border border-yellow-500/40 text-yellow-200 hover:bg-yellow-500/30 hover:border-yellow-400/60 transition-colors",title:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea/\u05d9\u05db\u05d5\u05dc\u05d5\u05ea: \u05e4\u05ea\u05d7 \u05d7\u05dc\u05d5\u05df \u05e2\u05dd \u05db\u05dc \u05d4\u05d0\u05e4\u05e9\u05e8\u05d5\u05d9\u05d5\u05ea","aria-label":"\u05e4\u05ea\u05d7 \u05d7\u05dc\u05d5\u05df \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05d5\u05d9\u05db\u05d5\u05dc\u05d5\u05ea",children:[(0,ae.jsx)(T.A,{size:18,className:"sm:w-5 sm:h-5"}),(0,ae.jsx)("span",{className:"hidden sm:inline text-sm font-semibold",children:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"})]}),(0,ae.jsxs)("div",{className:"hidden sm:block absolute bottom-full mb-2 right-0 w-64 p-2 rounded-lg bg-slate-800 border border-yellow-500/30 shadow-xl opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-50",children:[(0,ae.jsx)("p",{className:"text-yellow-100 text-xs font-bold mb-1",children:"\u2728 \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05d5\u05d9\u05db\u05d5\u05dc\u05d5\u05ea"}),(0,ae.jsx)("p",{className:"text-white/70 text-xs",children:"\u05dc\u05d7\u05e5 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05ea \u05db\u05dc \u05d4\u05d9\u05db\u05d5\u05dc\u05d5\u05ea, \u05dc\u05de\u05d4 \u05d4\u05df \u05e0\u05e2\u05d5\u05dc\u05d5\u05ea/\u05d7\u05e1\u05e8\u05d5\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd, \u05d5\u05d0\u05d9\u05d6\u05d5 \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d0\u05e4\u05e9\u05e8 \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05e2\u05db\u05e9\u05d9\u05d5."})]})]}),(0,ae.jsx)("button",{onClick:()=>Rt(),disabled:H||!Z.trim()&&0===ue.length,className:"p-2 sm:p-3 rounded-xl transition-all flex-shrink-0 ".concat(H||!Z.trim()&&0===ue.length?"bg-white/5 text-white/30 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"),children:H?(0,ae.jsx)(r.A,{size:18,className:"animate-spin sm:w-5 sm:h-5"}):(0,ae.jsx)(X.A,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),(0,ae.jsx)(vt,{isOpen:at,onClose:()=>lt(!1),caseId:s,onSelectCapability:e=>{const t=new Set(["claims","contradictions","disputes","red_flags","timeline","insights"]);s&&t.has(e.id)?(0,B.$P)("/api/cases/".concat(encodeURIComponent(s),"/analyze-on-demand"),{analysis_type:e.id,options:{force_refresh:!1}}).then(()=>g.oR.success("\u05d4\u05e4\u05e2\u05dc\u05ea\u05d9: ".concat(e.name))).catch(e=>g.oR.error((null===e||void 0===e?void 0:e.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e4\u05e2\u05dc\u05ea \u05e0\u05d9\u05ea\u05d5\u05d7")):Rt(e.example,e.name)}}),(0,ae.jsx)(rt.default,{isOpen:je,onClose:()=>ye(!1),featureName:Ne.featureName,featureDescription:Ne.featureDescription,requiredTier:Ne.requiredTier,currentTier:b})]})});yt.displayName="ChatPanel";const Nt=yt;var _t=s(978),At=s(6996);H.A,te.A,_t.A,At.A,T.A;var kt=s(4939),Ct=s(9903),St=s(4965),zt=s(38),Rt=s(5088);const Et=e=>{let{currentCaseId:t,currentSessionId:s,onSessionSelect:i,onScrollToMessage:o}=e;const c=(0,l.Zp)(),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(new Set),[f,v]=(0,a.useState)({}),[w,j]=(0,a.useState)({}),[y,N]=(0,a.useState)(new Set),[_,A]=(0,a.useState)(new Set),[k,S]=(0,a.useState)({}),[z,R]=(0,a.useState)(!1),[I,T]=(0,a.useState)(!0),[D,F]=(0,a.useState)(new Set(["questions","key_findings"])),O=(0,a.useCallback)(async()=>{x(!0);try{const e=await(0,B.apiGet)("/api/cases",{showErrorToast:!1});u(e.cases||[])}catch(e){console.error("Failed to fetch cases:",e)}finally{x(!1)}},[]),M=(0,a.useCallback)(async e=>{N(t=>new Set(t).add(e));try{const t=await(0,B.apiGet)("/api/cases/".concat(e,"/chat/sessions"),{showErrorToast:!1});v(s=>(0,n.A)((0,n.A)({},s),{},{[e]:t.sessions||[]}))}catch(t){console.error("Failed to fetch sessions:",t),v(t=>(0,n.A)((0,n.A)({},t),{},{[e]:[]}))}finally{N(t=>{const s=new Set(t);return s.delete(e),s})}},[]),G=(0,a.useCallback)(async e=>{A(t=>new Set(t).add(e));try{const t=await(0,B.apiGet)("/api/cases/".concat(e,"/files"),{showErrorToast:!1});j(s=>(0,n.A)((0,n.A)({},s),{},{[e]:t.files||[]}))}catch(t){console.error("Failed to fetch files:",t),j(t=>(0,n.A)((0,n.A)({},t),{},{[e]:[]}))}finally{A(t=>{const s=new Set(t);return s.delete(e),s})}},[]),U=(0,a.useCallback)(async(e,t)=>{R(!0);try{const s=await(0,B.apiGet)("/api/cases/".concat(e,"/chat/sessions/").concat(t,"/toc?grouped=true"),{showErrorToast:!1});S(s.toc||{})}catch(s){console.error("Failed to fetch session TOC:",s),S({})}finally{R(!1)}},[]),X=(0,a.useCallback)(async e=>{try{const t=await(0,B.$P)("/api/cases/".concat(e,"/chat/new-session"),{});t.session_id&&(await M(e),i(e,t.session_id),g.oR.success("\u05e9\u05d9\u05d7\u05d4 \u05d7\u05d3\u05e9\u05d4 \u05e0\u05d5\u05e6\u05e8\u05d4"))}catch(t){console.error("Failed to create new session:",t),g.oR.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05e6\u05d9\u05e8\u05ea \u05e9\u05d9\u05d7\u05d4 \u05d7\u05d3\u05e9\u05d4")}},[M,i]);(0,a.useEffect)(()=>{O()},[O]),(0,a.useEffect)(()=>{t&&s?U(t,s):S({})},[t,s,U]),(0,a.useEffect)(()=>{t&&!p.has(t)&&(b(e=>new Set(e).add(t)),f[t]||M(t),w[t]||G(t))},[t,p,f,w,M,G]);const $=e=>{try{return new Date(e).toLocaleDateString("he-IL",{day:"numeric",month:"short"})}catch(t){return""}},W=e=>{try{return new Date(e).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})}catch(t){return""}},J={questions:{icon:(0,ae.jsx)(te.A,{size:12}),label:"\u05e9\u05d0\u05dc\u05d5\u05ea",color:"blue"},key_findings:{icon:(0,ae.jsx)(ht.A,{size:12}),label:"\u05de\u05de\u05e6\u05d0\u05d9\u05dd \u05d7\u05e9\u05d5\u05d1\u05d9\u05dd",color:"red"},recommendations:{icon:(0,ae.jsx)(Z.A,{size:12}),label:"\u05d4\u05de\u05dc\u05e6\u05d5\u05ea",color:"yellow"},summaries:{icon:(0,ae.jsx)(E.A,{size:12}),label:"\u05e1\u05d9\u05db\u05d5\u05de\u05d9\u05dd",color:"green"},other:{icon:(0,ae.jsx)(kt.A,{size:12}),label:"\u05d0\u05d7\u05e8",color:"gray"}},V=Object.values(k).reduce((e,t)=>e+((null===t||void 0===t?void 0:t.length)||0),0);return(0,ae.jsxs)("div",{className:"h-full flex flex-col",children:[(0,ae.jsx)("div",{className:"p-3 border-b border-white/10",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("h3",{className:"text-white/90 font-semibold text-sm flex items-center gap-2",children:[(0,ae.jsx)(P.A,{size:14}),"\u05ea\u05d9\u05e7\u05d9\u05dd \u05d5\u05e9\u05d9\u05d7\u05d5\u05ea"]}),(0,ae.jsx)("button",{onClick:O,className:"p-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",title:"\u05e8\u05e2\u05e0\u05df",children:(0,ae.jsx)(ot.A,{size:12})})]})}),s&&V>0&&(0,ae.jsxs)("div",{className:"border-b border-white/10",children:[(0,ae.jsxs)("button",{onClick:()=>T(!I),className:"w-full flex items-center justify-between px-3 py-2 hover:bg-white/5 transition-colors",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-white/80",children:[(0,ae.jsx)(Ct.A,{size:14,className:"text-purple-400"}),(0,ae.jsx)("span",{className:"text-xs font-medium",children:"\u05ea\u05d5\u05db\u05df \u05e2\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd"}),(0,ae.jsxs)("span",{className:"text-[10px] text-white/40",children:["(",V,")"]})]}),I?(0,ae.jsx)(h.A,{size:14,className:"text-white/40"}):(0,ae.jsx)(q.A,{size:14,className:"text-white/40"})]}),I&&(0,ae.jsx)("div",{className:"max-h-60 overflow-y-auto px-2 pb-2 space-y-1",children:z?(0,ae.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,ae.jsx)(r.A,{size:14,className:"animate-spin text-purple-400"})}):Object.entries(k).map(e=>{let[t,s]=e;if(!s||0===s.length)return null;const n=J[t]||J.other,a=D.has(t);return(0,ae.jsxs)("div",{className:"space-y-0.5",children:[(0,ae.jsxs)("button",{onClick:()=>{return e=t,void F(t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s});var e},className:"w-full flex items-center gap-2 px-2 py-1 rounded text-xs hover:bg-white/5 transition-colors\n                          ".concat("blue"===n.color?"text-blue-400":"","\n                          ").concat("red"===n.color?"text-red-400":"","\n                          ").concat("yellow"===n.color?"text-yellow-400":"","\n                          ").concat("green"===n.color?"text-green-400":"","\n                          ").concat("gray"===n.color?"text-gray-400":"","\n                        "),children:[a?(0,ae.jsx)(h.A,{size:10}):(0,ae.jsx)(q.A,{size:10}),n.icon,(0,ae.jsx)("span",{className:"font-medium",children:n.label}),(0,ae.jsxs)("span",{className:"text-white/40 text-[10px]",children:["(",s.length,")"]})]}),a&&(0,ae.jsx)("div",{className:"mr-4 space-y-0.5",children:s.map(e=>(0,ae.jsxs)("button",{onClick:()=>null===o||void 0===o?void 0:o(e.message_id),className:"w-full flex items-start gap-2 px-2 py-1 rounded text-right transition-colors\n                                hover:bg-".concat(n.color,"-500/10\n                                ").concat(e.importance>=3?"bg-white/5":"","\n                              "),children:[(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsx)("span",{className:"text-xs text-white/80 block truncate",children:e.title}),e.importance>=2&&(0,ae.jsx)("span",{className:"text-[10px] text-white/40 block truncate",children:e.content_preview})]}),e.timestamp&&(0,ae.jsx)("span",{className:"text-[9px] text-white/30 flex-shrink-0",children:W(e.timestamp)})]},e.message_id))})]},t)})})]}),(0,ae.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:m?(0,ae.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ae.jsx)(r.A,{className:"animate-spin text-blue-400",size:24})}):0===d.length?(0,ae.jsxs)("div",{className:"text-center py-8",children:[(0,ae.jsx)(P.A,{className:"mx-auto text-white/30 mb-2",size:32}),(0,ae.jsx)("p",{className:"text-white/50 text-sm",children:"\u05d0\u05d9\u05df \u05ea\u05d9\u05e7\u05d9\u05dd"}),(0,ae.jsx)("button",{onClick:()=>c("/cases?new=true"),className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"\u05e6\u05d5\u05e8 \u05ea\u05d9\u05e7 \u05d7\u05d3\u05e9"})]}):d.map(e=>{var n,a;const l=p.has(e.id),o=e.id===t,c=f[e.id]||[],d=y.has(e.id);return(0,ae.jsxs)("div",{className:"space-y-0.5",children:[(0,ae.jsxs)("button",{onClick:()=>(async e=>{p.has(e)?b(t=>{const s=new Set(t);return s.delete(e),s}):(b(t=>new Set(t).add(e)),f[e]||M(e),w[e]||G(e))})(e.id),className:"w-full flex items-center gap-2 px-2 py-2 rounded-lg text-sm transition-colors ".concat(o?"bg-blue-500/20 text-blue-200 border border-blue-500/30":"text-white/80 hover:bg-white/5"),children:[d?(0,ae.jsx)(r.A,{size:14,className:"animate-spin text-blue-400"}):l?(0,ae.jsx)(h.A,{size:14,className:"text-white/50"}):(0,ae.jsx)(q.A,{size:14,className:"text-white/50"}),l?(0,ae.jsx)(St.A,{size:14,className:"text-blue-400"}):(0,ae.jsx)(P.A,{size:14,className:"text-blue-400/70"}),(0,ae.jsx)("span",{className:"flex-1 text-right truncate",children:e.name||"\u05ea\u05d9\u05e7 ".concat(e.id.slice(0,8),"...")}),e.files_count>0&&(0,ae.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-green-400",children:[(0,ae.jsx)(C.A,{size:10}),e.files_count]})]}),l&&(0,ae.jsxs)("div",{className:"mr-4 space-y-1 border-r border-white/10 pr-2",children:[(0,ae.jsxs)("div",{className:"space-y-0.5",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between px-2 pt-1",children:[(0,ae.jsx)("p",{className:"text-[10px] text-purple-300/70 font-medium",children:"\u05e9\u05d9\u05d7\u05d5\u05ea"}),(0,ae.jsxs)("button",{onClick:t=>{t.stopPropagation(),X(e.id)},className:"flex items-center gap-1 text-[10px] text-purple-400 hover:text-purple-300 transition-colors",title:"\u05e9\u05d9\u05d7\u05d4 \u05d7\u05d3\u05e9\u05d4",children:[(0,ae.jsx)(L.A,{size:10}),(0,ae.jsx)("span",{children:"\u05d7\u05d3\u05e9"})]})]}),c.length>0?c.map(t=>{const n=t.id===s;return(0,ae.jsxs)("button",{onClick:()=>i(e.id,t.id),className:"w-full flex items-center gap-2 px-2 py-1.5 rounded text-xs transition-colors ".concat(n?"bg-purple-500/20 text-purple-200 border border-purple-500/30":"text-white/70 hover:bg-purple-500/10"),children:[(0,ae.jsx)(zt.A,{size:12,className:"text-purple-400"}),(0,ae.jsx)("span",{className:"flex-1 text-right truncate",children:t.title||"\u05e9\u05d9\u05d7\u05d4"}),(0,ae.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-white/40",children:[t.message_count>0&&(0,ae.jsx)("span",{children:t.message_count}),(0,ae.jsx)(Rt.A,{size:8}),(0,ae.jsx)("span",{children:$(t.updated_at||t.created_at)})]})]},t.id)}):(0,ae.jsx)("p",{className:"text-xs text-white/40 py-1 px-2 text-right",children:"\u05d0\u05d9\u05df \u05e9\u05d9\u05d7\u05d5\u05ea \u05e2\u05d3\u05d9\u05d9\u05df"})]}),((null===(n=w[e.id])||void 0===n?void 0:n.length)>0||_.has(e.id))&&(0,ae.jsxs)("div",{className:"space-y-0.5 pt-1",children:[(0,ae.jsx)("p",{className:"text-[10px] text-green-300/70 font-medium px-2",children:"\u05de\u05e1\u05de\u05db\u05d9\u05dd"}),_.has(e.id)?(0,ae.jsx)("div",{className:"flex items-center justify-center py-1",children:(0,ae.jsx)(r.A,{size:12,className:"animate-spin text-green-400"})}):null===(a=w[e.id])||void 0===a?void 0:a.map(e=>(0,ae.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 rounded text-xs text-white/60 hover:bg-green-500/10 transition-colors",children:[(0,ae.jsx)(C.A,{size:12,className:"text-green-400 flex-shrink-0"}),(0,ae.jsx)("span",{className:"flex-1 text-right truncate",children:e.filename})]},e.id))]})]})]},e.id)})})]})};var It=s(1440),Tt=s(248),Dt=s(763),Lt=s(6721),Pt=s(8211);const Ft=["professional","enterprise","pro","admin"],Ot=[{value:"self",label:"\ud83d\udee1\ufe0f \u05e9\u05dc\u05e0\u05d5"},{value:"opponent",label:"\u2694\ufe0f \u05d4\u05d9\u05e8\u05d9\u05d1"},{value:"court",label:"\u2696\ufe0f \u05d1\u05d9\u05ea \u05de\u05e9\u05e4\u05d8"},{value:"third_party",label:"\ud83d\udc65 \u05e6\u05d3 \u05d2'"}],qt=[{value:"claim",label:"\ud83d\udcdc \u05db\u05ea\u05d1 \u05ea\u05d1\u05d9\u05e2\u05d4"},{value:"defense",label:"\ud83d\udee1\ufe0f \u05db\u05ea\u05d1 \u05d4\u05d2\u05e0\u05d4"},{value:"protocol",label:"\ud83d\udccb \u05e4\u05e8\u05d5\u05d8\u05d5\u05e7\u05d5\u05dc"},{value:"affidavit",label:"\u270d\ufe0f \u05ea\u05e6\u05d4\u05d9\u05e8"},{value:"other",label:"\ud83d\udcc1 \u05d0\u05d7\u05e8"}],Mt=e=>{var t;let{caseId:s,caseName:i,analysisResult:o={},onClose:c}=e;const d=(0,l.Zp)(),u=(0,l.zy)(),[x,h]=(0,a.useState)(!0),[p,b]=(0,a.useState)(!0),[z,R]=(0,a.useState)(!0),[E,I]=(0,a.useState)("v1"),[T,D]=(0,a.useState)(!0),L=(0,Dt.N)({caseId:s,caseName:i,analysisResult:o}),[P,F]=(0,a.useState)([]),O=s?"yitro_last_chat_session_".concat(s):null,[q,M]=(0,a.useState)(()=>{try{if(!s)return null;const e=new URLSearchParams(window.location.search||"").get("session"),t=O?localStorage.getItem(O):null;return e||t||null}catch(e){return null}}),[G,U]=(0,a.useState)(!1),[X,$]=(0,a.useState)([]),[W,J]=(0,a.useState)(!1),V=(0,a.useRef)(null),[Q,Z]=(0,a.useState)([]),[K,H]=(0,a.useState)(s||""),{data:Y}=(0,Lt.S)(),ee=((null===Y||void 0===Y?void 0:Y.tier)||(null===Y||void 0===Y?void 0:Y.subscription_tier)||"free").toLowerCase(),te="admin"===(null===Y||void 0===Y?void 0:Y.role),se=Ft.includes(ee)||te,ne="enterprise"===ee||te;(0,a.useEffect)(()=>{const e=()=>{window.innerWidth<768?(h(!1),b(!1),R(!1)):window.innerWidth<1200&&(b(!1),R(!0))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{var e;null!==u&&void 0!==u&&null!==(e=u.state)&&void 0!==e&&e.queuedAction&&d("".concat(u.pathname).concat(u.search||""),{replace:!0,state:{}})},[null===u||void 0===u||null===(t=u.state)||void 0===t?void 0:t.queuedAction]),(0,a.useEffect)(()=>{s&&(async()=>{try{const e=await(0,B.apiGet)("/api/cases/".concat(s,"/pinned"),{showErrorToast:!1});F(e.items||[])}catch(e){console.error("Failed to load pinned items:",e)}})()},[s]);const le=(0,a.useCallback)(async e=>{if(!se&&P.length>=10)return{success:!1,reason:"limit"};try{const t=await(0,B.$P)("/api/cases/".concat(s,"/pinned"),e);return F(e=>[t,...e]),{success:!0}}catch(t){console.error("Failed to pin item:",t)}return{success:!1}},[s,se,P.length]),ie=((0,a.useCallback)(async e=>{try{return await(0,B.Al)("/api/cases/".concat(s,"/pinned/").concat(e)),F(t=>t.filter(t=>t.id!==e)),!0}catch(t){console.error("Failed to unpin item:",t)}return!1},[s]),(0,a.useCallback)(e=>{M(e);try{if(O&&e&&localStorage.setItem(O,String(e)),s&&e){const t=new URLSearchParams(u.search||"");t.set("session",String(e)),d("/cases/".concat(s,"/chat?").concat(t.toString()),{replace:!0})}}catch(t){}},[s,O,u.search,d]));(0,a.useEffect)(()=>{if(!s)return;const e=new URLSearchParams(u.search||"").get("session"),t=O?localStorage.getItem(O):null,n=e||t||null;n!==q&&M(n)},[s,q,O,u.search]);const re=(0,a.useRef)(null),[oe,ce]=(0,a.useState)(!1),de=(0,a.useCallback)(e=>{var t;null!==(t=re.current)&&void 0!==t&&t.scrollToMessage&&re.current.scrollToMessage(e)},[]),ue=(0,a.useCallback)(async()=>{var e;if(null!==(e=re.current)&&void 0!==e&&e.getMessages){const e=re.current.getMessages();if(0===e.length)return void g.oR.error("\u05d0\u05d9\u05df \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05dc\u05d4\u05e2\u05ea\u05e7\u05d4");const t=e.map(e=>"".concat("user"===e.role?"\ud83d\udc64 \u05d0\u05e0\u05d9":"\ud83e\udd16 \u05d9\u05ea\u05e8\u05d5",":\n").concat(e.content)).join("\n\n---\n\n");await navigator.clipboard.writeText(t),ce(!0),g.oR.success("\u05d4\u05e9\u05d9\u05d7\u05d4 \u05d4\u05d5\u05e2\u05ea\u05e7\u05d4!"),setTimeout(()=>ce(!1),2e3)}},[]),me=(0,a.useCallback)(()=>{var e;if(null!==(e=re.current)&&void 0!==e&&e.getMessages){const e=re.current.getMessages();if(0===e.length)return void g.oR.error("\u05d0\u05d9\u05df \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea \u05dc\u05d4\u05d5\u05e8\u05d3\u05d4");const t="\u05e9\u05d9\u05d7\u05d4 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5 - ".concat(i||"\u05ea\u05d9\u05e7"),s=(new Date).toLocaleDateString("he-IL"),n=e.map(e=>{const t="user"===e.role?"\u05d0\u05e0\u05d9":"\u05d9\u05ea\u05e8\u05d5",s=String(e.content||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");return"<h2>".concat(t,'</h2><div style="margin-bottom:14px; line-height:1.5;">').concat(s,"</div>")}).join("\n"),a='<!doctype html><html><head><meta charset="utf-8"/></head><body dir="rtl"><h1>'.concat(t,"</h1><p>\u05ea\u05d0\u05e8\u05d9\u05da: ").concat(s,"</p>").concat(n,"</body></html>"),l=new Blob([a],{type:"application/msword"}),r=URL.createObjectURL(l),o=document.createElement("a");o.href=r,o.download="\u05e9\u05d9\u05d7\u05d4-".concat(i||"\u05ea\u05d9\u05e7","-").concat((new Date).toISOString().split("T")[0],".doc"),o.click(),URL.revokeObjectURL(r),g.oR.success("\u05d4\u05e9\u05d9\u05d7\u05d4 \u05d4\u05d5\u05e8\u05d3\u05d4!")}},[i]),xe=(0,a.useCallback)(()=>{U(!0)},[]),he=new Set(["claims","contradictions","disputes","red_flags","timeline","insights"]),pe=(0,a.useCallback)(async e=>{if(!s)return void g.oR.error("\u05d1\u05d7\u05e8 \u05ea\u05d9\u05e7 \u05db\u05d3\u05d9 \u05dc\u05d4\u05e4\u05e2\u05d9\u05dc \u05d9\u05db\u05d5\u05dc\u05d5\u05ea");if(I("v3"),he.has(e)){try{var t;await(0,B.$P)("/api/cases/".concat(encodeURIComponent(s),"/analyze-on-demand"),{analysis_type:e,options:{force_refresh:!1}});const n=(null===(t=L.capabilities.find(t=>t.id===e))||void 0===t?void 0:t.name_he)||e;g.oR.success("\u05d4\u05e4\u05e2\u05dc\u05ea\u05d9: ".concat(n))}catch(a){g.oR.error((null===a||void 0===a?void 0:a.message)||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e4\u05e2\u05dc\u05ea \u05e0\u05d9\u05ea\u05d5\u05d7")}return}const n=L.capabilities.find(t=>t.id===e);if(n){const t={strategy:"\u05d1\u05e0\u05d4 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05de\u05e9\u05e4\u05d8\u05d9\u05ea \u05de\u05e7\u05d9\u05e4\u05d4 \u05dc\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05e6\u05d9\u05e8\u05d9 \u05d4\u05ea\u05e7\u05e4\u05d4, \u05e6\u05d9\u05e8\u05d9 \u05d4\u05d2\u05e0\u05d4, \u05d7\u05d5\u05dc\u05e9\u05d5\u05ea \u05d4\u05d9\u05e8\u05d9\u05d1, \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e9\u05d1\u05d9\u05e8\u05d4, \u05ea\u05d6\u05de\u05d5\u05df \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9, \u05d5\u05ea\u05d5\u05db\u05e0\u05d9\u05d5\u05ea \u05d7\u05dc\u05d5\u05e4\u05d9\u05d5\u05ea.",game_theory:"\u05e2\u05e8\u05d5\u05da \u05e0\u05d9\u05ea\u05d5\u05d7 \u05ea\u05d5\u05e8\u05ea \u05d4\u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05dc\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05de\u05d8\u05e8\u05d9\u05e6\u05ea \u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd, \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e9\u05d9\u05d5\u05d5\u05d9 \u05de\u05e9\u05e7\u05dc \u05e0\u05d0\u05e9, \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea \u05d0\u05d5\u05e4\u05d8\u05d9\u05de\u05dc\u05d9\u05d5\u05ea, \u05d8\u05d5\u05d5\u05d7\u05d9 \u05de\u05e9\u05d0 \u05d5\u05de\u05ea\u05df, \u05d5\u05ea\u05e8\u05d7\u05d9\u05e9\u05d9\u05dd.",risk_assessment:"\u05d1\u05e6\u05e2 \u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05df \u05de\u05e7\u05d9\u05e4\u05d4. \u05db\u05dc\u05d5\u05dc: \u05e6\u05d9\u05d5\u05df \u05e1\u05d9\u05db\u05d5\u05df \u05db\u05dc\u05dc\u05d9, \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05e7\u05e8\u05d9\u05d8\u05d9\u05d9\u05dd \u05e2\u05dd \u05e1\u05d1\u05d9\u05e8\u05d5\u05ea \u05d5\u05d4\u05e9\u05e4\u05e2\u05d4, \u05e1\u05d9\u05de\u05e0\u05d9 \u05d0\u05d6\u05d4\u05e8\u05d4, \u05d5\u05ea\u05d5\u05db\u05e0\u05d9\u05ea \u05de\u05d9\u05d8\u05d9\u05d2\u05e6\u05d9\u05d4.",strategy_memo:"\u05db\u05ea\u05d5\u05d1 \u05ea\u05d6\u05db\u05d9\u05e8 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9 \u05de\u05e1\u05db\u05dd \u05dc\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05e8\u05e7\u05e2, \u05e2\u05d5\u05d1\u05d3\u05d5\u05ea \u05de\u05e4\u05ea\u05d7, \u05e1\u05d5\u05d2\u05d9\u05d5\u05ea \u05de\u05e9\u05e4\u05d8\u05d9\u05d5\u05ea, \u05e0\u05d9\u05ea\u05d5\u05d7, \u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05d5\u05dc\u05d5\u05d7 \u05d6\u05de\u05e0\u05d9\u05dd.",summary:"\u05e6\u05d5\u05e8 \u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05de\u05e7\u05d9\u05e3 \u05dc\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05de\u05d4\u05d5\u05ea \u05d4\u05e1\u05db\u05e1\u05d5\u05da, \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05de\u05e4\u05ea\u05d7, \u05d7\u05d5\u05d6\u05e7\u05d5\u05ea/\u05d7\u05d5\u05dc\u05e9\u05d5\u05ea, \u05d5\u05e6\u05e2\u05d3\u05d9\u05dd \u05de\u05d9\u05d9\u05d3\u05d9\u05d9\u05dd.",entities:"\u05d6\u05d4\u05d4 \u05d5\u05e8\u05e9\u05d5\u05dd \u05d0\u05ea \u05db\u05dc \u05d4\u05d9\u05e9\u05d5\u05d9\u05d5\u05ea \u05d1\u05ea\u05d9\u05e7: \u05d0\u05e0\u05e9\u05d9\u05dd, \u05d7\u05d1\u05e8\u05d5\u05ea, \u05de\u05e1\u05de\u05db\u05d9\u05dd, \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd, \u05e1\u05db\u05d5\u05de\u05d9\u05dd, \u05d5\u05de\u05e7\u05d5\u05de\u05d5\u05ea. \u05e6\u05d9\u05d9\u05df \u05e7\u05e9\u05e8\u05d9\u05dd \u05d1\u05d9\u05e0\u05d9\u05d4\u05dd.",precedents:"\u05d7\u05e4\u05e9 \u05d5\u05e6\u05d9\u05d9\u05df \u05ea\u05e7\u05d3\u05d9\u05de\u05d9\u05dd \u05de\u05e9\u05e4\u05d8\u05d9\u05d9\u05dd \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05d9\u05dd \u05dc\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05e9\u05dd \u05e4\u05e1\u05e7 \u05d4\u05d3\u05d9\u05df, \u05d4\u05e2\u05d9\u05e7\u05e8\u05d5\u05df \u05d4\u05de\u05e9\u05e4\u05d8\u05d9, \u05d5\u05db\u05d9\u05e6\u05d3 \u05d4\u05d5\u05d0 \u05d9\u05e9\u05d9\u05dd \u05dc\u05ea\u05d9\u05e7.",legal_knowledge:"\u05d7\u05e4\u05e9 \u05d1\u05de\u05d0\u05d2\u05e8 \u05d4\u05d9\u05d3\u05e2 \u05d4\u05de\u05e9\u05e4\u05d8\u05d9 \u05de\u05d9\u05d3\u05e2 \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9 \u05dc\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05d7\u05d5\u05e7\u05d9\u05dd, \u05ea\u05e7\u05e0\u05d5\u05ea, \u05d4\u05e0\u05d7\u05d9\u05d5\u05ea, \u05d5\u05e4\u05e1\u05d9\u05e7\u05d4 \u05e8\u05dc\u05d5\u05d5\u05e0\u05d8\u05d9\u05ea.",judge_analytics:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05e9\u05d5\u05e4\u05d8 \u05d4\u05de\u05d8\u05e4\u05dc \u05d1\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05e0\u05d8\u05d9\u05d5\u05ea \u05e9\u05d9\u05e4\u05d5\u05d8, \u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05e7\u05d5\u05ea \u05d4\u05d7\u05dc\u05d8\u05d5\u05ea, \u05d4\u05e2\u05d3\u05e4\u05d5\u05ea \u05e1\u05d2\u05e0\u05d5\u05df, \u05d5\u05d3\u05d2\u05e9\u05d9\u05dd \u05dc\u05e0\u05d9\u05d4\u05d5\u05dc \u05d4\u05ea\u05d9\u05e7.",counsel_analytics:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05e2\u05d5\u05e8\u05da \u05d4\u05d3\u05d9\u05df \u05e9\u05dc \u05d4\u05e6\u05d3 \u05d4\u05e9\u05e0\u05d9. \u05db\u05dc\u05d5\u05dc: \u05e1\u05d2\u05e0\u05d5\u05df \u05e0\u05d9\u05d4\u05d5\u05dc \u05ea\u05d9\u05e7\u05d9\u05dd, \u05d7\u05d5\u05d6\u05e7\u05d5\u05ea \u05d5\u05d7\u05d5\u05dc\u05e9\u05d5\u05ea, \u05ea\u05e7\u05d3\u05d9\u05de\u05d9\u05dd, \u05d5\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea \u05de\u05d5\u05de\u05dc\u05e6\u05d5\u05ea \u05e0\u05d2\u05d3\u05d5.",evidence_strength:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d7\u05d5\u05d6\u05e7 \u05d4\u05e8\u05d0\u05d9\u05d5\u05ea \u05d1\u05ea\u05d9\u05e7. \u05db\u05dc\u05d5\u05dc: \u05e8\u05d0\u05d9\u05d5\u05ea \u05d7\u05d6\u05e7\u05d5\u05ea, \u05e8\u05d0\u05d9\u05d5\u05ea \u05d7\u05dc\u05e9\u05d5\u05ea, \u05e4\u05e2\u05e8\u05d9\u05dd \u05e8\u05d0\u05d9\u05d9\u05ea\u05d9\u05d9\u05dd, \u05d5\u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05dc\u05d7\u05d9\u05d6\u05d5\u05e7.",adversarial:"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d9\u05e8\u05d9\u05d1\u05d5\u05ea\u05d9 - \u05e9\u05d7\u05e7 \u05d0\u05ea \u05d4\u05e6\u05d3 \u05d4\u05e9\u05e0\u05d9 \u05d5\u05ea\u05e7\u05d5\u05e3 \u05d0\u05ea \u05d4\u05d8\u05e2\u05e0\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5. \u05de\u05d4\u05df \u05d4\u05d7\u05d5\u05dc\u05e9\u05d5\u05ea \u05e9\u05d4\u05d9\u05e8\u05d9\u05d1 \u05d9\u05e0\u05e6\u05dc?",narrative:"\u05d1\u05e0\u05d4 \u05d0\u05ea \u05d4\u05e0\u05e8\u05d8\u05d9\u05d1 \u05d4\u05de\u05e9\u05e4\u05d8\u05d9 \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7. \u05de\u05d4\u05d9 \u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05e9\u05e0\u05e1\u05e4\u05e8 \u05dc\u05d1\u05d9\u05ea \u05d4\u05de\u05e9\u05e4\u05d8? \u05de\u05d4\u05dd \u05d4\u05e8\u05d2\u05e2\u05d9\u05dd \u05d4\u05de\u05db\u05e8\u05d9\u05e2\u05d9\u05dd?",gap_analysis:"\u05d6\u05d4\u05d4 \u05e4\u05e2\u05e8\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7: \u05de\u05d9\u05d3\u05e2 \u05d7\u05e1\u05e8, \u05e8\u05d0\u05d9\u05d5\u05ea \u05e9\u05e6\u05e8\u05d9\u05da \u05dc\u05d4\u05e9\u05d9\u05d2, \u05e2\u05d3\u05d9\u05dd \u05e9\u05e6\u05e8\u05d9\u05da \u05dc\u05d7\u05e7\u05d5\u05e8, \u05d5\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05e9\u05e6\u05e8\u05d9\u05da \u05dc\u05d1\u05e7\u05e9.",forensics:"\u05d1\u05e6\u05e2 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 \u05e9\u05dc \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd. \u05d7\u05e4\u05e9 \u05d0\u05d9-\u05d4\u05ea\u05d0\u05de\u05d5\u05ea, \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd, \u05d5\u05d1\u05e2\u05d9\u05d5\u05ea \u05d0\u05de\u05d9\u05e0\u05d5\u05ea.",rhetoric_forensics:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05e8\u05d8\u05d5\u05e8\u05d9\u05e7\u05d4 \u05d1\u05de\u05e1\u05de\u05db\u05d9\u05dd. \u05d6\u05d4\u05d4 \u05e9\u05e4\u05d4 \u05de\u05e0\u05d9\u05e4\u05d5\u05dc\u05d8\u05d9\u05d1\u05d9\u05ea, \u05e0\u05d9\u05e1\u05d5\u05d7\u05d9\u05dd \u05de\u05d8\u05e2\u05d9\u05dd, \u05d5\u05d1\u05e2\u05d9\u05d5\u05ea \u05d4\u05d2\u05e0\u05ea\u05d9\u05d5\u05ea.",contract_forensics:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05d7\u05d5\u05d6\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7. \u05d6\u05d4\u05d4 \u05e1\u05e2\u05d9\u05e4\u05d9\u05dd \u05d1\u05e2\u05d9\u05d9\u05ea\u05d9\u05d9\u05dd, \u05e4\u05e8\u05e6\u05d5\u05ea, \u05d5\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05dc\u05de\u05e9\u05d0 \u05d5\u05de\u05ea\u05df.",witness_credibility:"\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d0\u05de\u05d9\u05e0\u05d5\u05ea \u05d4\u05e2\u05d3\u05d9\u05dd. \u05d6\u05d4\u05d4 \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea \u05d1\u05e2\u05d3\u05d5\u05d9\u05d5\u05ea, \u05d1\u05e2\u05d9\u05d5\u05ea \u05d0\u05de\u05d9\u05e0\u05d5\u05ea, \u05d5\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05dc\u05d7\u05e7\u05d9\u05e8\u05d4 \u05e0\u05d2\u05d3\u05d9\u05ea."}[e]||"\u05e2\u05d6\u05d5\u05e8 \u05dc\u05d9 \u05e2\u05dd: ".concat(n.name_he,"\n\n\u05ea\u05df \u05ea\u05e9\u05d5\u05d1\u05d4 \u05de\u05e2\u05e9\u05d9\u05ea \u05e2\u05dd \u05d4\u05e4\u05e0\u05d9\u05d5\u05ea \u05dc\u05de\u05e1\u05de\u05db\u05d9\u05dd/\u05e2\u05de\u05d5\u05d3\u05d9\u05dd \u05db\u05e9\u05d0\u05e4\u05e9\u05e8.");window.dispatchEvent(new CustomEvent("chat-send",{detail:{prompt:t,displayText:n.name_he}}))}},[s,L.capabilities]),be=(0,a.useCallback)(e=>{console.log("Source clicked:",e)},[]),ge=(0,a.useCallback)(e=>{console.log("Evidence clicked:",e)},[]);(0,a.useEffect)(()=>{let e=!0;return async function(){if(G)if(s)H(s);else try{const t=await(0,B.apiGet)("/api/cases",{showErrorToast:!1}),s=(null===t||void 0===t?void 0:t.cases)||[];if(!e)return;Z(s),!K&&s.length>0&&H(s[0].id)}catch(t){console.error("Failed to load cases:",t)}}(),()=>{e=!1}},[G,s]);const fe=(0,a.useCallback)(e=>{const t=Array.from(e.target.files||[]),s=[".pdf",".png",".jpg",".jpeg",".tiff",".doc",".docx",".txt"],n=t.filter(e=>{const t="."+e.name.split(".").pop().toLowerCase();return s.includes(t)?!(e.size>52428800)||(g.oR.error("\u05e7\u05d5\u05d1\u05e5 \u05d2\u05d3\u05d5\u05dc \u05de\u05d3\u05d9: ".concat(e.name," (\u05de\u05e7\u05e1 50MB)")),!1):(g.oR.error("\u05e1\u05d5\u05d2 \u05e7\u05d5\u05d1\u05e5 \u05dc\u05d0 \u05e0\u05ea\u05de\u05da: ".concat(e.name)),!1)});$(e=>{const t=e.map(e=>e.name),s=n.filter(e=>!t.includes(e.name));return[...e,...s.map(e=>({file:e,name:e.name,size:(e.size/1024/1024).toFixed(2)+" MB",source:"self",documentType:"other",opponentLawyerName:""}))]}),V.current&&(V.current.value="")},[]),ve=(0,a.useCallback)(async()=>{const e=s||K;if(0===X.length)return;if(!e)return void g.oR.error("\u05d1\u05d7\u05e8 \u05ea\u05d9\u05e7 \u05d9\u05e2\u05d3 \u05dc\u05d4\u05e2\u05dc\u05d0\u05d4");if(X.some(e=>"opponent"===e.source&&(!e.opponentLawyerName||!String(e.opponentLawyerName).trim())))g.oR.error('\u05d7\u05d5\u05d1\u05d4 \u05dc\u05d4\u05d6\u05d9\u05df \u05e9\u05dd \u05e2\u05d5"\u05d3 \u05e2\u05d1\u05d5\u05e8 \u05de\u05e1\u05de\u05db\u05d9 \u05d9\u05e8\u05d9\u05d1');else{J(!0);try{var t;const s="case-".concat(e);(0,Pt.Pr)({id:s,type:"case",name:i||(null===(t=Q.find(t=>t.id===e))||void 0===t?void 0:t.name)||"\u05ea\u05d9\u05e7",totalFiles:X.length,documents:X.map(e=>({filename:e.name,status:"pending",canRetry:!0}))});const a=new FormData;a.append("reanalyze_mode","skip"),q&&a.append("chat_session_id",q);const l=X.map(e=>e.documentType||"other"),r=X.map(e=>e.source||"self"),o=X.map(e=>"opponent"===e.source&&e.opponentLawyerName||"");a.append("document_types",JSON.stringify(l)),a.append("file_sources",JSON.stringify(r)),a.append("opponent_lawyer_names",JSON.stringify(o)),X.forEach(e=>{a.append("files",e.file)}),await(0,B.yX)("/api/cases/".concat(encodeURIComponent(e),"/files"),a,{showErrorToast:!0,timeoutMs:6e5}),g.oR.success("".concat(1===X.length?"\u05d4\u05e7\u05d5\u05d1\u05e5 \u05d4\u05d5\u05e2\u05dc\u05d4":"".concat(X.length," \u05e7\u05d1\u05e6\u05d9\u05dd \u05d4\u05d5\u05e2\u05dc\u05d5")," \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"));try{window.dispatchEvent(new CustomEvent("chat-refresh",{detail:{caseId:e,sessionId:q}}))}catch(n){}U(!1),$([])}catch(a){console.error("Upload failed:",a),g.oR.error(a.message||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05e2\u05dc\u05d0\u05ea \u05d4\u05e7\u05d1\u05e6\u05d9\u05dd")}finally{J(!1)}}},[X,s,K,i,Q,q]),we=(0,a.useCallback)(e=>{$(t=>t.filter(t=>t.name!==e))},[]);return(0,ae.jsxs)("div",{className:"h-screen flex flex-col bg-gradient-to-br from-slate-900 via-blue-900/50 to-slate-900",dir:"rtl",children:[(0,ae.jsxs)("header",{className:"h-14 border-b border-white/10 bg-slate-900/80 backdrop-blur-sm flex items-center justify-between px-4",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)("h1",{className:"text-white font-bold text-lg",children:"\u05d9\u05ea\u05e8\u05d5"}),(0,ae.jsx)("span",{className:"text-white/40",children:"|"}),(0,ae.jsx)("span",{className:"text-white/80 text-sm truncate max-w-[200px]",children:i||"\u05ea\u05d9\u05e7 \u05dc\u05dc\u05d0 \u05e9\u05dd"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("button",{onClick:()=>b(!p),className:"p-2 rounded-lg transition-colors ".concat(p?"bg-blue-600/30 text-blue-300":"text-white/50 hover:text-white hover:bg-white/10"),title:p?"\u05d4\u05e1\u05ea\u05e8 \u05ea\u05d9\u05e7\u05d9\u05dd \u05d5\u05e9\u05d9\u05d7\u05d5\u05ea":"\u05d4\u05e6\u05d2 \u05ea\u05d9\u05e7\u05d9\u05dd \u05d5\u05e9\u05d9\u05d7\u05d5\u05ea",children:p?(0,ae.jsx)(f.A,{size:18}):(0,ae.jsx)(v.A,{size:18})}),(0,ae.jsx)("button",{onClick:()=>h(!x),className:"p-2 rounded-lg transition-colors ".concat(x?"bg-purple-600/30 text-purple-300":"text-white/50 hover:text-white hover:bg-white/10"),title:x?"\u05d4\u05e1\u05ea\u05e8 \u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05e7\u05d5\u05ea":"\u05d4\u05e6\u05d2 \u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05e7\u05d5\u05ea",children:x?(0,ae.jsx)(w.A,{size:18}):(0,ae.jsx)(j.A,{size:18})}),x&&(0,ae.jsx)("div",{className:"flex items-center gap-1 mr-2",children:["v1","v2","v3"].map(e=>(0,ae.jsx)("button",{onClick:()=>I(e),className:"px-2 py-1 text-xs rounded transition-colors ".concat(E===e?"bg-blue-600/50 text-blue-200 font-medium":"text-white/40 hover:text-white/70 hover:bg-white/10"),title:"v1"===e?"\u05de\u05d1\u05d8 \u05de\u05d4\u05d9\u05e8":"v2"===e?"\u05e1\u05d1\u05d9\u05d1\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05e2\u05de\u05d9\u05e7",children:e.toUpperCase()},e))}),(0,ae.jsx)("div",{className:"w-px h-6 bg-white/10 mx-2"}),(0,ae.jsx)("button",{onClick:ue,className:"p-2 rounded-lg text-white/50 hover:text-white hover:bg-white/10 transition-colors",title:"\u05d4\u05e2\u05ea\u05e7 \u05e9\u05d9\u05d7\u05d4",children:oe?(0,ae.jsx)(y.A,{size:18,className:"text-green-400"}):(0,ae.jsx)(N.A,{size:18})}),(0,ae.jsx)("button",{onClick:me,className:"p-2 rounded-lg text-white/50 hover:text-white hover:bg-white/10 transition-colors",title:"\u05d4\u05d5\u05e8\u05d3 \u05e9\u05d9\u05d7\u05d4",children:(0,ae.jsx)(m.A,{size:18})}),(0,ae.jsx)("button",{className:"p-2 rounded-lg text-white/50 hover:text-white hover:bg-white/10 transition-colors",title:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",children:(0,ae.jsx)(_.A,{size:18})}),c&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"w-px h-6 bg-white/10 mx-2"}),(0,ae.jsx)("button",{onClick:c,className:"p-2 rounded-lg text-white/50 hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"\u05e1\u05d2\u05d5\u05e8 \u05e6'\u05d0\u05d8",children:(0,ae.jsx)(A.A,{size:18})})]})]})]}),(0,ae.jsxs)("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[(0,ae.jsx)("div",{className:"border-l border-white/10 bg-slate-900/50 flex-shrink-0 overflow-hidden transition-all duration-300 ease-in-out ".concat(p?"w-72 opacity-100":"w-0 opacity-0"),children:p&&(0,ae.jsx)(Et,{currentCaseId:s,currentSessionId:q,onSessionSelect:(e,t)=>{ie(t),e!==s&&d("/cases/".concat(e,"/chat?session=").concat(t))},onScrollToMessage:de})}),(0,ae.jsx)("div",{className:"flex-1 min-w-0 min-h-0 flex flex-col overflow-hidden",children:(0,ae.jsx)(Nt,{ref:re,caseId:s,caseName:i,analysisResult:o,sessionId:q,onSessionChange:ie,onPinItem:le,onAddDocuments:xe,userTier:ee,isPremium:se,isEnterprise:ne,initialQueuedAction:null!==u&&void 0!==u&&u.state&&u.state.queuedAction?u.state.queuedAction:null,initialQueuedActionPayload:null!==u&&void 0!==u&&u.state&&u.state.queuedActionPayload?u.state.queuedActionPayload:null})}),z&&(0,ae.jsx)(Tt.A,{capabilities:L.capabilities,sources:L.sources,activeArtifacts:[],nextActions:L.nextActions||[],onCapabilityClick:pe,onSourceClick:be,onArtifactClick:e=>console.log("Artifact:",e)}),(0,ae.jsx)("div",{className:"border-r border-white/10 bg-slate-900/50 flex-shrink-0 overflow-hidden transition-all duration-300 ease-in-out ".concat(x?"w-80 opacity-100":"w-0 opacity-0"),children:x&&(0,ae.jsx)(It.A,{currentLayer:E,layerStatuses:L.layerStatuses,v1Data:L.v1Data,v2Data:L.v2Data,v3Data:L.v3Data,onLayerChange:I,onEvidenceClick:ge,onClaimClick:e=>console.log("Claim clicked:",e),onActorClick:e=>console.log("Actor clicked:",e),onCapabilityClick:pe})})]}),G&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ae.jsxs)("div",{className:"bg-slate-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[80vh] overflow-hidden",children:[(0,ae.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(k.A,{size:20}),(0,ae.jsx)("h3",{className:"font-bold",children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e1\u05de\u05db\u05d9\u05dd \u05dc\u05ea\u05d9\u05e7"})]}),(0,ae.jsx)("button",{onClick:()=>{U(!1),$([])},className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:(0,ae.jsx)(A.A,{size:20})})]}),(0,ae.jsxs)("div",{className:"p-4 space-y-4",children:[!s&&(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsx)("label",{className:"block text-white/70 text-sm",children:"\u05d1\u05d7\u05e8 \u05ea\u05d9\u05e7 \u05d9\u05e2\u05d3"}),(0,ae.jsx)("button",{onClick:()=>d("/cases?new=true"),className:"text-xs text-cyan-300 hover:text-cyan-200 underline",title:"\u05e6\u05d5\u05e8 \u05ea\u05d9\u05e7 \u05d7\u05d3\u05e9",children:"\u05e6\u05d5\u05e8 \u05ea\u05d9\u05e7 \u05d7\u05d3\u05e9"})]}),(0,ae.jsxs)("select",{value:K,onChange:e=>H(e.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-sm",children:[(0,ae.jsx)("option",{value:"",disabled:!0,children:"\u05d1\u05d7\u05e8 \u05ea\u05d9\u05e7\u2026"}),Q.map(e=>(0,ae.jsx)("option",{value:e.id,children:e.name||e.case_name||e.id},e.id))]})]}),(0,ae.jsxs)("div",{className:"border-2 border-dashed border-blue-400/50 rounded-xl p-6 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-500/10 transition-all",onClick:()=>{var e;return null===(e=V.current)||void 0===e?void 0:e.click()},children:[(0,ae.jsx)("input",{ref:V,type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.tiff,.doc,.docx,.txt",onChange:fe,className:"hidden"}),(0,ae.jsx)(k.A,{size:32,className:"mx-auto text-blue-400 mb-2"}),(0,ae.jsx)("p",{className:"text-white/70",children:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05ea \u05e7\u05d1\u05e6\u05d9\u05dd \u05d0\u05d5 \u05d2\u05e8\u05d5\u05e8 \u05dc\u05db\u05d0\u05df"}),(0,ae.jsx)("p",{className:"text-white/40 text-sm mt-1",children:"PDF, Word, \u05ea\u05de\u05d5\u05e0\u05d5\u05ea (\u05e2\u05d3 50MB)"})]}),X.length>0&&(0,ae.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(0,ae.jsxs)("p",{className:"text-white/60 text-sm",children:["\u05e7\u05d1\u05e6\u05d9\u05dd \u05e0\u05d1\u05d7\u05e8\u05d9\u05dd (",X.length,"):"]}),X.map(e=>(0,ae.jsx)("div",{className:"bg-slate-700/50 rounded-lg p-2 text-sm border border-white/5",children:(0,ae.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ae.jsx)(C.A,{size:16,className:"text-blue-400 flex-shrink-0 mt-0.5"}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,ae.jsx)("span",{className:"text-white/80 truncate",children:e.name}),(0,ae.jsx)("span",{className:"text-white/40 flex-shrink-0",children:e.size})]}),(0,ae.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,ae.jsx)("select",{value:e.source||"self",onChange:t=>{const s=t.target.value;$(t=>t.map(t=>t.name===e.name?(0,n.A)((0,n.A)({},t),{},{source:s}):t))},className:"px-2 py-1 bg-slate-800 border border-white/10 rounded text-white/80 text-xs",title:"\u05dc\u05de\u05d9 \u05e9\u05d9\u05d9\u05da \u05d4\u05de\u05e1\u05de\u05da",children:Ot.map(e=>(0,ae.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ae.jsx)("select",{value:e.documentType||"other",onChange:t=>{const s=t.target.value;$(t=>t.map(t=>t.name===e.name?(0,n.A)((0,n.A)({},t),{},{documentType:s}):t))},className:"px-2 py-1 bg-slate-800 border border-white/10 rounded text-white/80 text-xs",title:"\u05e1\u05d5\u05d2 \u05de\u05e1\u05de\u05da",children:qt.map(e=>(0,ae.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"opponent"===e.source&&(0,ae.jsx)("div",{className:"mt-2",children:(0,ae.jsx)("input",{value:e.opponentLawyerName||"",onChange:t=>{const s=t.target.value;$(t=>t.map(t=>t.name===e.name?(0,n.A)((0,n.A)({},t),{},{opponentLawyerName:s}):t))},placeholder:'\u05e9\u05dd \u05e2\u05d5"\u05d3 \u05d4\u05d9\u05e8\u05d9\u05d1 (\u05d7\u05d5\u05d1\u05d4)',className:"w-full px-2 py-1 bg-slate-800 border border-red-500/30 rounded text-white/80 text-xs placeholder-white/30"})})]}),(0,ae.jsx)("button",{onClick:()=>we(e.name),className:"p-1 text-white/40 hover:text-red-400 transition-colors flex-shrink-0",title:"\u05d4\u05e1\u05e8",children:(0,ae.jsx)(S.A,{size:14})})]})},e.name))]}),(0,ae.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,ae.jsx)("button",{onClick:()=>{U(!1),$([])},className:"flex-1 px-4 py-2 rounded-lg border border-white/20 text-white/70 hover:bg-white/10 transition-colors",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,ae.jsx)("button",{onClick:ve,disabled:0===X.length||W,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium hover:from-blue-500 hover:to-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:W?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(r.A,{size:16,className:"animate-spin"}),"\u05de\u05e2\u05dc\u05d4..."]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(k.A,{size:16}),"\u05d4\u05e2\u05dc\u05d4 ",X.length>0?"(".concat(X.length,")"):""]})})]}),(0,ae.jsx)("p",{className:"text-white/40 text-xs text-center",children:"\u05d4\u05e7\u05d1\u05e6\u05d9\u05dd \u05d9\u05d5\u05e2\u05dc\u05d5 \u05dc\u05ea\u05d9\u05e7 \u05d5\u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d9\u05ea\u05d7\u05d9\u05dc. \u05ea\u05d5\u05db\u05dc \u05dc\u05d4\u05de\u05e9\u05d9\u05da \u05dc\u05e9\u05d5\u05d7\u05d7 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5 \u05d1\u05d6\u05de\u05df \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7."})]})]})})]})};d.A,ct.A,Y.A,Y.A,Rt.A,ht.A,ht.A,o.A,Rt.A,ne.A,ht.A;var Gt=s(3658),Ut=s(9463);const Xt=["contradictions","claims","entities","insights","roadmap","strategies","intelligence","files"],Bt={cases:"\u05ea\u05d9\u05e7\u05d9\u05dd",learning:"\u05dc\u05de\u05d9\u05d3\u05d4",tokens:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d8\u05d5\u05e7\u05e0\u05d9\u05dd",settings:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",support:"\u05ea\u05de\u05d9\u05db\u05d4",legal:"\u05de\u05e9\u05e4\u05d8\u05d9",profile:"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",admin:"\u05e0\u05d9\u05d4\u05d5\u05dc",contradictions:"\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea",claims:"\u05d8\u05e2\u05e0\u05d5\u05ea",entities:"\u05d9\u05e9\u05d5\u05d9\u05d5\u05ea",insights:"\u05ea\u05d5\u05d1\u05e0\u05d5\u05ea",roadmap:"\u05de\u05e4\u05ea \u05d3\u05e8\u05db\u05d9\u05dd",strategies:"\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea",intelligence:"Intelligence",files:"\u05e7\u05d1\u05e6\u05d9\u05dd"},$t=e=>{let{caseName:t}=e;const s=(0,l.zy)().pathname.split("/").filter(Boolean),n=(e,t)=>"cases"!==s[t-1]||!s[t+1]||!(e=>Xt.includes(e))(s[t+1]);return 0===s.length?null:(0,ae.jsxs)("nav",{className:"flex items-center gap-2 text-sm mb-4",dir:"rtl",children:[(0,ae.jsxs)(i.N_,{to:"/",className:"flex items-center gap-1 text-blue-300 hover:text-white transition-colors",children:[(0,ae.jsx)(Gt.A,{size:16}),(0,ae.jsx)("span",{children:"\u05d3\u05e9\u05d1\u05d5\u05e8\u05d3"})]}),s.map((e,l)=>{if(!n(0,l))return null;const r=l===s.length-1,o=(e=>"/"+s.slice(0,e+1).join("/"))(l),c=((e,n)=>Bt[e]?Bt[e]:"cases"===s[n-1]&&t?t:e)(e,l);return(0,ae.jsxs)(a.Fragment,{children:[(0,ae.jsx)(Ut.A,{size:16,className:"text-white/30"}),r?(0,ae.jsx)("span",{className:"text-white font-semibold",children:c}):(0,ae.jsx)(i.N_,{to:o,className:"text-blue-300 hover:text-white transition-colors",children:c})]},l)})]})};s(5562),s(331);ht.A,H.A,Rt.A,R.A;s(9575),s(426);var Wt=s(5469);ht.A,ht.A,H.A,R.A,Rt.A,Y.A,d.A,Wt.A;var Jt=s(2911),Vt=s(1751);ht.A,Jt.A,C.A,Vt.A;s(6695),s(8066),s(7091);var Qt=s(9569),Zt=s(2665),Kt=s(4558),Ht=s(4182);const Yt=(0,a.lazy)(()=>s.e(9963).then(s.bind(s,9963))),es=(0,a.lazy)(()=>s.e(6060).then(s.bind(s,6060))),ts=(0,a.lazy)(()=>s.e(3044).then(s.bind(s,3044))),ss=(0,a.lazy)(()=>s.e(4976).then(s.bind(s,4976))),ns=(0,a.lazy)(()=>Promise.resolve().then(s.bind(s,262))),as=(0,a.lazy)(()=>s.e(721).then(s.bind(s,721))),ls=(0,a.lazy)(()=>s.e(2859).then(s.bind(s,2859))),is=(0,a.lazy)(()=>s.e(5118).then(s.bind(s,5118))),rs=(0,a.lazy)(()=>s.e(1973).then(s.bind(s,1973))),os=(0,a.lazy)(()=>s.e(6113).then(s.bind(s,6113))),cs=()=>(0,ae.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ae.jsx)(r.A,{className:"animate-spin text-blue-400",size:32})}),ds=()=>{var e,t,s,f;const{caseId:v,tab:w}=(0,l.g)(),j=(0,l.Zp)(),y=(0,l.zy)(),[N]=(0,i.ok)(),_="true"===N.get("upload"),A=!0===(null===(e=y.state)||void 0===e?void 0:e.newFreeChat),{setActiveCase:k,setAnalyzing:C,clearAnalyzing:S}=(0,Ht.j)(),[z,R]=(0,a.useState)(w||"chat"),[E,I]=(0,a.useState)(!1),[T,D]=(0,a.useState)(!1),[L,P]=(0,a.useState)(null),[F,O]=(0,a.useState)(null),[q,M]=(0,a.useState)(!0),[G,U]=(0,a.useState)(!0),[X,$]=(0,a.useState)(!1),[W,J]=(0,a.useState)(!w||"chat"===w),[,V]=(0,a.useState)(null),[Q,Z]=(0,a.useState)(null),[K,H]=(0,a.useState)(!1),Y=(0,a.useRef)(!1),[ee,te]=(0,a.useState)(null),[se,ne]=(0,a.useState)(null),[le,ie]=(0,a.useState)({checking:!0,online:!1,error:null}),[re,oe]=(0,a.useState)(null),[ce,de]=(0,a.useState)(null),[ue,me]=(0,a.useState)(null),[xe,he]=(0,a.useState)(!1),[pe,be]=(0,a.useState)(!1),[ge,fe]=(0,a.useState)(window.innerWidth<768?"4rem":"16rem"),[ve,we]=(0,a.useState)({isOpen:!1,featureName:"",featureDescription:"",requiredTier:"professional"}),[je,ye]=(0,a.useState)(null),[Ne,_e]=(0,a.useState)(!1),[Ae,ke]=(0,a.useState)(""),[Ce,Se]=(0,a.useState)(!1),ze={free:0,basic:1,professional:2,enterprise:3,admin:4},Re=((null===re||void 0===re?void 0:re.subscription_tier)||"free").toLowerCase(),Ee="admin"===(null===re||void 0===re?void 0:re.role)||null!==re&&void 0!==re&&re.is_admin?"admin":Re,Ie=e=>{var t,s;return(null!==(t=ze[Ee])&&void 0!==t?t:0)>=(null!==(s=ze[e])&&void 0!==s?s:0)};(0,Dt.N)({caseId:v,caseName:null===L||void 0===L?void 0:L.name,analysisResult:F,documents:null===L||void 0===L?void 0:L.files});(0,a.useEffect)(()=>{v&&k(v,(null===L||void 0===L?void 0:L.name)||null)},[v,null===L||void 0===L?void 0:L.name,k]),(0,a.useEffect)(()=>{Y.current&&!K&&(g.oR.success("\ud83c\udf89 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d5\u05e9\u05dc\u05dd! \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05d4\u05d7\u05d3\u05e9\u05d9\u05dd \u05e0\u05d5\u05ea\u05d7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4.",{duration:6e3,action:{label:"\u05dc\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea",onClick:()=>R("executive")}}),Be()),Y.current=K},[K]),(0,a.useEffect)(()=>{K?C(!0,0):S()},[K,C,S]);const Te=(e,t,s)=>{we({isOpen:!0,featureName:e,featureDescription:t,requiredTier:s})},De=(0,a.useCallback)(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];v&&j("/cases/".concat(v,"/").concat(e),{replace:t})},[v,j]),Le=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v&&(J(!0),R("chat"),j("/cases/".concat(v,"/chat"),{replace:!0,state:e?{queuedAction:e,queuedActionPayload:t}:{}}))},[v,j]),Pe=(0,a.useCallback)(function(){let{updateRoute:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?Le(null,null):(W||J(!0),"chat"!==z&&R("chat"))},[z,Le,W]),Fe=(0,a.useCallback)(function(){let{updateRoute:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(W&&J(!1),"chat"===z){const t="conclusions";R(t),e&&De(t)}},[z,W,De]);(0,a.useEffect)(()=>{if(w){const e={issuesmap:"issuesmap",forensics:"forensics",counsel:"counsel",profiler:"counsel",intelligence:"intelligence",rag:null};if("ai-summary"===w)return void j("/cases/".concat(v,"/executive"),{replace:!0});if(Object.prototype.hasOwnProperty.call(e,w)){const t=e[w];return void Le(t,null)}R(w);["conclusions","executive"].includes(w)&&I(!0),"chat"===w?Pe({updateRoute:!1}):J(!1)}},[w,Pe,Le,j,v]);(0,a.useEffect)(()=>{if(T)return;"completed"===((null===F||void 0===F?void 0:F.status)||(null===L||void 0===L?void 0:L.status)||"").toLowerCase()&&I(!0)},[null===F||void 0===F?void 0:F.status,null===L||void 0===L?void 0:L.status,T]),(0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&W&&Fe({updateRoute:!0})};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[W,Fe]),(0,a.useEffect)(()=>{const e=()=>{fe(window.innerWidth<768?"4rem":"16rem")};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{const e=e=>{const{tab:t}=e.detail||{};if(t){Le({contradictions:"forensics",redflags:"forensics",claims:"issuesmap",disputes:"issuesmap",cross:"counsel",strategies:"counsel",profiler:"counsel",overview:"executive",intelligence:"intelligence"}[t]||t,null)}};return window.addEventListener("navigate-to-tab",e),()=>window.removeEventListener("navigate-to-tab",e)},[Le]);const Oe=async()=>{try{st.v.log("\ud83d\udd0d Checking server connectivity...");const e=new AbortController,t=setTimeout(()=>e.abort(),15e3),s=await fetch("".concat(Kt.J,"/api/healthz"),{method:"GET",signal:e.signal}).catch(()=>null);return clearTimeout(t),s&&s.ok?(st.v.log("\u2705 Server is online"),ie({checking:!1,online:!0,error:null}),!0):(st.v.warn("\u26a0\ufe0f Server health check failed"),ie({checking:!1,online:!1,error:"\u05d4\u05e9\u05e8\u05ea \u05dc\u05d0 \u05de\u05d2\u05d9\u05d1 \u05dc\u05d1\u05d3\u05d9\u05e7\u05ea \u05ea\u05e7\u05d9\u05e0\u05d5\u05ea"}),!1)}catch(Q){return st.v.error("\u274c Server connectivity check failed:",Q),ie({checking:!1,online:!1,error:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05e9\u05e8\u05ea: ".concat(Q.message)}),!1}},{data:qe,fetchSubscription:Me}=(0,Lt.S)(),Ge=async()=>{try{const e=await Me();e&&oe(e)}catch(Q){st.v.error("Failed to load user data:",Q)}};(0,a.useEffect)(()=>{qe&&!re&&oe(qe)},[qe,re]),(0,a.useEffect)(()=>{(async()=>{if(st.v.log("\ud83d\ude80 CasePage init called with caseId: ".concat(v,", isNewFreeChat: ").concat(A)),ne(null),A)return st.v.log("\ud83d\udcac New free chat detected - showing chat immediately"),M(!1),U(!1),J(!0),P({id:v,name:"\u05e9\u05d9\u05d7\u05d4 \u05d7\u05d5\u05e4\u05e9\u05d9\u05ea - ".concat((new Date).toLocaleDateString("he-IL")),case_type:"free_chat",status:"completed"}),window.history.replaceState({},document.title),void Ge();const e=await Oe();if(st.v.log("\ud83c\udf10 Server connectivity check: ".concat(e?"ONLINE":"OFFLINE")),e)try{st.v.log("\ud83d\udce6 Loading case data first...");const e=await(0,B.apiGet)("/api/cases/".concat(v));if(st.v.log("\u2705 Case loaded: case_type=".concat(null===e||void 0===e?void 0:e.case_type)),P(e),U(!1),"free_chat"===(null===e||void 0===e?void 0:e.case_type))return st.v.log("\ud83d\udcac Free chat case detected - skipping analysis loading"),M(!1),J(!0),void Ge();st.v.log("\ud83d\udce6 Starting parallel API calls for analysis..."),await Promise.all([Ge(),Be(),Ue()]),st.v.log("\u2705 All parallel API calls completed")}catch(Q){st.v.error("\u274c Error in parallel API calls:",Q),M(!1),U(!1)}else st.v.error("\u274c Server offline - skipping data load"),M(!1),U(!1),Z("\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea. \u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e0\u05d8\u05e8\u05e0\u05d8 \u05d5\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1.")})()},[v,A]);const Ue=async()=>{if(v)try{const e=await(0,B.apiGet)("/api/cases/".concat(v,"/ai-summary"),{showErrorToast:!1});null!==e&&void 0!==e&&e.exists&&e.summary&&ne(e.summary)}catch(Q){st.v.warn("Failed to load executive summary:",Q)}},Xe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{silent:t=!1}=e;if(st.v.log("\ud83d\udcc2 loadCaseData called for case: ".concat(v," (silent=").concat(t,")")),t||U(!0),!v)return st.v.error("\u274c loadCaseData: caseId is undefined/null!"),void U(!1);try{st.v.log("\ud83d\udcc2 Making API call to /api/cases/".concat(v));const e=await(0,B.apiGet)("/api/cases/".concat(v));st.v.log("\u2705 loadCaseData received data:",e),P(e),Z(null),"analyzing"===e.status||"processing"===e.status?(H(!0),M(!1)):"completed"===e.status||"ready"===e.status?H(!1):H("analyzing"===e.status||"processing"===e.status)}catch(Q){st.v.error("Failed to load case data:",Q);const t=Q instanceof Error?Q.message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05ea\u05d9\u05e7";Z(t),g.oR.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05ea\u05d9\u05e7")}finally{U(!1)}},Be=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{var t,s,n;st.v.log("\ud83d\udd0d Loading analysis for case ".concat(v," (attempt ").concat(e+1,"/").concat(4,")"));const a=await(0,B.apiGet)("/api/cases/".concat(v,"/analysis"),{retry:e<3,maxRetries:3-e,showErrorToast:e>=3});st.v.log("\u2705 Analysis loaded successfully:",{status:a.status,contradictions:(null===(t=a.contradictions)||void 0===t?void 0:t.length)||0,hasIntelligence:!!(a.intelligence||null!==(s=a.metadata)&&void 0!==s&&s.intelligence)}),O(a),Z(null);const l=(null===a||void 0===a?void 0:a.executive_summary)||(null===a||void 0===a||null===(n=a.metadata)||void 0===n?void 0:n.executive_summary)||null;ne(l),l||Ue(),V(a.status||(null===L||void 0===L?void 0:L.status)),"analyzing"===a.status||"processing"===a.status?H(!0):"completed"!==a.status&&"ready"!==a.status&&"failed"!==a.status||H(!1),a.metadata&&a.metadata.intelligence?(st.v.log("\u2705 Intelligence loaded from metadata"),te(a.metadata.intelligence)):a.intelligence&&(st.v.log("\u2705 Intelligence loaded from root"),te(a.intelligence))}catch(Q){st.v.error("\u274c Error loading analysis:",Q),O(null);const t=Q instanceof Error?Q.message:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05ea\u05d9\u05e7";Z(t)}finally{M(!1)}};(0,a.useEffect)(()=>{"graph"!==z||ue||pe||(async()=>{if(v)try{be(!0);const e=await(0,B.apiGet)("/api/cases/".concat(v,"/contradiction-graph"),{showErrorToast:!1});st.v.log("\u2705 Graph loaded:",e),me(e)}catch(Q){st.v.error("\u274c Error loading graph:",Q)}finally{be(!1)}})()},[z]);(0,a.useCallback)(e=>{st.v.log("\u2705 Analysis completed for case:",e),e===v&&(Xe(),Be())},[v]);return q||G?(0,ae.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)(r.A,{className:"animate-spin h-12 w-12 text-purple-400 mx-auto mb-4"}),(0,ae.jsx)("p",{className:"text-blue-300",children:G?"\u05d8\u05d5\u05e2\u05df \u05ea\u05d9\u05e7...":"\u05d8\u05d5\u05e2\u05df \u05e0\u05d9\u05ea\u05d5\u05d7..."})]})}):L?W?(0,ae.jsx)("div",{className:"h-screen fixed top-0 left-0 bottom-0 z-[100] bg-slate-900",style:{right:ge},children:(0,ae.jsx)(Mt,{caseId:v,caseName:null===L||void 0===L?void 0:L.name,analysisResult:F,onClose:()=>Fe({updateRoute:!0})})}):(0,ae.jsx)("div",{className:"h-screen w-full",children:(0,ae.jsxs)("div",{className:"p-8 h-full overflow-y-auto",children:[!le.online&&!le.checking&&(0,ae.jsx)("div",{className:"mb-6 bg-red-500/20 border-2 border-red-500 rounded-xl p-6",children:(0,ae.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ae.jsx)(o.A,{className:"text-red-400 flex-shrink-0",size:24}),(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsx)("h3",{className:"text-red-200 font-bold text-lg mb-2",children:"\u26a0\ufe0f \u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}),(0,ae.jsx)("p",{className:"text-red-300 mb-3",children:le.error}),(0,ae.jsx)("button",{onClick:async()=>{ie({checking:!0,online:!1,error:null});await Oe()&&Be()},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all",children:le.checking?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(r.A,{className:"animate-spin",size:16}),(0,ae.jsx)("span",{children:"\u05d1\u05d5\u05d3\u05e7..."})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.A,{size:16}),(0,ae.jsx)("span",{children:"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8"})]})})]})]})}),(0,ae.jsx)($t,{caseName:null===L||void 0===L?void 0:L.name}),"free_chat"!==(null===L||void 0===L?void 0:L.case_type)&&v&&(0,ae.jsx)(a.Suspense,{fallback:null,children:(0,ae.jsx)(rs,{caseId:v})}),"free_chat"!==(null===L||void 0===L?void 0:L.case_type)&&v&&"completed"===(null===L||void 0===L?void 0:L.status)&&(0,ae.jsx)(a.Suspense,{fallback:null,children:(0,ae.jsx)(os,{caseId:v})}),(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("button",{onClick:()=>j("/"),className:"text-blue-300 hover:text-white mb-4 flex items-center gap-2",children:"\u2190 \u05d7\u05d6\u05e8\u05d4 \u05dc\u05d3\u05e9\u05d1\u05d5\u05e8\u05d3"}),(0,ae.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:L.name}),(0,ae.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,ae.jsxs)("p",{className:"text-blue-300",children:["completed"===L.status&&"\u2705 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d5\u05e9\u05dc\u05dd","ready"===L.status&&"\ud83d\udcc4 \u05de\u05d5\u05db\u05df \u05dc\u05e0\u05d9\u05ea\u05d5\u05d7 - \u05d1\u05d7\u05e8 \u05e0\u05d9\u05ea\u05d5\u05d7\u05d9\u05dd \u05d1\u05d8\u05d0\u05d1\u05d9\u05dd","analyzing"===L.status&&"\u23f3 \u05de\u05e0\u05ea\u05d7...","processing"===L.status&&"\u23f3 \u05de\u05e2\u05d1\u05d3...","failed"===L.status&&"\u274c \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05e0\u05db\u05e9\u05dc"]}),"completed"===L.status&&(0,ae.jsx)(ae.Fragment,{children:Ie("professional")?(0,ae.jsxs)("span",{className:"text-sm px-3 py-1 rounded-lg bg-purple-500/20 text-purple-300 border border-purple-500 font-semibold flex items-center gap-2",children:[(0,ae.jsx)(d.A,{size:16}),"\u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e1 \u05e4\u05e2\u05d9\u05dc"]}):(0,ae.jsxs)("button",{onClick:()=>Te("Intelligence","\u05ea\u05d5\u05d1\u05e0\u05d5\u05ea \u05e2\u05de\u05d5\u05e7\u05d5\u05ea \u05e2\u05dc \u05d4\u05ea\u05d9\u05e7 \u05d6\u05de\u05d9\u05e0\u05d5\u05ea \u05d1\u05de\u05e0\u05d5\u05d9 Professional \u05d5\u05de\u05e2\u05dc\u05d4","professional"),className:"text-sm px-3 py-1 rounded-lg bg-gray-600/30 text-gray-400 border border-gray-600 font-semibold flex items-center gap-2 hover:bg-gray-600/50 transition-colors",title:"\u05e9\u05d3\u05e8\u05d2 \u05db\u05d3\u05d9 \u05dc\u05e7\u05d1\u05dc Intelligence",children:[(0,ae.jsx)(d.A,{size:16}),"\u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e1"]})}),F&&(0,ae.jsxs)("span",{className:"text-sm text-gray-400",children:[(null===(t=F.claims)||void 0===t?void 0:t.length)||0," \u05d8\u05e2\u05e0\u05d5\u05ea \u2022",(null===(s=F.entities)||void 0===s?void 0:s.length)||0," \u05d9\u05e9\u05d5\u05d9\u05d5\u05ea"]})]})]}),(0,ae.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,ae.jsxs)("button",{onClick:()=>Pe({updateRoute:!0}),className:"flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-2xl hover:from-blue-700 hover:to-cyan-700 transition-all shadow-xl hover:shadow-2xl font-bold text-lg transform hover:scale-105",children:[(0,ae.jsx)(u.A,{size:24}),(0,ae.jsx)("span",{children:"\u05e9\u05d0\u05dc \u05d0\u05ea \u05d9\u05ea\u05e8\u05d5"})]}),(0,ae.jsxs)("button",{onClick:()=>_e(!0),className:"flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-2xl hover:from-amber-700 hover:to-orange-700 transition-all shadow-xl hover:shadow-2xl font-bold text-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:K||"analyzing"===L.status,title:"\u05d4\u05e8\u05e5 \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05d7\u05d3\u05e9 \u05e2\u05dd \u05de\u05d9\u05e7\u05d5\u05d3 \u05d1\u05e0\u05d5\u05e9\u05d0 \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9",children:[(0,ae.jsx)(c.A,{size:24}),(0,ae.jsx)("span",{children:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05de\u05d5\u05e7\u05d3"})]}),(0,ae.jsxs)("button",{onClick:()=>$(!0),className:"flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-slate-700 to-slate-800 text-white rounded-2xl hover:from-slate-800 hover:to-slate-900 transition-all shadow-xl hover:shadow-2xl border border-white/30 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",disabled:!F||"completed"!==L.status,children:[(0,ae.jsx)(m.A,{size:24}),(0,ae.jsx)("span",{children:"\u05d9\u05d9\u05e6\u05d5\u05d0"})]})]})]}),Q&&(0,ae.jsx)(Qt.A,{error:Q,onRetry:()=>{Z(null),Xe(),Be()},onDismiss:()=>Z(null),title:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05ea\u05d9\u05e7",className:"mb-6"}),L&&(!(null!==F&&void 0!==F&&F.entities)||0===F.entities.length)&&"completed"===L.status&&(0,ae.jsx)("div",{className:"mb-6 bg-gradient-to-r from-amber-500/20 to-orange-500/20 border-2 border-amber-500/50 rounded-2xl p-5",children:(0,ae.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ae.jsx)("div",{className:"w-12 h-12 bg-amber-500/30 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,ae.jsx)("span",{className:"text-2xl",children:"\ud83d\udc65"})}),(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsx)("h3",{className:"text-amber-200 font-bold text-lg mb-1",children:"\ud83d\udca1 \u05d8\u05d9\u05e4 \u05dc\u05e9\u05d9\u05e4\u05d5\u05e8 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7"}),(0,ae.jsxs)("p",{className:"text-amber-100/80 mb-3",children:["\u05dc\u05d0 \u05d4\u05d2\u05d3\u05e8\u05ea \u05d0\u05ea \u05d4\u05e6\u05d3\u05d3\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7. \u05db\u05d3\u05d9 \u05e9\u05d9\u05ea\u05e8\u05d5 \u05d9\u05d6\u05d4\u05d4 \u05d8\u05d5\u05d1 \u05d9\u05d5\u05ea\u05e8 ",(0,ae.jsx)("strong",{children:"\u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea"})," \u05d5",(0,ae.jsx)("strong",{children:"\u05de\u05d5\u05e1\u05db\u05de\u05d5\u05ea"}),", \u05de\u05d5\u05de\u05dc\u05e5 \u05dc\u05d4\u05d2\u05d3\u05d9\u05e8 \u05de\u05d9 \u05de\u05d9\u05d9\u05e6\u05d2 \u05d0\u05ea \u05de\u05d9."]}),(0,ae.jsxs)("button",{onClick:()=>j("/cases/".concat(v,"/context")),className:"px-4 py-2 bg-amber-500 text-white rounded-lg font-semibold hover:bg-amber-600 transition-all flex items-center gap-2",children:[(0,ae.jsx)("span",{children:"\u05d4\u05d2\u05d3\u05e8 \u05d0\u05ea \u05d4\u05e6\u05d3\u05d3\u05d9\u05dd"}),(0,ae.jsx)("span",{children:"\u2192"})]})]})]})}),L&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("div",{className:"mb-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ae.jsx)("button",{onClick:()=>{const e=!E;if(D(!0),I(e),!1===e){["conclusions","chat","files"].includes(z)||(j("/cases/".concat(v,"/conclusions")),R("conclusions"))}},className:"px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2 ".concat(E?"bg-gradient-to-r from-orange-600 to-red-600 text-white hover:from-orange-700 hover:to-red-700":"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700"),children:E?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.A,{size:20}),(0,ae.jsx)("span",{children:"\u05de\u05e6\u05d1 \u05de\u05ea\u05e7\u05d3\u05dd"})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.A,{size:20}),(0,ae.jsx)("span",{children:"\u05de\u05e6\u05d1 \u05e4\u05e9\u05d5\u05d8"})]})}),(0,ae.jsx)("div",{className:"px-4 py-2 rounded-lg text-sm ".concat(E?"bg-orange-500/20 text-orange-200 border border-orange-500/30":"bg-green-500/20 text-green-200 border border-green-500/30"),children:E?(0,ae.jsx)("span",{children:"\u05dc\u05e9\u05d5\u05e0\u05d9\u05d5\u05ea \u05dc\u05d9\u05d1\u05d4: \u05de\u05e1\u05e7\u05e0\u05d5\u05ea, \u05e1\u05e7\u05d9\u05e8\u05d4 \u05d5\u05e7\u05d1\u05e6\u05d9\u05dd. \u05e0\u05d9\u05ea\u05d5\u05d7\u05d9\u05dd \u05de\u05ea\u05e7\u05d3\u05de\u05d9\u05dd \u05de\u05d5\u05e4\u05e2\u05dc\u05d9\u05dd \u05de\u05ea\u05d5\u05da \u05d4\u05e6\u05f3\u05d0\u05d8."}):(0,ae.jsx)("span",{children:"3 \u05dc\u05e9\u05d5\u05e0\u05d9\u05d5\u05ea \u05e2\u05d9\u05e7\u05e8\u05d9\u05d5\u05ea: \u05de\u05e1\u05e7\u05e0\u05d5\u05ea, \u05e6'\u05d0\u05d8 \u05d5\u05e7\u05d1\u05e6\u05d9\u05dd - \u05de\u05ea\u05d0\u05d9\u05dd \u05dc\u05e8\u05d5\u05d1 \u05d4\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"})})]}),(0,ae.jsxs)("div",{className:"text-blue-300 text-sm",children:["\u05dc\u05d7\u05e5 \u05dc\u05e2\u05d1\u05d5\u05e8 \u05dc",E?"\u05de\u05e6\u05d1 \u05e4\u05e9\u05d5\u05d8":"\u05de\u05e6\u05d1 \u05de\u05ea\u05e7\u05d3\u05dd"]})]}),(0,ae.jsx)("div",{className:"border-b border-white/20",children:E?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"flex items-center gap-2 py-2 overflow-x-auto",children:[{id:"core",label:"\u05dc\u05d9\u05d1\u05d4",hint:"\u05de\u05e1\u05e7\u05e0\u05d5\u05ea \u2022 \u05e1\u05e7\u05d9\u05e8\u05d4"},{id:"intelligence",label:"\u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e6\u05d9\u05d4",hint:"\u05d3\u05e4\u05d9 \u05e0\u05d9\u05ea\u05d5\u05d7 \u2022 \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u2022 \u05e1\u05d9\u05db\u05d5\u05df"},{id:"docs",label:"\u05de\u05e1\u05de\u05db\u05d9\u05dd",hint:"\u05e7\u05d1\u05e6\u05d9\u05dd \u05d1\u05ea\u05d9\u05e7"},{id:"chat",label:"\u05e6\u05f3\u05d0\u05d8",hint:"\u05e4\u05ea\u05d7 \u05e6\u05f3\u05d0\u05d8 \u05e6\u05d9\u05d3\u05d9"}].map(e=>{const t=je===e.id;return(0,ae.jsxs)("button",{onClick:()=>{if("chat"===e.id)return Pe({updateRoute:!0}),R("chat"),void ye(null);ye(t=>t===e.id?null:e.id)},className:"px-4 py-2 rounded-full text-sm border transition-all whitespace-nowrap ".concat(t?"bg-white/10 text-white border-white/20":"bg-white/5 text-white/70 border-white/10 hover:bg-white/10 hover:text-white"),title:e.hint,children:[e.label," ",t?(0,ae.jsx)(x.A,{className:"inline-block ml-1",size:14}):(0,ae.jsx)(h.A,{className:"inline-block ml-1",size:14})]},e.id)})}),je&&(0,ae.jsx)("div",{className:"pb-3",children:(0,ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:(e=>{const t=[{key:"conclusions",label:"\u2705 \u05de\u05e1\u05e7\u05e0\u05d5\u05ea",icon:(0,ae.jsx)(p.A,{size:18}),tooltip:"\u05de\u05e1\u05e7\u05e0\u05d5\u05ea \u05e7\u05e6\u05e8\u05d5\u05ea + \u05de\u05d4 \u05dc\u05e2\u05e9\u05d5\u05ea \u05e2\u05db\u05e9\u05d9\u05d5",requiresTier:"free"},{key:"executive",label:"\ud83c\udfaf \u05e1\u05e7\u05d9\u05e8\u05d4",icon:(0,ae.jsx)(d.A,{size:18}),tooltip:"\u05e1\u05d9\u05db\u05d5\u05dd \u05de\u05e0\u05d4\u05dc\u05d9\u05dd \u05e2\u05dd \u05e4\u05d5\u05d8\u05e0\u05e6\u05d9\u05d0\u05dc \u05ea\u05e7\u05d9\u05e4\u05d4",requiresTier:"free"}],s=[{key:"files",label:"\ud83d\udcc1 \u05e7\u05d1\u05e6\u05d9\u05dd",icon:null,count:(null===L||void 0===L||null===(e=L.files)||void 0===e?void 0:e.length)||0,tooltip:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05e7\u05d1\u05e6\u05d9 \u05d4\u05ea\u05d9\u05e7",requiresTier:"free"}];return("core"===je?t:"intelligence"===je?[{key:"intel-overview",label:"\ud83d\udccb \u05e1\u05e7\u05d9\u05e8\u05d4",icon:null,tooltip:"\u05e1\u05e7\u05d9\u05e8\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7",requiresTier:"free"},{key:"intel-strategy",label:"\ud83c\udfaf \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4",icon:null,tooltip:"\u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea",requiresTier:"professional"},{key:"intel-risk",label:"\u26a0\ufe0f \u05e1\u05d9\u05db\u05d5\u05df",icon:null,tooltip:"\u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd",requiresTier:"professional"},{key:"intel-counsel",label:"\u2696\ufe0f \u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05e7\u05ea \u05d9\u05e8\u05d9\u05d1",icon:null,tooltip:'\u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05e7\u05d5\u05ea \u05e2\u05d5"\u05d3 \u05d4\u05e6\u05d3 \u05d4\u05e9\u05e0\u05d9',requiresTier:"professional"},{key:"intel-forensic",label:"\ud83d\udd2c \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9",icon:null,tooltip:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 \u05de\u05e2\u05de\u05d9\u05e7",requiresTier:"enterprise"},{key:"intel-deep",label:"\ud83d\udd2c \u05e0\u05d9\u05ea\u05d5\u05d7 \u05e2\u05d5\u05de\u05e7",icon:null,tooltip:"\u05e0\u05d9\u05ea\u05d5\u05d7 AI \u05de\u05ea\u05e7\u05d3\u05dd - \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea, \u05e0\u05d8\u05d9\u05d5\u05ea \u05e9\u05d5\u05e4\u05d8, \u05d4\u05de\u05dc\u05e6\u05d5\u05ea",requiresTier:"professional"},{key:"legal-notebook",label:"\ud83d\udcda Legal Notebook",icon:null,tooltip:"\u05d8\u05e2\u05e0\u05d5\u05ea \u05d5\u05e1\u05ea\u05d9\u05e8\u05d5\u05ea + Action Engine",requiresTier:"professional"}]:"docs"===je?s:[]).map(e=>{const t=e.requiresTier||"free",s=!Ie(t),n="enterprise"===t?"Enterprise":"professional"===t?"Professional":"Basic";return(0,ae.jsxs)("button",{onClick:()=>{s?Te(e.label,e.tooltip||"\u05e4\u05d9\u05e6\u05f3\u05e8 \u05d6\u05d4 \u05d6\u05de\u05d9\u05df \u05d1\u05de\u05e0\u05d5\u05d9 \u05de\u05e9\u05d5\u05d3\u05e8\u05d2",t):(j("/cases/".concat(v,"/").concat(e.key)),R(e.key),ye(null))},title:s?"".concat(e.tooltip||""," \u2022 \u05e0\u05d3\u05e8\u05e9 ").concat(n):e.tooltip,className:"flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-sm border transition-all ".concat(s?"bg-white/5 text-white/30 border-white/10":z===e.key?"bg-purple-600/20 text-white border-purple-500/40":"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:text-white"),children:[e.icon,(0,ae.jsx)("span",{className:"whitespace-nowrap",children:e.label}),void 0!==e.count&&(0,ae.jsxs)("span",{className:"text-white/50",children:["(",e.count,")"]}),e.hasData&&(0,ae.jsx)("span",{className:"text-[10px] bg-green-500 px-2 py-0.5 rounded-full",children:"\u2713"}),s&&(0,ae.jsxs)("span",{className:"inline-flex items-center gap-1 text-[10px] bg-white/5 border border-white/10 px-2 py-0.5 rounded-full",children:[(0,ae.jsx)(b.A,{size:11}),(0,ae.jsxs)("span",{children:[n,"+"]})]})]},e.key)})})()})})]}):[{key:"conclusions",label:"\u05de\u05e1\u05e7\u05e0\u05d5\u05ea",icon:(0,ae.jsx)(p.A,{size:20}),tooltip:"\u05de\u05e1\u05e7\u05e0\u05d5\u05ea \u05e7\u05e6\u05e8\u05d5\u05ea + \u05de\u05d4 \u05dc\u05e2\u05e9\u05d5\u05ea \u05e2\u05db\u05e9\u05d9\u05d5"},{key:"chat",label:"\u05e9\u05d9\u05d7\u05d4 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5",icon:(0,ae.jsx)(u.A,{size:20}),tooltip:"\u05e9\u05d5\u05d7\u05d7 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5 \u05e2\u05dc \u05d4\u05ea\u05d9\u05e7"},{key:"files",label:"\u05e7\u05d1\u05e6\u05d9\u05dd",count:(null===L||void 0===L||null===(f=L.files)||void 0===f?void 0:f.length)||0,tooltip:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05e7\u05d1\u05e6\u05d9 \u05d4\u05ea\u05d9\u05e7"}].map(e=>(0,ae.jsxs)("button",{onClick:()=>{"chat"===e.key?Pe({updateRoute:!0}):(j("/cases/".concat(v,"/").concat(e.key)),R(e.key))},title:e.tooltip,className:"px-8 py-4 font-bold transition-all whitespace-nowrap flex items-center gap-3 text-lg ".concat(z===e.key||"chat"===e.key&&W?"text-white border-b-4 border-purple-500":"text-blue-300 hover:text-white"),children:[e.icon,e.label," ",void 0!==e.count&&"(".concat(e.count,")")]},e.key))})]}),(0,ae.jsx)("div",{className:"mt-6",children:(0,ae.jsxs)(a.Suspense,{fallback:(0,ae.jsx)(cs,{}),children:["conclusions"===z&&(0,ae.jsx)(ts,{caseId:v,caseData:L,analysisResult:F||{},onOpenChat:()=>Pe({updateRoute:!0})}),"executive"===z&&(0,ae.jsx)(ae.Fragment,{children:!q||F||L?(0,ae.jsx)(ss,{caseData:L,analysisResult:F||{},executiveSummary:se,intelligenceData:ee,userData:re,caseId:v,onOpenChat:()=>Pe({updateRoute:!0})}):(0,ae.jsx)(Zt.l8,{})}),(null===z||void 0===z?void 0:z.startsWith("intel-"))&&"intel-deep"!==z&&(0,ae.jsx)(as,{caseId:v,pageType:z.replace("intel-",""),onNavigateToChat:e=>{Pe({updateRoute:!0}),e&&j("/cases/".concat(v,"/chat"),{replace:!0,state:{queuedAction:"ask",queuedActionPayload:{prompt:e}}})}}),"intel-deep"===z&&(0,ae.jsx)(a.Suspense,{fallback:(0,ae.jsx)(cs,{}),children:(0,ae.jsx)(ls,{caseId:v})}),"legal-notebook"===z&&(0,ae.jsx)(a.Suspense,{fallback:(0,ae.jsx)(cs,{}),children:(0,ae.jsx)(is,{caseId:v,caseName:null===L||void 0===L?void 0:L.name})}),"files"===z&&(0,ae.jsx)(es,{caseId:v,caseName:L.name,files:L.files||[],autoOpenUpload:_,onFilesUpdate:e=>{var t;(null===e||void 0===e||null===(t=e.uploaded_files)||void 0===t?void 0:t.length)>0&&P(t=>(0,n.A)((0,n.A)({},t),{},{files:[...(null===t||void 0===t?void 0:t.files)||[],...e.uploaded_files]})),null!==e&&void 0!==e&&e.reanalyzing?(Xe({silent:!0}),H(!0),Pe({updateRoute:!0}),g.oR.info("\ud83d\udcc4 \u05d4\u05e7\u05d1\u05e6\u05d9\u05dd \u05d4\u05d5\u05e2\u05dc\u05d5! \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05ea\u05d1\u05e6\u05e2 \u05d1\u05e8\u05e7\u05e2. \u05ea\u05d5\u05db\u05dc \u05dc\u05d4\u05de\u05e9\u05d9\u05da \u05dc\u05e2\u05d1\u05d5\u05d3 \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5.",{duration:5e3})):(Be(),g.oR.success("\u2705 \u05d4\u05e7\u05d1\u05e6\u05d9\u05dd \u05e2\u05d5\u05d3\u05db\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"))}})]})})]}),!q&&!L&&(0,ae.jsxs)("div",{className:"text-center py-12",children:[(0,ae.jsx)(o.A,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),(0,ae.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05ea\u05d9\u05e7"}),(0,ae.jsx)("p",{className:"text-blue-300",children:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05ea\u05d9\u05e7. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1."})]}),("analyzing"===(null===L||void 0===L?void 0:L.status)||"processing"===(null===L||void 0===L?void 0:L.status))&&(0,ae.jsxs)("div",{className:"text-center py-12",children:[(0,ae.jsx)(c.A,{className:"h-16 w-16 text-purple-400 mx-auto mb-4 animate-pulse"}),(0,ae.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\u05de\u05e0\u05ea\u05d7 \u05d0\u05ea \u05d4\u05ea\u05d9\u05e7..."}),(0,ae.jsx)("p",{className:"text-blue-300",children:"\u05d4\u05ea\u05d4\u05dc\u05d9\u05da \u05e2\u05e9\u05d5\u05d9 \u05dc\u05e7\u05d7\u05ea \u05de\u05e1\u05e4\u05e8 \u05d3\u05e7\u05d5\u05ea. \u05ea\u05d5\u05db\u05dc \u05dc\u05e2\u05e7\u05d5\u05d1 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05d4\u05ea\u05e7\u05d3\u05de\u05d5\u05ea \u05dc\u05de\u05e2\u05dc\u05d4."})]}),X&&(0,ae.jsx)(Yt,{caseId:v,caseName:L.name,analysisResult:F,onClose:()=>$(!1)}),(0,ae.jsx)(ns,{isOpen:ve.isOpen,onClose:()=>we(e=>(0,n.A)((0,n.A)({},e),{},{isOpen:!1})),featureName:ve.featureName,featureDescription:ve.featureDescription,requiredTier:ve.requiredTier,currentTier:null===re||void 0===re?void 0:re.subscription_tier}),Ne&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,ae.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl border border-white/20 max-w-lg w-full p-6 shadow-2xl",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ae.jsx)("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center",children:(0,ae.jsx)(c.A,{className:"text-amber-400",size:24})}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h2",{className:"text-xl font-bold text-white",children:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05de\u05d5\u05e7\u05d3"}),(0,ae.jsx)("p",{className:"text-blue-300 text-sm",children:"\u05d4\u05e8\u05e5 \u05d0\u05ea \u05d9\u05ea\u05e8\u05d5 \u05de\u05d7\u05d3\u05e9 \u05e2\u05dd \u05de\u05d9\u05e7\u05d5\u05d3 \u05d1\u05e0\u05d5\u05e9\u05d0 \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9"})]})]}),(0,ae.jsxs)("div",{className:"mb-6",children:[(0,ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"\u05e2\u05dc \u05de\u05d4 \u05dc\u05d3\u05e2\u05ea\u05da \u05d9\u05ea\u05e8\u05d5 \u05e6\u05e8\u05d9\u05da \u05dc\u05d4\u05ea\u05de\u05e7\u05d3?"}),(0,ae.jsx)("input",{type:"text",value:Ae,onChange:e=>ke(e.target.value),placeholder:"\u05dc\u05d3\u05d5\u05d2\u05de\u05d4: \u05e0\u05d6\u05e7\u05d9\u05dd, \u05d0\u05d7\u05e8\u05d9\u05d5\u05ea, \u05d6\u05de\u05e0\u05d9\u05dd, \u05de\u05d4\u05d9\u05de\u05e0\u05d5\u05ea \u05e2\u05d3\u05d9\u05dd...",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",dir:"rtl"}),(0,ae.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"\u05d9\u05ea\u05e8\u05d5 \u05d9\u05e0\u05ea\u05d7 \u05de\u05d7\u05d3\u05e9 \u05d0\u05ea \u05db\u05dc \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd \u05e2\u05dd \u05d3\u05d2\u05e9 \u05de\u05d9\u05d5\u05d7\u05d3 \u05e2\u05dc \u05d4\u05e0\u05d5\u05e9\u05d0 \u05e9\u05e6\u05d9\u05d9\u05e0\u05ea"})]}),(0,ae.jsx)("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-6",children:(0,ae.jsxs)("p",{className:"text-amber-200 text-sm",children:[(0,ae.jsx)("strong",{children:"\u05e9\u05d9\u05dd \u05dc\u05d1:"})," \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05de\u05de\u05d5\u05e7\u05d3 \u05d9\u05d1\u05d7\u05df \u05dc\u05e2\u05d5\u05de\u05e7 \u05d0\u05ea \u05d4\u05e0\u05d5\u05e9\u05d0 \u05e9\u05d1\u05d7\u05e8\u05ea - \u05e1\u05ea\u05d9\u05e8\u05d5\u05ea, \u05e4\u05dc\u05d5\u05d2\u05ea\u05d0\u05d5\u05ea, \u05d7\u05d5\u05dc\u05e9\u05d5\u05ea \u05d5\u05d7\u05d5\u05d6\u05e7\u05d5\u05ea \u05d4\u05e7\u05e9\u05d5\u05e8\u05d5\u05ea \u05d0\u05dc\u05d9\u05d5 \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05ea. \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e7\u05d5\u05d3\u05de\u05d5\u05ea \u05dc\u05d0 \u05d9\u05d9\u05de\u05d7\u05e7\u05d5."]})}),(0,ae.jsxs)("div",{className:"flex gap-3",children:[(0,ae.jsx)("button",{onClick:()=>{_e(!1),ke("")},className:"flex-1 px-4 py-3 bg-white/10 text-white rounded-xl hover:bg-white/20 transition-all font-semibold",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,ae.jsx)("button",{onClick:async()=>{if(Ae.trim())try{Se(!0);const e=await(0,B.v$)("/api/cases/".concat(v,"/reanalyze"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({focus_topic:Ae.trim()})});if(e.ok)g.oR.success('\ud83d\udd04 \u05de\u05ea\u05d7\u05d9\u05dc \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05de\u05d5\u05e7\u05d3: "'.concat(Ae,'"')),_e(!1),ke(""),H(!0),Xe({silent:!0});else{const t=await e.json();g.oR.error(t.detail||"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05ea\u05d7\u05dc\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05d7\u05d3\u05e9")}}catch(Q){st.v.error("Error re-analyzing:",Q),g.oR.error("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05ea\u05d7\u05dc\u05ea \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05d7\u05d3\u05e9")}finally{Se(!1)}else g.oR.error("\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05e0\u05d5\u05e9\u05d0 \u05dc\u05de\u05d9\u05e7\u05d5\u05d3 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7")},disabled:Ce||!Ae.trim(),className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl hover:from-amber-700 hover:to-orange-700 transition-all font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ce?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(r.A,{className:"animate-spin",size:18}),(0,ae.jsx)("span",{children:"\u05de\u05ea\u05d7\u05d9\u05dc \u05e0\u05d9\u05ea\u05d5\u05d7..."})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.A,{size:18}),(0,ae.jsx)("span",{children:"\u05d4\u05ea\u05d7\u05dc \u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05de\u05d5\u05e7\u05d3"})]})})]})]})})]})}):(0,ae.jsx)("div",{className:"p-8",children:(0,ae.jsxs)("div",{className:"text-center py-12",children:[(0,ae.jsx)(o.A,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),(0,ae.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\u05ea\u05d9\u05e7 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0"}),(0,ae.jsx)("p",{className:"text-blue-300 mb-4",children:"\u05d4\u05ea\u05d9\u05e7 \u05d4\u05de\u05d1\u05d5\u05e7\u05e9 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d0\u05d5 \u05e9\u05d0\u05d9\u05df \u05dc\u05da \u05d4\u05e8\u05e9\u05d0\u05d4 \u05dc\u05e6\u05e4\u05d5\u05ea \u05d1\u05d5"}),(0,ae.jsx)("button",{onClick:()=>j("/"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05d3\u05e9\u05d1\u05d5\u05e8\u05d3"})]})})}}}]);
//# sourceMappingURL=3246.43456bbd.chunk.js.map