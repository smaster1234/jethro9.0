{"version":3,"file":"static/js/6113.752cf79d.chunk.js","mappings":"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","sources":["components/JudgeEnrichmentBanner.tsx","../node_modules/lucide-react/src/icons/pen.ts"],"sourcesContent":["/**\n * JudgeEnrichmentBanner - Shows judge enrichment status (P0 Task 5)\n *\n * Three states:\n * - missing_judge: No judge detected - CTA to identify or enter manually\n * - insufficient_data: Judge detected but <5 rulings in corpus\n * - ready: Full judge analytics available\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Scale, Loader2, AlertTriangle, CheckCircle, Edit2, X,\n  BarChart3, TrendingUp, Calendar, FileText\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { apiGet, apiPatch } from '../utils/api';\n\n// =============================================================================\n// Types\n// =============================================================================\n\ninterface JudgeProfile {\n  outcome_distribution?: {\n    accepted?: number;\n    rejected?: number;\n    partial?: number;\n    settled?: number;\n  };\n  top_topics?: Array<{ topic: string; count: number }>;\n  top_legal_issues?: Array<{ issue: string; count: number }>;\n  damages_summary?: {\n    median?: number;\n    mean?: number;\n    min?: number;\n    max?: number;\n  };\n  date_range?: {\n    from?: string;\n    to?: string;\n  };\n}\n\ninterface EnrichmentResponse {\n  status: 'missing_judge' | 'insufficient_data' | 'ready';\n  message?: string;\n  message_en?: string;\n  judge_name?: string | null;\n  court?: string | null;\n  cta_he?: string;\n  cta_en?: string;\n  sample_size?: number;\n  disclaimer?: string;\n  judge_profile?: JudgeProfile | null;\n  supporting_rulings?: Array<{ id: string; title: string }>;\n}\n\ninterface JudgeEnrichmentBannerProps {\n  caseId: string;\n  onJudgeUpdated?: (judgeName: string) => void;\n}\n\n// =============================================================================\n// Component\n// =============================================================================\n\nexport const JudgeEnrichmentBanner: React.FC<JudgeEnrichmentBannerProps> = ({\n  caseId,\n  onJudgeUpdated\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState<EnrichmentResponse | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [expanded, setExpanded] = useState(false);\n\n  // =============================================================================\n  // Fetch Enrichment Data\n  // =============================================================================\n\n  const fetchEnrichment = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const result = await apiGet(`/api/cases/${caseId}/enrichment`, {\n        showErrorToast: false\n      });\n      setData(result);\n    } catch (err: any) {\n      console.error('Enrichment fetch error:', err);\n      setError(err.message || 'שגיאה בטעינת נתוני העשרה');\n    } finally {\n      setLoading(false);\n    }\n  }, [caseId]);\n\n  useEffect(() => {\n    fetchEnrichment();\n  }, [fetchEnrichment]);\n\n  // =============================================================================\n  // Update Judge\n  // =============================================================================\n\n  const handleUpdateJudge = useCallback(async (judgeName: string, court?: string) => {\n    try {\n      await apiPatch(`/api/cases/${caseId}/enrichment/judge`, {\n        judge_name: judgeName,\n        court: court || null\n      });\n      toast.success('שם השופט עודכן');\n      setShowEditModal(false);\n      onJudgeUpdated?.(judgeName);\n      // Refresh to get new enrichment status\n      fetchEnrichment();\n    } catch (err: any) {\n      console.error('Update judge error:', err);\n      toast.error(err.message || 'שגיאה בעדכון שופט');\n    }\n  }, [caseId, fetchEnrichment, onJudgeUpdated]);\n\n  // =============================================================================\n  // Render States\n  // =============================================================================\n\n  if (loading) {\n    return (\n      <div className=\"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded-lg flex items-center gap-3\" dir=\"rtl\">\n        <Loader2 className=\"h-5 w-5 text-blue-400 animate-spin\" />\n        <span className=\"text-slate-300\">בודק נתוני שופט...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-center justify-between\" dir=\"rtl\">\n        <div className=\"flex items-center gap-3\">\n          <AlertTriangle className=\"h-5 w-5 text-red-400\" />\n          <span className=\"text-red-300\">{error}</span>\n        </div>\n        <button\n          onClick={fetchEnrichment}\n          className=\"text-sm px-3 py-1 text-red-300 border border-red-500/50 rounded hover:bg-red-500/20\"\n        >\n          נסה שוב\n        </button>\n      </div>\n    );\n  }\n\n  if (!data) return null;\n\n  // =============================================================================\n  // Missing Judge State\n  // =============================================================================\n\n  if (data.status === 'missing_judge') {\n    return (\n      <>\n        <div className=\"mb-4 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl flex items-center justify-between\" dir=\"rtl\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-amber-500/20 rounded-lg\">\n              <Scale className=\"h-6 w-6 text-amber-400\" />\n            </div>\n            <div>\n              <h4 className=\"text-amber-200 font-semibold\">{data.message || 'לא זוהה שופט'}</h4>\n              <p className=\"text-amber-300/70 text-sm\">{data.cta_he || 'זהה מהמסמך או הזן ידנית'}</p>\n            </div>\n          </div>\n          <button\n            onClick={() => setShowEditModal(true)}\n            className=\"px-4 py-2 bg-amber-500 text-white rounded-lg font-semibold hover:bg-amber-600 transition-colors flex items-center gap-2\"\n          >\n            <Edit2 className=\"h-4 w-4\" />\n            הזן שופט\n          </button>\n        </div>\n\n        {showEditModal && (\n          <EditJudgeModal\n            currentJudge={null}\n            currentCourt={null}\n            onSave={handleUpdateJudge}\n            onClose={() => setShowEditModal(false)}\n          />\n        )}\n      </>\n    );\n  }\n\n  // =============================================================================\n  // Insufficient Data State\n  // =============================================================================\n\n  if (data.status === 'insufficient_data') {\n    return (\n      <>\n        <div className=\"mb-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl flex items-center justify-between\" dir=\"rtl\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-blue-500/20 rounded-lg\">\n              <Scale className=\"h-6 w-6 text-blue-400\" />\n            </div>\n            <div>\n              <h4 className=\"text-blue-200 font-semibold\">\n                שופט/ת: {data.judge_name}\n                {data.court && <span className=\"text-blue-300/70 font-normal\"> • {data.court}</span>}\n              </h4>\n              <p className=\"text-blue-300/70 text-sm\">\n                {data.message || `נמצאו רק ${data.sample_size} פסקי דין בקורפוס`}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded-full border border-blue-500/30\">\n              {data.sample_size} פסקי דין\n            </span>\n            <button\n              onClick={() => setShowEditModal(true)}\n              className=\"text-blue-400 hover:text-blue-300 p-2\"\n              title=\"עדכן שופט\"\n            >\n              <Edit2 className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n\n        {showEditModal && (\n          <EditJudgeModal\n            currentJudge={data.judge_name || null}\n            currentCourt={data.court || null}\n            onSave={handleUpdateJudge}\n            onClose={() => setShowEditModal(false)}\n          />\n        )}\n      </>\n    );\n  }\n\n  // =============================================================================\n  // Ready State - Full Judge Analytics\n  // =============================================================================\n\n  if (data.status === 'ready' && data.judge_profile) {\n    const profile = data.judge_profile;\n    const outcomes = profile.outcome_distribution || {};\n    const totalOutcomes = (outcomes.accepted || 0) + (outcomes.rejected || 0) + (outcomes.partial || 0) + (outcomes.settled || 0);\n\n    return (\n      <>\n        <div className=\"mb-4 bg-gradient-to-br from-emerald-500/10 to-blue-500/10 border border-emerald-500/30 rounded-xl overflow-hidden\" dir=\"rtl\">\n          {/* Header - Always visible */}\n          <button\n            onClick={() => setExpanded(!expanded)}\n            className=\"w-full p-4 flex items-center justify-between hover:bg-white/5 transition-colors\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 bg-emerald-500/20 rounded-lg\">\n                <Scale className=\"h-6 w-6 text-emerald-400\" />\n              </div>\n              <div className=\"text-right\">\n                <h4 className=\"text-emerald-200 font-semibold flex items-center gap-2\">\n                  <CheckCircle className=\"h-4 w-4\" />\n                  שופט/ת: {data.judge_name}\n                  {data.court && <span className=\"text-emerald-300/70 font-normal\"> • {data.court}</span>}\n                </h4>\n                <p className=\"text-emerald-300/70 text-sm\">\n                  {data.message || `ניתוח מבוסס על ${data.sample_size} פסקי דין`}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <span className=\"px-3 py-1 bg-emerald-500/20 text-emerald-300 text-sm rounded-full border border-emerald-500/30\">\n                {data.sample_size} פסקי דין\n              </span>\n              <span className={`text-emerald-400 transition-transform ${expanded ? 'rotate-180' : ''}`}>\n                ▼\n              </span>\n            </div>\n          </button>\n\n          {/* Expanded Content */}\n          {expanded && (\n            <div className=\"p-4 pt-0 border-t border-emerald-500/20\">\n              {/* Outcome Distribution */}\n              {totalOutcomes > 0 && (\n                <div className=\"mb-4\">\n                  <h5 className=\"text-white/80 text-sm font-semibold mb-2 flex items-center gap-2\">\n                    <BarChart3 className=\"h-4 w-4\" />\n                    התפלגות תוצאות\n                  </h5>\n                  <div className=\"grid grid-cols-4 gap-2\">\n                    {outcomes.accepted !== undefined && outcomes.accepted > 0 && (\n                      <div className=\"bg-green-500/20 border border-green-500/30 rounded-lg p-3 text-center\">\n                        <div className=\"text-2xl font-bold text-green-300\">{outcomes.accepted}</div>\n                        <div className=\"text-xs text-green-400\">התקבלו</div>\n                        <div className=\"text-xs text-green-300/50\">\n                          {Math.round((outcomes.accepted / totalOutcomes) * 100)}%\n                        </div>\n                      </div>\n                    )}\n                    {outcomes.rejected !== undefined && outcomes.rejected > 0 && (\n                      <div className=\"bg-red-500/20 border border-red-500/30 rounded-lg p-3 text-center\">\n                        <div className=\"text-2xl font-bold text-red-300\">{outcomes.rejected}</div>\n                        <div className=\"text-xs text-red-400\">נדחו</div>\n                        <div className=\"text-xs text-red-300/50\">\n                          {Math.round((outcomes.rejected / totalOutcomes) * 100)}%\n                        </div>\n                      </div>\n                    )}\n                    {outcomes.partial !== undefined && outcomes.partial > 0 && (\n                      <div className=\"bg-amber-500/20 border border-amber-500/30 rounded-lg p-3 text-center\">\n                        <div className=\"text-2xl font-bold text-amber-300\">{outcomes.partial}</div>\n                        <div className=\"text-xs text-amber-400\">חלקי</div>\n                        <div className=\"text-xs text-amber-300/50\">\n                          {Math.round((outcomes.partial / totalOutcomes) * 100)}%\n                        </div>\n                      </div>\n                    )}\n                    {outcomes.settled !== undefined && outcomes.settled > 0 && (\n                      <div className=\"bg-purple-500/20 border border-purple-500/30 rounded-lg p-3 text-center\">\n                        <div className=\"text-2xl font-bold text-purple-300\">{outcomes.settled}</div>\n                        <div className=\"text-xs text-purple-400\">פשרה</div>\n                        <div className=\"text-xs text-purple-300/50\">\n                          {Math.round((outcomes.settled / totalOutcomes) * 100)}%\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Top Topics */}\n              {profile.top_topics && profile.top_topics.length > 0 && (\n                <div className=\"mb-4\">\n                  <h5 className=\"text-white/80 text-sm font-semibold mb-2 flex items-center gap-2\">\n                    <TrendingUp className=\"h-4 w-4\" />\n                    נושאים מובילים\n                  </h5>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {profile.top_topics.slice(0, 5).map((topic, i) => (\n                      <span\n                        key={i}\n                        className=\"px-3 py-1 bg-white/10 text-white/80 text-sm rounded-full border border-white/10\"\n                      >\n                        {topic.topic} ({topic.count})\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Date Range */}\n              {profile.date_range && (profile.date_range.from || profile.date_range.to) && (\n                <div className=\"flex items-center gap-2 text-white/60 text-sm\">\n                  <Calendar className=\"h-4 w-4\" />\n                  <span>\n                    טווח תאריכים: {profile.date_range.from || '?'} עד {profile.date_range.to || 'היום'}\n                  </span>\n                </div>\n              )}\n\n              {/* Disclaimer */}\n              {data.disclaimer && (\n                <div className=\"mt-3 p-2 bg-white/5 rounded-lg text-xs text-white/50 border border-white/10\">\n                  {data.disclaimer}\n                </div>\n              )}\n\n              {/* Edit Button */}\n              <div className=\"mt-3 flex justify-end\">\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setShowEditModal(true);\n                  }}\n                  className=\"text-sm text-emerald-400 hover:text-emerald-300 flex items-center gap-1\"\n                >\n                  <Edit2 className=\"h-3 w-3\" />\n                  עדכן שופט\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {showEditModal && (\n          <EditJudgeModal\n            currentJudge={data.judge_name || null}\n            currentCourt={data.court || null}\n            onSave={handleUpdateJudge}\n            onClose={() => setShowEditModal(false)}\n          />\n        )}\n      </>\n    );\n  }\n\n  return null;\n};\n\n// =============================================================================\n// Edit Judge Modal\n// =============================================================================\n\ninterface EditJudgeModalProps {\n  currentJudge: string | null;\n  currentCourt: string | null;\n  onSave: (judgeName: string, court?: string) => void;\n  onClose: () => void;\n}\n\nconst EditJudgeModal: React.FC<EditJudgeModalProps> = ({\n  currentJudge,\n  currentCourt,\n  onSave,\n  onClose\n}) => {\n  const [judgeName, setJudgeName] = useState(currentJudge || '');\n  const [court, setCourt] = useState(currentCourt || '');\n  const [saving, setSaving] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!judgeName.trim()) {\n      toast.error('נא להזין שם שופט');\n      return;\n    }\n    setSaving(true);\n    await onSave(judgeName.trim(), court.trim() || undefined);\n    setSaving(false);\n  };\n\n  const COURTS = [\n    'בית המשפט העליון',\n    'מחוזי תל אביב',\n    'מחוזי ירושלים',\n    'מחוזי חיפה',\n    'מחוזי באר שבע',\n    'מחוזי מרכז',\n    'מחוזי נצרת',\n    'שלום תל אביב',\n    'שלום ירושלים',\n    'שלום חיפה',\n    'שלום באר שבע',\n    'בית הדין לעבודה',\n    'בית דין רבני',\n    'אחר'\n  ];\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50\" onClick={onClose}>\n      <div\n        className=\"bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl border border-white/20 shadow-2xl p-6 w-96 max-w-full\"\n        onClick={(e) => e.stopPropagation()}\n        dir=\"rtl\"\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\n            <Scale className=\"h-5 w-5 text-emerald-400\" />\n            הזנת שופט\n          </h3>\n          <button onClick={onClose} className=\"text-white/50 hover:text-white\">\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-white/80 text-sm font-medium mb-1\">שם השופט/ת</label>\n            <input\n              type=\"text\"\n              value={judgeName}\n              onChange={(e) => setJudgeName(e.target.value)}\n              placeholder=\"לדוגמה: דוד כהן\"\n              className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n              autoFocus\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-white/80 text-sm font-medium mb-1\">בית משפט (אופציונלי)</label>\n            <select\n              value={court}\n              onChange={(e) => setCourt(e.target.value)}\n              className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n            >\n              <option value=\"\" className=\"bg-slate-800\">בחר בית משפט...</option>\n              {COURTS.map((c) => (\n                <option key={c} value={c} className=\"bg-slate-800\">{c}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"flex gap-3 pt-2\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-3 bg-white/10 text-white rounded-xl hover:bg-white/20 transition-colors font-medium\"\n            >\n              ביטול\n            </button>\n            <button\n              type=\"submit\"\n              disabled={saving || !judgeName.trim()}\n              className=\"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n            >\n              {saving ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  שומר...\n                </>\n              ) : (\n                'שמור'\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default JudgeEnrichmentBanner;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n"],"names":["JudgeEnrichmentBanner","_ref","caseId","onJudgeUpdated","loading","setLoading","useState","data","setData","error","setError","showEditModal","setShowEditModal","expanded","setExpanded","fetchEnrichment","useCallback","async","result","apiGet","concat","showErrorToast","err","console","message","useEffect","handleUpdateJudge","judgeName","court","apiPatch","judge_name","toast","success","_jsxs","className","dir","children","_jsx","Loader2","AlertTriangle","onClick","status","_Fragment","Scale","cta_he","Edit2","EditJudgeModal","currentJudge","currentCourt","onSave","onClose","sample_size","title","judge_profile","profile","outcomes","outcome_distribution","totalOutcomes","accepted","rejected","partial","settled","CheckCircle","BarChart3","undefined","Math","round","top_topics","length","TrendingUp","slice","map","topic","i","count","date_range","from","to","Calendar","disclaimer","e","stopPropagation","_ref2","setJudgeName","setCourt","saving","setSaving","X","onSubmit","preventDefault","trim","type","value","onChange","target","placeholder","autoFocus","c","disabled","Pen","createLucideIcon","d","key"],"ignoreList":[],"sourceRoot":""}