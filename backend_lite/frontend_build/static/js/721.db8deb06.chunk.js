/*! For license information please see 721.db8deb06.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[721],{721:(e,s,t)=>{t.r(s),t.d(s,{IntelligencePage:()=>z,default:()=>_});var l=t(5043),i=t(7819),r=t(6833),n=t(2024),a=t(7719),o=t(5692),c=t(6382),d=t(8326),x=t(5088),m=t(2911),h=t(1161),p=t(4669),g=t(4968),b=t(516),u=t(8012),j=t(3165),v=t(6328),f=t(4558),N=t(9688),y=t(579);const w={intelligence:{icon:(0,y.jsx)(c.A,{size:28}),label:"\u05d0\u05d9\u05e0\u05d8\u05dc\u05d9\u05d2\u05e0\u05e1",description:"\u05de\u05d5\u05d3\u05d9\u05e2\u05d9\u05df \u05d5\u05e0\u05d9\u05ea\u05d5\u05d7 \u05de\u05d9\u05d3\u05e2 \u05de\u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd",color:"purple"},counsel:{icon:(0,y.jsx)(u.A,{size:28}),label:'\u05e2\u05d5"\u05d3 \u05d9\u05e8\u05d9\u05d1',description:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05d4\u05e6\u05d3 \u05d4\u05e9\u05e0\u05d9 \u05d5\u05d4\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4 \u05e9\u05dc\u05d5",color:"red"},overview:{icon:(0,y.jsx)(m.A,{size:28}),label:"\u05e1\u05e7\u05d9\u05e8\u05d4",description:"\u05e1\u05e7\u05d9\u05e8\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7",color:"blue"},strategy:{icon:(0,y.jsx)(j.A,{size:28}),label:"\u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d4",description:"\u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05d0\u05e1\u05d8\u05e8\u05d8\u05d2\u05d9\u05d5\u05ea \u05dc\u05e0\u05d9\u05d4\u05d5\u05dc \u05d4\u05ea\u05d9\u05e7",color:"green"},risk:{icon:(0,y.jsx)(a.A,{size:28}),label:"\u05e1\u05d9\u05db\u05d5\u05df",description:"\u05d4\u05e2\u05e8\u05db\u05ea \u05e1\u05d9\u05db\u05d5\u05e0\u05d9\u05dd \u05d5\u05e4\u05d2\u05d9\u05e2\u05d5\u05d9\u05d5\u05ea",color:"orange"},forensic:{icon:(0,y.jsx)(g.A,{size:28}),label:"\u05e4\u05d5\u05e8\u05e0\u05d6\u05d9",description:"\u05e0\u05d9\u05ea\u05d5\u05d7 \u05e4\u05d5\u05e8\u05e0\u05d6\u05d9 \u05de\u05e2\u05de\u05d9\u05e7 \u05e9\u05dc \u05d4\u05de\u05e1\u05de\u05db\u05d9\u05dd",color:"cyan"}},k=e=>{switch(e){case"high":return"bg-red-500/20 text-red-300 border-red-500/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"low":return"bg-green-500/20 text-green-300 border-green-500/30";default:return"bg-blue-500/20 text-blue-300 border-blue-500/30"}},A=e=>{switch(e){case"high":return"border-red-500/50 bg-red-500/10";case"medium":return"border-yellow-500/50 bg-yellow-500/10";case"low":return"border-green-500/50 bg-green-500/10";default:return"border-blue-500/50 bg-blue-500/10"}},z=e=>{let{caseId:s,pageType:t,onNavigateToChat:a}=e;const[c,m]=(0,l.useState)(null),[g,u]=(0,l.useState)(!0),[z,_]=(0,l.useState)(null),C=w[t],M=async()=>{u(!0),_(null);try{const e=await(0,N.v$)("".concat(f.J,"/api/cases/").concat(s,"/intelligence-pages/").concat(t));if(!e.ok)throw new Error("Failed to load page data");const l=await e.json();m(l)}catch(e){console.error("Error loading intelligence page:",e),_("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d4\u05d3\u05e3")}finally{u(!1)}};(0,l.useEffect)(()=>{M()},[s,t]);if(g)return(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,y.jsx)(n.A,{className:"animate-spin text-blue-400 mb-4",size:48}),(0,y.jsxs)("p",{className:"text-slate-400",children:["\u05d8\u05d5\u05e2\u05df \u05d0\u05ea \u05d3\u05e3 \u05d4",C.label,"..."]})]});if(z)return(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,y.jsx)(i.A,{className:"text-red-400 mb-4",size:48}),(0,y.jsx)("p",{className:"text-red-400 mb-4",children:z}),(0,y.jsxs)("button",{onClick:M,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2",children:[(0,y.jsx)(b.A,{size:16}),"\u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"]})]});const S=(null===c||void 0===c?void 0:c.summary)||(null===c||void 0===c?void 0:c.key_findings)&&c.key_findings.length>0||(null===c||void 0===c?void 0:c.recommendations)&&c.recommendations.length>0;return(0,y.jsxs)("div",{className:"p-6 space-y-6",children:[(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4",children:[(0,y.jsx)("div",{className:"p-4 rounded-xl bg-gradient-to-br from-".concat(C.color,"-500/20 to-").concat(C.color,"-600/20 border border-").concat(C.color,"-500/30"),children:(0,y.jsx)("div",{className:"text-".concat(C.color,"-400"),children:C.icon})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-2xl font-bold text-white",children:C.label}),(0,y.jsx)("p",{className:"text-slate-400",children:C.description})]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-3",children:[(null===c||void 0===c?void 0:c.updated_at)&&(0,y.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[(0,y.jsx)(x.A,{size:14}),(0,y.jsxs)("span",{children:["\u05e2\u05d5\u05d3\u05db\u05df: ",new Date(c.updated_at).toLocaleDateString("he-IL")]})]}),(0,y.jsx)("button",{onClick:M,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",title:"\u05e8\u05e2\u05e0\u05df",children:(0,y.jsx)(b.A,{size:18})})]})]}),S?(0,y.jsxs)(y.Fragment,{children:[(null===c||void 0===c?void 0:c.summary)&&(0,y.jsxs)("div",{className:"bg-gradient-to-r from-".concat(C.color,"-900/30 to-").concat(C.color,"-800/20 rounded-xl border border-").concat(C.color,"-500/30 p-6"),children:[(0,y.jsxs)("h2",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:[(0,y.jsx)(h.A,{className:"text-".concat(C.color,"-400"),size:20}),"\u05ea\u05e7\u05e6\u05d9\u05e8"]}),(0,y.jsx)("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:c.summary})]}),(null===c||void 0===c?void 0:c.key_findings)&&c.key_findings.length>0&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,y.jsx)(r.A,{className:"text-green-400",size:20}),"\u05de\u05de\u05e6\u05d0\u05d9\u05dd \u05de\u05e8\u05db\u05d6\u05d9\u05d9\u05dd (",c.key_findings.length,")"]}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.key_findings.map((e,s)=>(0,y.jsx)("div",{className:"bg-white/5 rounded-xl border p-5 hover:bg-white/10 transition-all ".concat(k(e.severity)),children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsx)("div",{className:"mt-1",children:(0,y.jsx)(i.A,{size:18})}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("h3",{className:"font-bold text-white mb-2",children:e.title}),(0,y.jsx)("p",{className:"text-slate-300 text-sm",children:e.description}),e.source&&(0,y.jsxs)("p",{className:"text-slate-500 text-xs mt-2",children:["\u05de\u05e7\u05d5\u05e8: ",e.source]})]})]})},e.id||s))})]}),(null===c||void 0===c?void 0:c.recommendations)&&c.recommendations.length>0&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,y.jsx)(j.A,{className:"text-blue-400",size:20}),"\u05d4\u05de\u05dc\u05e6\u05d5\u05ea (",c.recommendations.length,")"]}),(0,y.jsx)("div",{className:"space-y-3",children:c.recommendations.map((e,s)=>(0,y.jsx)("div",{className:"bg-white/5 rounded-xl border p-5 hover:bg-white/10 transition-all ".concat(A(e.priority)),children:(0,y.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("h3",{className:"font-bold text-white mb-2",children:e.title}),(0,y.jsx)("p",{className:"text-slate-300 text-sm",children:e.description}),e.action&&(0,y.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-sm text-blue-400",children:[(0,y.jsx)(o.A,{size:14}),(0,y.jsx)("span",{children:e.action})]})]}),e.priority&&(0,y.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat("high"===e.priority?"bg-red-500/20 text-red-300":"medium"===e.priority?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"),children:"high"===e.priority?"\u05d2\u05d1\u05d5\u05d4\u05d4":"medium"===e.priority?"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9\u05ea":"\u05e0\u05de\u05d5\u05db\u05d4"})]})},e.id||s))})]}),(null===c||void 0===c?void 0:c.expansion_points)&&c.expansion_points.length>0&&(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,y.jsx)(p.A,{className:"text-purple-400",size:20}),"\u05e9\u05d0\u05dc\u05d5\u05ea \u05dc\u05d4\u05e2\u05de\u05e7\u05d4 (",c.expansion_points.length,")"]}),(0,y.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.expansion_points.map((e,s)=>(0,y.jsx)("button",{onClick:()=>(e=>{const s=e.suggestedPrompt||e.question;a&&a(s),v.oR.info("\u05de\u05e2\u05d1\u05e8 \u05dc\u05e6'\u05d0\u05d8 \u05e2\u05dd \u05d4\u05e9\u05d0\u05dc\u05d4: \"".concat(s.slice(0,50),'..."'))})(e),className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/30 p-4 text-right hover:from-purple-500/20 hover:to-pink-500/20 transition-all group",children:(0,y.jsxs)("div",{className:"flex items-start gap-3",children:[(0,y.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20 group-hover:bg-purple-500/30 transition-all",children:(0,y.jsx)(d.A,{size:16,className:"text-purple-400 group-hover:translate-x-1 transition-transform"})}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("p",{className:"font-medium text-white",children:e.question}),e.context&&(0,y.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:e.context})]})]})},e.id||s))})]}),(null===c||void 0===c?void 0:c.contributing_sessions)&&c.contributing_sessions.length>0&&(0,y.jsx)("div",{className:"bg-white/5 rounded-xl border border-white/10 p-4",children:(0,y.jsxs)("p",{className:"text-sm text-slate-500",children:["\u05de\u05e7\u05d5\u05e8\u05d5\u05ea: ",c.contributing_sessions.length," \u05e9\u05d9\u05d7\u05d5\u05ea \u05ea\u05e8\u05de\u05d5 \u05dc\u05d3\u05e3 \u05d6\u05d4",c.version>1&&" \u2022 \u05d2\u05e8\u05e1\u05d4 ".concat(c.version)]})})]}):(0,y.jsxs)("div",{className:"text-center py-16 bg-white/5 rounded-2xl border border-white/10",children:[(0,y.jsx)("div",{className:"mx-auto mb-6 p-6 rounded-full bg-".concat(C.color,"-500/10 w-fit"),children:(0,y.jsx)("div",{className:"text-".concat(C.color,"-400"),children:C.icon})}),(0,y.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"\u05e2\u05d3\u05d9\u05d9\u05df \u05d0\u05d9\u05df \u05ea\u05d5\u05db\u05df \u05d1\u05d3\u05e3 \u05d6\u05d4"}),(0,y.jsxs)("p",{className:"text-slate-400 mb-6 max-w-md mx-auto",children:["\u05ea\u05d5\u05db\u05df \u05d3\u05e3 \u05d4",C.label," \u05d9\u05ea\u05e2\u05d3\u05db\u05df \u05d0\u05d5\u05d8\u05d5\u05de\u05d8\u05d9\u05ea \u05db\u05e9\u05ea\u05e0\u05d4\u05dc \u05e9\u05d9\u05d7\u05d5\u05ea \u05e2\u05dd \u05d9\u05ea\u05e8\u05d5 \u05d1\u05e0\u05d5\u05e9\u05d0 \u05d6\u05d4"]}),(0,y.jsxs)("button",{onClick:()=>a&&a("\u05e1\u05e4\u05e8 \u05dc\u05d9 \u05e2\u05dc ".concat(C.label," \u05e9\u05dc \u05d4\u05ea\u05d9\u05e7")),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all inline-flex items-center gap-2",children:[(0,y.jsx)(p.A,{size:20}),"\u05d4\u05ea\u05d7\u05dc \u05e9\u05d9\u05d7\u05d4"]})]})]})},_=z},4968:(e,s,t)=>{t.d(s,{A:()=>l});const l=(0,t(7784).A)("microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]])}}]);
//# sourceMappingURL=721.db8deb06.chunk.js.map