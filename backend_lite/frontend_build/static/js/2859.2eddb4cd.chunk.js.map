{"version":3,"file":"static/js/2859.2eddb4cd.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/credit-card.ts","components/DeepAnalysis.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' }],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n];\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('credit-card', __iconNode);\n\nexport default CreditCard;\n","/**\n * DeepAnalysis - ניתוח עומק מתקדם\n *\n * תמחור:\n * - Basic: 100 עמודים = $59\n * - Pro: 250 עמודים = $119\n * - Enterprise: 1000 עמודים = $750\n */\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport {\n  Search, Brain, Scale, AlertTriangle,\n  Loader2, Lock, CheckCircle, ChevronDown, ChevronUp,\n  Target, Users, FileText, Zap,\n  CreditCard, Sparkles, BarChart3, TrendingUp\n} from 'lucide-react';\nimport { API_BASE_URL } from '../config';\nimport { fetchWithAuth } from '../utils/api';\n\ninterface DeepAnalysisProps {\n  caseId?: string;\n}\n\ninterface PricingTier {\n  sources: number;\n  price_usd: number;\n  price_ils: number;\n  label: string;\n  description: string;\n}\n\ninterface AnalysisResult {\n  success: boolean;\n  analysis_id?: string;\n  tier?: string;\n  sources_analyzed?: number;\n  contradictions?: any[];\n  weaknesses?: any[];\n  strengths?: any[];\n  judge_tendencies?: any;\n  lawyer_performance?: any;\n  argument_statistics?: any;\n  recommendations?: string[];\n  cross_examination_questions?: string[];\n  analyzed_at?: string;\n  message?: string;\n}\n\nconst TIER_ICONS: Record<string, React.ReactNode> = {\n  basic: <Zap size={20} />,\n  pro: <Sparkles size={20} />,\n  enterprise: <Brain size={20} />\n};\n\nconst TIER_COLORS: Record<string, string> = {\n  basic: 'from-blue-600 to-blue-700',\n  pro: 'from-purple-600 to-purple-700',\n  enterprise: 'from-amber-600 to-amber-700'\n};\n\nexport const DeepAnalysis: React.FC<DeepAnalysisProps> = ({ caseId }) => {\n  const [pricing, setPricing] = useState<Record<string, PricingTier>>({});\n  const [selectedTier, setSelectedTier] = useState<string>('basic');\n  const [loading, setLoading] = useState(false);\n  const [analyzing, setAnalyzing] = useState(false);\n  const [result, setResult] = useState<AnalysisResult | null>(null);\n  const [expandedSection, setExpandedSection] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // טעינת מחירון\n  useEffect(() => {\n    loadPricing();\n  }, []);\n\n  const loadPricing = async () => {\n    try {\n      const response = await fetchWithAuth(`${API_BASE_URL}/api/deep-analysis/pricing`);\n      if (response.ok) {\n        const data = await response.json();\n        setPricing(data.tiers || {});\n      }\n    } catch (err) {\n      console.error('Failed to load pricing:', err);\n    }\n  };\n\n  // הפעלת תשלום ומעבר ל-Stripe\n  const handlePayAndAnalyze = useCallback(async () => {\n    if (!caseId) return;\n\n    setAnalyzing(true);\n    setError(null);\n\n    try {\n      // יצירת Stripe checkout session\n      const response = await fetchWithAuth(`${API_BASE_URL}/api/payments/deep-analysis/checkout`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          case_id: caseId,\n          tier: selectedTier\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        // מעבר לדף התשלום של Stripe\n        window.location.href = data.url;\n      } else {\n        const error = await response.json();\n        setError(error.detail || 'שגיאה ביצירת תשלום');\n        setAnalyzing(false);\n      }\n    } catch (err) {\n      setError('שגיאת רשת');\n      setAnalyzing(false);\n    }\n  }, [caseId, selectedTier]);\n\n  // הפעלת ניתוח (לאחר תשלום)\n  const handleAnalyze = useCallback(async () => {\n    if (!caseId) return;\n\n    setAnalyzing(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const response = await fetchWithAuth(`${API_BASE_URL}/api/deep-analysis/analyze`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          case_id: caseId,\n          tier: selectedTier\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setResult(data);\n      } else if (response.status === 402) {\n        // Payment required - redirect to checkout\n        handlePayAndAnalyze();\n        return;\n      } else {\n        setError('שגיאה בניתוח');\n      }\n    } catch (err) {\n      setError('שגיאת רשת');\n    } finally {\n      setAnalyzing(false);\n    }\n  }, [caseId, selectedTier, handlePayAndAnalyze]);\n\n  const toggleSection = (section: string) => {\n    setExpandedSection(expandedSection === section ? null : section);\n  };\n\n  const tierConfig = pricing[selectedTier];\n\n  return (\n    <div className=\"bg-gray-900 rounded-lg border border-gray-700 overflow-hidden\">\n      {/* כותרת */}\n      <div className=\"bg-gradient-to-r from-purple-900/50 to-blue-900/50 p-4 border-b border-gray-700\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 bg-purple-500/20 rounded-lg\">\n            <Brain className=\"text-purple-400\" size={24} />\n          </div>\n          <div>\n            <h2 className=\"text-lg font-bold text-white\">ניתוח עומק מתקדם</h2>\n            <p className=\"text-sm text-gray-400\">\n              ניתוח AI מקיף של התיק שלך\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* בחירת חבילה */}\n      <div className=\"p-4 border-b border-gray-700\">\n        <h3 className=\"text-sm font-medium text-gray-400 mb-3\">בחר חבילת ניתוח:</h3>\n        <div className=\"grid grid-cols-3 gap-2\">\n          {Object.entries(pricing).map(([key, tier]) => (\n            <button\n              key={key}\n              onClick={() => setSelectedTier(key)}\n              className={`p-3 rounded-lg border transition-all ${\n                selectedTier === key\n                  ? `bg-gradient-to-r ${TIER_COLORS[key]} border-transparent text-white`\n                  : 'bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-600'\n              }`}\n            >\n              <div className=\"flex items-center justify-center gap-2 mb-1\">\n                {TIER_ICONS[key]}\n                <span className=\"font-medium\">{tier.label}</span>\n              </div>\n              <div className=\"text-lg font-bold\">${tier.price_usd}</div>\n              <div className=\"text-xs opacity-70\">{tier.sources} עמודים</div>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* מה כלול */}\n      <div className=\"p-4 border-b border-gray-700 bg-gray-800/30\">\n        <h3 className=\"text-sm font-medium text-white mb-2\">הניתוח כולל:</h3>\n        <div className=\"grid grid-cols-2 gap-2 text-sm\">\n          <div className=\"flex items-center gap-2 text-gray-400\">\n            <AlertTriangle size={14} className=\"text-orange-400\" />\n            סתירות בעדויות\n          </div>\n          <div className=\"flex items-center gap-2 text-gray-400\">\n            <Target size={14} className=\"text-green-400\" />\n            חולשות וחוזקות\n          </div>\n          <div className=\"flex items-center gap-2 text-gray-400\">\n            <Scale size={14} className=\"text-purple-400\" />\n            נטיות שופט\n          </div>\n          <div className=\"flex items-center gap-2 text-gray-400\">\n            <Users size={14} className=\"text-blue-400\" />\n            ביצועי עו\"ד\n          </div>\n          <div className=\"flex items-center gap-2 text-gray-400\">\n            <BarChart3 size={14} className=\"text-cyan-400\" />\n            סטטיסטיקות טיעונים\n          </div>\n          <div className=\"flex items-center gap-2 text-gray-400\">\n            <TrendingUp size={14} className=\"text-yellow-400\" />\n            המלצות אסטרטגיות\n          </div>\n        </div>\n      </div>\n\n      {/* כפתור הפעלה */}\n      <div className=\"p-4\">\n        <button\n          onClick={handlePayAndAnalyze}\n          disabled={analyzing || !caseId}\n          className={`w-full py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all ${\n            analyzing\n              ? 'bg-gray-700 text-gray-400 cursor-not-allowed'\n              : `bg-gradient-to-r ${TIER_COLORS[selectedTier]} text-white hover:opacity-90`\n          }`}\n        >\n          {analyzing ? (\n            <>\n              <Loader2 className=\"animate-spin\" size={20} />\n              מעבר לתשלום...\n            </>\n          ) : (\n            <>\n              <CreditCard size={20} />\n              שלם והפעל ניתוח - ${tierConfig?.price_usd || 59}\n            </>\n          )}\n        </button>\n        <p className=\"text-xs text-gray-500 text-center mt-2\">\n          תשלום מאובטח דרך Stripe\n        </p>\n      </div>\n\n      {/* תוצאות */}\n      {result?.success && (\n        <div className=\"border-t border-gray-700 divide-y divide-gray-700\">\n          {/* סיכום */}\n          <div className=\"p-4 bg-green-900/20\">\n            <div className=\"flex items-center gap-2 text-green-400 mb-2\">\n              <CheckCircle size={20} />\n              <span className=\"font-medium\">ניתוח הושלם</span>\n            </div>\n            <p className=\"text-sm text-gray-400\">\n              נותחו {result.sources_analyzed} עמודים | {result.analyzed_at}\n            </p>\n          </div>\n\n          {/* סתירות */}\n          {result.contradictions && result.contradictions.length > 0 && (\n            <div className=\"p-4\">\n              <button\n                onClick={() => toggleSection('contradictions')}\n                className=\"w-full flex items-center justify-between text-white font-medium\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <AlertTriangle className=\"text-orange-400\" size={20} />\n                  סתירות ({result.contradictions.length})\n                </div>\n                {expandedSection === 'contradictions' ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n              </button>\n              {expandedSection === 'contradictions' && (\n                <div className=\"mt-3 space-y-2\">\n                  {result.contradictions.map((c, i) => (\n                    <div key={i} className=\"p-3 bg-orange-900/20 border border-orange-800 rounded-lg\">\n                      <p className=\"text-white text-sm\">{c.description || JSON.stringify(c)}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* חולשות */}\n          {result.weaknesses && result.weaknesses.length > 0 && (\n            <div className=\"p-4\">\n              <button\n                onClick={() => toggleSection('weaknesses')}\n                className=\"w-full flex items-center justify-between text-white font-medium\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Target className=\"text-red-400\" size={20} />\n                  חולשות ({result.weaknesses.length})\n                </div>\n                {expandedSection === 'weaknesses' ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n              </button>\n              {expandedSection === 'weaknesses' && (\n                <div className=\"mt-3 space-y-2\">\n                  {result.weaknesses.map((w, i) => (\n                    <div key={i} className=\"p-3 bg-red-900/20 border border-red-800 rounded-lg\">\n                      <p className=\"text-white text-sm\">{w.description || JSON.stringify(w)}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* חוזקות */}\n          {result.strengths && result.strengths.length > 0 && (\n            <div className=\"p-4\">\n              <button\n                onClick={() => toggleSection('strengths')}\n                className=\"w-full flex items-center justify-between text-white font-medium\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"text-green-400\" size={20} />\n                  חוזקות ({result.strengths.length})\n                </div>\n                {expandedSection === 'strengths' ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n              </button>\n              {expandedSection === 'strengths' && (\n                <div className=\"mt-3 space-y-2\">\n                  {result.strengths.map((s, i) => (\n                    <div key={i} className=\"p-3 bg-green-900/20 border border-green-800 rounded-lg\">\n                      <p className=\"text-white text-sm\">{s.description || JSON.stringify(s)}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* המלצות */}\n          {result.recommendations && result.recommendations.length > 0 && (\n            <div className=\"p-4\">\n              <button\n                onClick={() => toggleSection('recommendations')}\n                className=\"w-full flex items-center justify-between text-white font-medium\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <TrendingUp className=\"text-yellow-400\" size={20} />\n                  המלצות ({result.recommendations.length})\n                </div>\n                {expandedSection === 'recommendations' ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n              </button>\n              {expandedSection === 'recommendations' && (\n                <div className=\"mt-3 space-y-2\">\n                  {result.recommendations.map((r, i) => (\n                    <div key={i} className=\"p-3 bg-yellow-900/20 border border-yellow-800 rounded-lg\">\n                      <p className=\"text-white text-sm\">{r}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* שאלות לחקירה */}\n          {result.cross_examination_questions && result.cross_examination_questions.length > 0 && (\n            <div className=\"p-4\">\n              <button\n                onClick={() => toggleSection('questions')}\n                className=\"w-full flex items-center justify-between text-white font-medium\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <FileText className=\"text-cyan-400\" size={20} />\n                  שאלות לחקירה ({result.cross_examination_questions.length})\n                </div>\n                {expandedSection === 'questions' ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n              </button>\n              {expandedSection === 'questions' && (\n                <div className=\"mt-3 space-y-2\">\n                  {result.cross_examination_questions.map((q, i) => (\n                    <div key={i} className=\"p-3 bg-cyan-900/20 border border-cyan-800 rounded-lg\">\n                      <p className=\"text-white text-sm\">{i + 1}. {q}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* שגיאה */}\n      {error && (\n        <div className=\"p-4 bg-red-900/30 border-t border-red-700 text-red-400 text-center\">\n          {error}\n        </div>\n      )}\n\n      {/* הערה */}\n      <div className=\"p-3 bg-gray-800/50 text-center border-t border-gray-700\">\n        <p className=\"text-xs text-gray-500\">\n          כל ניתוח מעשיר את מאגר המודיעין המשותף\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default DeepAnalysis;\n"],"names":["CreditCard","createLucideIcon","width","height","x","y","rx","key","x1","x2","y1","y2","TIER_ICONS","basic","_jsx","Zap","size","pro","Sparkles","enterprise","Brain","TIER_COLORS","DeepAnalysis","_ref","caseId","pricing","setPricing","useState","selectedTier","setSelectedTier","loading","setLoading","analyzing","setAnalyzing","result","setResult","expandedSection","setExpandedSection","error","setError","useEffect","loadPricing","async","response","fetchWithAuth","concat","API_BASE_URL","ok","data","json","tiers","err","console","handlePayAndAnalyze","useCallback","method","headers","body","JSON","stringify","case_id","tier","window","location","href","url","detail","toggleSection","status","section","tierConfig","_jsxs","className","children","Object","entries","map","_ref2","onClick","label","price_usd","sources","AlertTriangle","Target","Scale","Users","BarChart3","TrendingUp","disabled","_Fragment","Loader2","success","CheckCircle","sources_analyzed","analyzed_at","contradictions","length","ChevronUp","ChevronDown","c","i","description","weaknesses","w","strengths","s","recommendations","r","cross_examination_questions","FileText","q"],"ignoreList":[],"sourceRoot":""}