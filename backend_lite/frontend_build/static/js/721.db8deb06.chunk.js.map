{"version":3,"file":"static/js/721.db8deb06.chunk.js","mappings":"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","sources":["components/intelligence/IntelligencePage.tsx","../node_modules/lucide-react/src/icons/microscope.ts"],"sourcesContent":["/**\n * IntelligencePage - דף אינטליגנציה נפרד לתיק\n *\n * 6 סוגי דפים:\n * - intelligence (אינטליגנס)\n * - counsel (עו\"ד יריב)\n * - overview (סקירה)\n * - strategy (אסטרטגיה)\n * - risk (סיכון)\n * - forensic (פורנזי)\n *\n * כל דף מציג:\n * - תקציר\n * - ממצאים מרכזיים\n * - המלצות\n * - נקודות הרחבה (expansion points) שמפנות לצ'אט\n */\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  Brain, Scale, FileSearch, Target, AlertTriangle, Microscope,\n  Loader2, RefreshCw, ChevronRight, MessageSquare, Clock,\n  Lightbulb, CheckCircle2, AlertCircle, ArrowRight\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { API_BASE_URL } from '../../config';\nimport { fetchWithAuth } from '../../utils/api';\n\ntype PageType = 'intelligence' | 'counsel' | 'overview' | 'strategy' | 'risk' | 'forensic';\n\ninterface KeyFinding {\n  id?: string;\n  title: string;\n  description: string;\n  severity?: 'high' | 'medium' | 'low';\n  source?: string;\n}\n\ninterface Recommendation {\n  id?: string;\n  title: string;\n  description: string;\n  priority?: 'high' | 'medium' | 'low';\n  action?: string;\n}\n\ninterface ExpansionPoint {\n  id?: string;\n  question: string;\n  context?: string;\n  suggestedPrompt?: string;\n}\n\ninterface IntelligencePageData {\n  id: string | null;\n  case_id: string;\n  case_name: string;\n  page_type: PageType;\n  label: string;\n  summary: string | null;\n  key_findings: KeyFinding[];\n  recommendations: Recommendation[];\n  expansion_points: ExpansionPoint[];\n  content_data: Record<string, unknown>;\n  contributing_sessions: string[];\n  source_messages: Array<{ message_id: string; session_id: string; snippet: string }>;\n  version: number;\n  created_at: string | null;\n  updated_at: string | null;\n}\n\ninterface IntelligencePageProps {\n  caseId: string;\n  pageType: PageType;\n  onNavigateToChat?: (prompt?: string) => void;\n}\n\nconst PAGE_CONFIG: Record<PageType, { icon: React.ReactNode; label: string; description: string; color: string }> = {\n  intelligence: {\n    icon: <Brain size={28} />,\n    label: 'אינטליגנס',\n    description: 'מודיעין וניתוח מידע מהמסמכים',\n    color: 'purple'\n  },\n  counsel: {\n    icon: <Scale size={28} />,\n    label: 'עו\"ד יריב',\n    description: 'ניתוח הצד השני והאסטרטגיה שלו',\n    color: 'red'\n  },\n  overview: {\n    icon: <FileSearch size={28} />,\n    label: 'סקירה',\n    description: 'סקירה כללית של התיק',\n    color: 'blue'\n  },\n  strategy: {\n    icon: <Target size={28} />,\n    label: 'אסטרטגיה',\n    description: 'המלצות אסטרטגיות לניהול התיק',\n    color: 'green'\n  },\n  risk: {\n    icon: <AlertTriangle size={28} />,\n    label: 'סיכון',\n    description: 'הערכת סיכונים ופגיעויות',\n    color: 'orange'\n  },\n  forensic: {\n    icon: <Microscope size={28} />,\n    label: 'פורנזי',\n    description: 'ניתוח פורנזי מעמיק של המסמכים',\n    color: 'cyan'\n  }\n};\n\nconst getSeverityColor = (severity?: string) => {\n  switch (severity) {\n    case 'high': return 'bg-red-500/20 text-red-300 border-red-500/30';\n    case 'medium': return 'bg-yellow-500/20 text-yellow-300 border-yellow-500/30';\n    case 'low': return 'bg-green-500/20 text-green-300 border-green-500/30';\n    default: return 'bg-blue-500/20 text-blue-300 border-blue-500/30';\n  }\n};\n\nconst getPriorityColor = (priority?: string) => {\n  switch (priority) {\n    case 'high': return 'border-red-500/50 bg-red-500/10';\n    case 'medium': return 'border-yellow-500/50 bg-yellow-500/10';\n    case 'low': return 'border-green-500/50 bg-green-500/10';\n    default: return 'border-blue-500/50 bg-blue-500/10';\n  }\n};\n\nconst getPageColorClasses = (color: string) => ({\n  gradient: `from-${color}-500 to-${color}-600`,\n  border: `border-${color}-500/30`,\n  bg: `bg-${color}-500/10`,\n  text: `text-${color}-400`\n});\n\nexport const IntelligencePage: React.FC<IntelligencePageProps> = ({\n  caseId,\n  pageType,\n  onNavigateToChat\n}) => {\n  const [pageData, setPageData] = useState<IntelligencePageData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const config = PAGE_CONFIG[pageType];\n\n  const loadPageData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetchWithAuth(\n        `${API_BASE_URL}/api/cases/${caseId}/intelligence-pages/${pageType}`\n      );\n      if (!response.ok) {\n        throw new Error('Failed to load page data');\n      }\n      const data = await response.json();\n      setPageData(data);\n    } catch (err) {\n      console.error('Error loading intelligence page:', err);\n      setError('שגיאה בטעינת הדף');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadPageData();\n  }, [caseId, pageType]);\n\n  const handleExpansionClick = (point: ExpansionPoint) => {\n    const prompt = point.suggestedPrompt || point.question;\n    if (onNavigateToChat) {\n      onNavigateToChat(prompt);\n    }\n    toast.info(`מעבר לצ'אט עם השאלה: \"${prompt.slice(0, 50)}...\"`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-20\">\n        <Loader2 className=\"animate-spin text-blue-400 mb-4\" size={48} />\n        <p className=\"text-slate-400\">טוען את דף ה{config.label}...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-20\">\n        <AlertCircle className=\"text-red-400 mb-4\" size={48} />\n        <p className=\"text-red-400 mb-4\">{error}</p>\n        <button\n          onClick={loadPageData}\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2\"\n        >\n          <RefreshCw size={16} />\n          נסה שוב\n        </button>\n      </div>\n    );\n  }\n\n  const hasContent = pageData?.summary ||\n    (pageData?.key_findings && pageData.key_findings.length > 0) ||\n    (pageData?.recommendations && pageData.recommendations.length > 0);\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <div className={`p-4 rounded-xl bg-gradient-to-br from-${config.color}-500/20 to-${config.color}-600/20 border border-${config.color}-500/30`}>\n            <div className={`text-${config.color}-400`}>{config.icon}</div>\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-white\">{config.label}</h1>\n            <p className=\"text-slate-400\">{config.description}</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          {pageData?.updated_at && (\n            <div className=\"flex items-center gap-2 text-sm text-slate-500\">\n              <Clock size={14} />\n              <span>עודכן: {new Date(pageData.updated_at).toLocaleDateString('he-IL')}</span>\n            </div>\n          )}\n          <button\n            onClick={loadPageData}\n            className=\"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all\"\n            title=\"רענן\"\n          >\n            <RefreshCw size={18} />\n          </button>\n        </div>\n      </div>\n\n      {!hasContent ? (\n        /* Empty State */\n        <div className=\"text-center py-16 bg-white/5 rounded-2xl border border-white/10\">\n          <div className={`mx-auto mb-6 p-6 rounded-full bg-${config.color}-500/10 w-fit`}>\n            <div className={`text-${config.color}-400`}>{config.icon}</div>\n          </div>\n          <h3 className=\"text-xl font-bold text-white mb-3\">עדיין אין תוכן בדף זה</h3>\n          <p className=\"text-slate-400 mb-6 max-w-md mx-auto\">\n            תוכן דף ה{config.label} יתעדכן אוטומטית כשתנהל שיחות עם יתרו בנושא זה\n          </p>\n          <button\n            onClick={() => onNavigateToChat && onNavigateToChat(`ספר לי על ${config.label} של התיק`)}\n            className=\"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:from-purple-700 hover:to-pink-700 transition-all inline-flex items-center gap-2\"\n          >\n            <MessageSquare size={20} />\n            התחל שיחה\n          </button>\n        </div>\n      ) : (\n        <>\n          {/* Summary */}\n          {pageData?.summary && (\n            <div className={`bg-gradient-to-r from-${config.color}-900/30 to-${config.color}-800/20 rounded-xl border border-${config.color}-500/30 p-6`}>\n              <h2 className=\"text-lg font-bold text-white mb-3 flex items-center gap-2\">\n                <Lightbulb className={`text-${config.color}-400`} size={20} />\n                תקציר\n              </h2>\n              <p className=\"text-slate-300 leading-relaxed whitespace-pre-wrap\">{pageData.summary}</p>\n            </div>\n          )}\n\n          {/* Key Findings */}\n          {pageData?.key_findings && pageData.key_findings.length > 0 && (\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                <CheckCircle2 className=\"text-green-400\" size={20} />\n                ממצאים מרכזיים ({pageData.key_findings.length})\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {pageData.key_findings.map((finding, index) => (\n                  <div\n                    key={finding.id || index}\n                    className={`bg-white/5 rounded-xl border p-5 hover:bg-white/10 transition-all ${getSeverityColor(finding.severity)}`}\n                  >\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"mt-1\">\n                        <AlertCircle size={18} />\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-bold text-white mb-2\">{finding.title}</h3>\n                        <p className=\"text-slate-300 text-sm\">{finding.description}</p>\n                        {finding.source && (\n                          <p className=\"text-slate-500 text-xs mt-2\">מקור: {finding.source}</p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Recommendations */}\n          {pageData?.recommendations && pageData.recommendations.length > 0 && (\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                <Target className=\"text-blue-400\" size={20} />\n                המלצות ({pageData.recommendations.length})\n              </h2>\n              <div className=\"space-y-3\">\n                {pageData.recommendations.map((rec, index) => (\n                  <div\n                    key={rec.id || index}\n                    className={`bg-white/5 rounded-xl border p-5 hover:bg-white/10 transition-all ${getPriorityColor(rec.priority)}`}\n                  >\n                    <div className=\"flex items-start justify-between gap-4\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-bold text-white mb-2\">{rec.title}</h3>\n                        <p className=\"text-slate-300 text-sm\">{rec.description}</p>\n                        {rec.action && (\n                          <div className=\"mt-3 flex items-center gap-2 text-sm text-blue-400\">\n                            <ArrowRight size={14} />\n                            <span>{rec.action}</span>\n                          </div>\n                        )}\n                      </div>\n                      {rec.priority && (\n                        <span className={`px-2 py-1 rounded text-xs font-bold ${\n                          rec.priority === 'high' ? 'bg-red-500/20 text-red-300' :\n                          rec.priority === 'medium' ? 'bg-yellow-500/20 text-yellow-300' :\n                          'bg-green-500/20 text-green-300'\n                        }`}>\n                          {rec.priority === 'high' ? 'גבוהה' : rec.priority === 'medium' ? 'בינונית' : 'נמוכה'}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Expansion Points */}\n          {pageData?.expansion_points && pageData.expansion_points.length > 0 && (\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                <MessageSquare className=\"text-purple-400\" size={20} />\n                שאלות להעמקה ({pageData.expansion_points.length})\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                {pageData.expansion_points.map((point, index) => (\n                  <button\n                    key={point.id || index}\n                    onClick={() => handleExpansionClick(point)}\n                    className=\"bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-500/30 p-4 text-right hover:from-purple-500/20 hover:to-pink-500/20 transition-all group\"\n                  >\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"p-2 rounded-lg bg-purple-500/20 group-hover:bg-purple-500/30 transition-all\">\n                        <ChevronRight size={16} className=\"text-purple-400 group-hover:translate-x-1 transition-transform\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-white\">{point.question}</p>\n                        {point.context && (\n                          <p className=\"text-slate-500 text-sm mt-1\">{point.context}</p>\n                        )}\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Contributing Sessions */}\n          {pageData?.contributing_sessions && pageData.contributing_sessions.length > 0 && (\n            <div className=\"bg-white/5 rounded-xl border border-white/10 p-4\">\n              <p className=\"text-sm text-slate-500\">\n                מקורות: {pageData.contributing_sessions.length} שיחות תרמו לדף זה\n                {pageData.version > 1 && ` • גרסה ${pageData.version}`}\n              </p>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default IntelligencePage;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M6 18h8', key: '1borvv' }],\n  ['path', { d: 'M3 22h18', key: '8prr45' }],\n  ['path', { d: 'M14 22a7 7 0 1 0 0-14h-1', key: '1jwaiy' }],\n  ['path', { d: 'M9 14h2', key: '197e7h' }],\n  ['path', { d: 'M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z', key: '1bmzmy' }],\n  ['path', { d: 'M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3', key: '1drr47' }],\n];\n\n/**\n * @component @name Microscope\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAxOGg4IiAvPgogIDxwYXRoIGQ9Ik0zIDIyaDE4IiAvPgogIDxwYXRoIGQ9Ik0xNCAyMmE3IDcgMCAxIDAgMC0xNGgtMSIgLz4KICA8cGF0aCBkPSJNOSAxNGgyIiAvPgogIDxwYXRoIGQ9Ik05IDEyYTIgMiAwIDAgMS0yLTJWNmg2djRhMiAyIDAgMCAxLTIgMloiIC8+CiAgPHBhdGggZD0iTTEyIDZWM2ExIDEgMCAwIDAtMS0xSDlhMSAxIDAgMCAwLTEgMXYzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/microscope\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Microscope = createLucideIcon('microscope', __iconNode);\n\nexport default Microscope;\n"],"names":["PAGE_CONFIG","intelligence","icon","_jsx","Brain","size","label","description","color","counsel","Scale","overview","FileSearch","strategy","Target","risk","AlertTriangle","forensic","Microscope","getSeverityColor","severity","getPriorityColor","priority","IntelligencePage","_ref","caseId","pageType","onNavigateToChat","pageData","setPageData","useState","loading","setLoading","error","setError","config","loadPageData","async","response","fetchWithAuth","concat","API_BASE_URL","ok","Error","data","json","err","console","useEffect","_jsxs","className","children","Loader2","AlertCircle","onClick","RefreshCw","hasContent","summary","key_findings","length","recommendations","updated_at","Clock","Date","toLocaleDateString","title","_Fragment","Lightbulb","CheckCircle2","map","finding","index","source","id","rec","action","ArrowRight","expansion_points","MessageSquare","point","prompt","suggestedPrompt","question","toast","info","slice","handleExpansionClick","ChevronRight","context","contributing_sessions","version","createLucideIcon","d","key"],"ignoreList":[],"sourceRoot":""}